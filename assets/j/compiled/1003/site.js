var a;
(function(b){function c(g,o){this.flashVersion=8;this.debugMode=true;this.debugFlash=false;this.useConsole=true;this.waitForWindowLoad=this.consoleOnly=false;this.nullURL="null.mp3";this.allowPolling=true;this.useMovieStar=this.useFastPolling=false;this.bgColor="#ffffff";this.useHighPerformance=false;this.flashLoadTimeout=1E3;this.wmode=null;this.allowFullScreen=true;this.allowScriptAccess="always";this.useFlashBlock=false;this.defaultOptions={autoLoad:false,stream:true,autoPlay:false,onid3:null,onload:null,
whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfinish:null,onbeforefinish:null,onbeforefinishtime:5E3,onbeforefinishcomplete:null,onjustbeforefinish:null,onjustbeforefinishtime:200,multiShot:true,multiShotEvents:false,position:null,pan:0,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={onmetadata:null,useVideo:false,bufferTime:2};var l,d=this,
s,r;this.version=null;this.versionNumber="V2.95b.20100323";this.movieURL=null;this.url=g||null;this.altURL=null;this.enabled=this.swfLoaded=false;this.o=null;this.movieID="sm2-container";this.id=o||"sm2movie";this.swfCSS={swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.oMC=null;this.sounds={};this.soundIDs=[];this.isFullScreen=this.muted=false;this.isIE=navigator.userAgent.match(/MSIE/i);
this.isSafari=navigator.userAgent.match(/safari/i);this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.didFlashBlock=this.specialWmodeCase=false;this._onready=[];this._debugOpen=true;this._windowLoaded=this._disabled=this._didInit=this._appendSuccess=this._didAppend=false;this._hasConsole=typeof console!=="undefined"&&typeof console.log!=="undefined";this._debugLevels=["log","info","warn","error"];this._defaultFlashVersion=8;this._oRemovedHTML=this._oRemoved=null;s=function(k){return document.getElementById(k)};
this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?\.*)?$/i,flash9:/\.mp3(\?\.*)?$/i};this.baseMimeTypes=/^audio\/(?:x-)?(?:mp(?:eg|3))\s*;?/i;this.netStreamMimeTypes=/^audio\/(?:x-)?(?:mp(?:eg|3)|mp4a-latm|aac|speex)\s*;?/i;this.netStreamTypes=["aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"];this.netStreamPattern=new RegExp("\\.("+this.netStreamTypes.join("|")+")(\\?.*)?$","i");this.mimePattern=d.baseMimeTypes;this.features={buffering:false,peakData:false,waveformData:false,eqData:false,
movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this._setVersionInfo=function(){if(d.flashVersion!==8&&d.flashVersion!==9){alert(d._str("badFV",d.flashVersion,d._defaultFlashVersion));d.flashVersion=d._defaultFlashVersion}d.version=
d.versionNumber+(d.flashVersion===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(d.flashVersion>8){d.defaultOptions=d._mergeObjects(d.defaultOptions,d.flash9Options);d.features.buffering=true}if(d.flashVersion>8&&d.useMovieStar){d.defaultOptions=d._mergeObjects(d.defaultOptions,d.movieStarOptions);d.filePatterns.flash9=new RegExp("\\.(mp3|"+d.netStreamTypes.join("|")+")(\\?.*)?$","i");d.mimePattern=d.netStreamMimeTypes;d.features.movieStar=true}else{d.useMovieStar=false;d.features.movieStar=false}d.filePattern=
d.filePatterns[d.flashVersion!==8?"flash9":"flash8"];d.movieURL=d.flashVersion===8?"soundmanager2.swf":"soundmanager2_flash9.swf";d.features.peakData=d.features.waveformData=d.features.eqData=d.flashVersion>8};this._overHTTP=document.location?document.location.protocol.match(/http/i):null;this._initPending=this._waitingforEI=false;this._tryInitOnFocus=this.isSafari&&typeof document.hasFocus==="undefined";this._isFocused=typeof document.hasFocus!=="undefined"?document.hasFocus():null;this._okToDisable=
!this._tryInitOnFocus;this.useAltURL=!this._overHTTP;this.strings={notReady:"Not loaded yet - wait for soundManager.onload() before calling sound-related methods",appXHTML:"soundManager_createMovie(): appendChild/innerHTML set failed. May be app/xhtml+xml DOM-related.",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+
document.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for focus-related event..",waitImpatient:"soundManager: Getting impatient, still waiting for Flash%s...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",needFunction:"soundManager.onready(): Function object expected",
badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',fl9Vid:"flash 9 required for video. Exiting.",noMS:"MovieStar mode not enabled. Exiting.",spcWmode:"soundManager._createMovie(): Removing wmode, preventing win32 below-the-fold SWF loading issue",currentObj:"--- soundManager._debug(): Current sound objects ---",waitEI:"soundManager._initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",
onload:"soundManager.initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",init:"-- soundManager.init() --",didInit:"soundManager.init(): Already called?",flashJS:"soundManager: Attempting to call Flash from JS..",noPolling:"soundManager: Polling (whileloading()/whileplaying() support) is disabled.",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",
badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager.onready(): Queueing handler",smFail:"soundManager: Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+d.swfCSS.swfTimedout+" CSS..",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",
badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.'};this._str=function(){var k=Array.prototype.slice.call(arguments),j=k.shift();j=d.strings&&d.strings[j]?d.strings[j]:"";var w,E;if(j&&k&&k.length){w=0;for(E=k.length;w<E;w++)j=j.replace("%s",k[w])}return j};this.supported=function(){return d._didInit&&!d._disabled};this.getMovie=function(k){return d.isIE?b[k]:d.isSafari?s(k)||document[k]:s(k)};this.loadFromXML=function(k){try{d.o._loadFromXML(k)}catch(j){d._failSafely();
return true}};this.createSound=function(k){var j=null;j=null;if(!d._didInit)throw d._complain("soundManager.createSound(): "+d._str("notReady"),arguments.callee.caller);if(arguments.length===2)k={id:arguments[0],url:arguments[1]};j=j=d._mergeObjects(k);j.id.toString().charAt(0).match(/^[0-9]$/)&&d._wD("soundManager.createSound(): "+d._str("badID",j.id),2);d._wD("soundManager.createSound(): "+j.id+" ("+j.url+")",1);if(d._idCheck(j.id,true)){d._wD("soundManager.createSound(): "+j.id+" exists",1);return d.sounds[j.id]}if(d.flashVersion>
8&&d.useMovieStar){if(j.isMovieStar===null)j.isMovieStar=j.url.match(d.netStreamPattern)?true:false;j.isMovieStar&&d._wD("soundManager.createSound(): using MovieStar handling");if(j.isMovieStar&&j.usePeakData){d._wDS("noPeak");j.usePeakData=false}}d.sounds[j.id]=new l(j);d.soundIDs[d.soundIDs.length]=j.id;d.flashVersion===8?d.o._createSound(j.id,j.onjustbeforefinishtime):d.o._createSound(j.id,j.url,j.onjustbeforefinishtime,j.usePeakData,j.useWaveformData,j.useEQData,j.isMovieStar,j.isMovieStar?j.useVideo:
false,j.isMovieStar?j.bufferTime:false);if(j.autoLoad||j.autoPlay)d.sounds[j.id]&&d.sounds[j.id].load(j);j.autoPlay&&d.sounds[j.id].play();return d.sounds[j.id]};this.createVideo=function(k){if(arguments.length===2)k={id:arguments[0],url:arguments[1]};if(d.flashVersion>=9){k.isMovieStar=true;k.useVideo=true}else{d._wD("soundManager.createVideo(): "+d._str("f9Vid"),2);return false}d.useMovieStar||d._wD("soundManager.createVideo(): "+d._str("noMS"),2);return d.createSound(k)};this.destroyVideo=this.destroySound=
function(k,j){if(!d._idCheck(k))return false;for(var w=0;w<d.soundIDs.length;w++)d.soundIDs[w]===k&&d.soundIDs.splice(w,1);d.sounds[k].unload();j||d.sounds[k].destruct();delete d.sounds[k]};this.load=function(k,j){if(!d._idCheck(k))return false;d.sounds[k].load(j)};this.unload=function(k){if(!d._idCheck(k))return false;d.sounds[k].unload()};this.start=this.play=function(k,j){if(!d._didInit)throw d._complain("soundManager.play(): "+d._str("notReady"),arguments.callee.caller);if(!d._idCheck(k)){j instanceof
Object||(j={url:j});if(j&&j.url){d._wD('soundManager.play(): attempting to create "'+k+'"',1);j.id=k;return d.createSound(j).play()}else return false}d.sounds[k].play(j)};this.setPosition=function(k,j){if(!d._idCheck(k))return false;d.sounds[k].setPosition(j)};this.stop=function(k){if(!d._idCheck(k))return false;d._wD("soundManager.stop("+k+")",1);d.sounds[k].stop()};this.stopAll=function(){d._wD("soundManager.stopAll()",1);for(var k in d.sounds)d.sounds[k]instanceof l&&d.sounds[k].stop()};this.pause=
function(k){if(!d._idCheck(k))return false;d.sounds[k].pause()};this.pauseAll=function(){for(var k=d.soundIDs.length;k--;)d.sounds[d.soundIDs[k]].pause()};this.resume=function(k){if(!d._idCheck(k))return false;d.sounds[k].resume()};this.resumeAll=function(){for(var k=d.soundIDs.length;k--;)d.sounds[d.soundIDs[k]].resume()};this.togglePause=function(k){if(!d._idCheck(k))return false;d.sounds[k].togglePause()};this.setPan=function(k,j){if(!d._idCheck(k))return false;d.sounds[k].setPan(j)};this.setVolume=
function(k,j){if(!d._idCheck(k))return false;d.sounds[k].setVolume(j)};this.mute=function(k){var j=0;if(typeof k!=="string")k=null;if(k){if(!d._idCheck(k))return false;d._wD('soundManager.mute(): Muting "'+k+'"');d.sounds[k].mute()}else{d._wD("soundManager.mute(): Muting all sounds");for(j=d.soundIDs.length;j--;)d.sounds[d.soundIDs[j]].mute();d.muted=true}};this.muteAll=function(){d.mute()};this.unmute=function(k){if(typeof k!=="string")k=null;if(k){if(!d._idCheck(k))return false;d._wD('soundManager.unmute(): Unmuting "'+
k+'"');d.sounds[k].unmute()}else{d._wD("soundManager.unmute(): Unmuting all sounds");for(k=d.soundIDs.length;k--;)d.sounds[d.soundIDs[k]].unmute();d.muted=false}};this.unmuteAll=function(){d.unmute()};this.toggleMute=function(k){if(!d._idCheck(k))return false;d.sounds[k].toggleMute()};this.getMemoryUse=function(){if(d.flashVersion===8)return 0;if(d.o)return parseInt(d.o._getMemoryUse(),10)};this.disable=function(k){if(typeof k==="undefined")k=false;if(d._disabled)return false;d._disabled=true;d._wDS("shutdown",
1);for(var j=d.soundIDs.length;j--;)d._disableObject(d.sounds[d.soundIDs[j]]);d.initComplete(k)};this.canPlayMIME=function(k){return k?k.match(d.mimePattern)?true:false:null};this.canPlayURL=function(k){return k?k.match(d.filePattern)?true:false:null};this.canPlayLink=function(k){if(typeof k.type!=="undefined"&&k.type)if(d.canPlayMIME(k.type))return true;return d.canPlayURL(k.href)};this.getSoundById=function(k,j){if(!k)throw new Error("SoundManager.getSoundById(): sID is null/undefined");var w=d.sounds[k];
!w&&!j&&d._wD('"'+k+'" is an invalid sound ID.',2);return w};this.onready=function(k,j){if(k&&k instanceof Function){d._didInit&&d._wDS("queue");j||(j=b);d._addOnReady(k,j);d._processOnReady();return true}else throw d._str("needFunction");};this.oninitmovie=function(){};this.onload=function(){d._wD("soundManager.onload()",1)};this.onerror=function(){};this._idCheck=this.getSoundById;this._complain=function(k,j){if(!j)return new Error("Error: "+k);typeof console!=="undefined"&&typeof console.trace!==
"undefined"&&console.trace();k="Error: "+k+". \nCaller: "+j.toString();return new Error(k)};r=function(){return false};r._protected=true;this._disableObject=function(k){for(var j in k)if(typeof k[j]==="function"&&typeof k[j]._protected==="undefined")k[j]=r};this._failSafely=function(k){if(typeof k==="undefined")k=false;if(!d._disabled||k){d._wDS("smFail",2);d.disable(k)}};this._normalizeMovieURL=function(k){var j=null;if(k)if(k.match(/\.swf(\?\.*)?$/i)){if(j=k.substr(k.toLowerCase().lastIndexOf(".swf?")+
4))return k}else if(k.lastIndexOf("/")!==k.length-1)k+="/";return(k&&k.lastIndexOf("/")!==-1?k.substr(0,k.lastIndexOf("/")+1):"./")+d.movieURL};this._getDocument=function(){return document.body?document.body:document.documentElement?document.documentElement:document.getElementsByTagName("div")[0]};this._getDocument._protected=true;this._setPolling=function(k,j){if(!d.o||!d.allowPolling)return false;d.o._setPolling(k,j)};this._createMovie=function(k,j){var w=null;j=j?j:d.url;var E=d.altURL?d.altURL:
j,B,F,K,i,ha;if(d.debugURLParam.test(b.location.href.toString()))d.debugMode=true;if(d._didAppend&&d._appendSuccess)return false;d._didAppend=true;d._setVersionInfo();d.url=d._normalizeMovieURL(d._overHTTP?j:E);j=d.url;if(d.useHighPerformance&&d.useMovieStar&&d.defaultOptions.useVideo===true){w="soundManager note: disabling highPerformance, not applicable with movieStar mode+useVideo";d.useHighPerformance=false}d.wmode=!d.wmode&&d.useHighPerformance&&!d.useMovieStar?"transparent":d.wmode;if(d.wmode!==
null&&!d.isIE&&!d.useHighPerformance&&navigator.platform.match(/win32/i)){d.specialWmodeCase=true;d._wDS("spcWmode");d.wmode=null}if(d.flashVersion===8)d.allowFullScreen=false;B={name:k,id:k,src:j,width:"100%",height:"100%",quality:"high",allowScriptAccess:d.allowScriptAccess,bgcolor:d.bgColor,pluginspage:"http://www.macromedia.com/go/getflashplayer",type:"application/x-shockwave-flash",wmode:d.wmode,allowfullscreen:d.allowFullScreen?"true":"false"};if(d.debugFlash)B.FlashVars="debug=1";d.wmode||
delete B.wmode;if(d.isIE){E=document.createElement("div");K='<object id="'+k+'" data="'+j+'" type="'+B.type+'" width="'+B.width+'" height="'+B.height+'"><param name="movie" value="'+j+'" /><param name="AllowScriptAccess" value="'+d.allowScriptAccess+'" /><param name="quality" value="'+B.quality+'" />'+(d.wmode?'<param name="wmode" value="'+d.wmode+'" /> ':"")+'<param name="bgcolor" value="'+d.bgColor+'" /><param name="allowFullScreen" value="'+B.allowFullScreen+'" />'+(d.debugFlash?'<param name="FlashVars" value="'+
B.FlashVars+'" />':"")+"<!-- --\></object>"}else{E=document.createElement("embed");for(F in B)B.hasOwnProperty(F)&&E.setAttribute(F,B[F])}if(d.debugMode){i=document.createElement("div");i.id=d.debugID+"-toggle";k={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};i.appendChild(document.createTextNode("-"));i.onclick=d._toggleDebug;i.title="Toggle SM2 debug console";
if(navigator.userAgent.match(/msie 6/i)){i.style.position="absolute";i.style.cursor="hand"}for(F in k)if(k.hasOwnProperty(F))i.style[F]=k[F]}k=d.getSWFCSS();if(F=d._getDocument()){d.oMC=s(d.movieID)?s(d.movieID):document.createElement("div");if(d.oMC.id){B=d.oMC.className;d.oMC.className=(B?B+" ":d.swfCSS.swfDefault)+(k?" "+k:"");d.oMC.appendChild(E);if(d.isIE){k=d.oMC.appendChild(document.createElement("div"));k.className="sm2-object-box";k.innerHTML=K}d._appendSuccess=true}else{d.oMC.id=d.movieID;
d.oMC.className=d.swfCSS.swfDefault+" "+k;k=B=null;d.useFlashBlock||(B=d.useHighPerformance?{position:"fixed",width:"6px",height:"6px",bottom:"0px",left:"0px",overflow:"hidden"}:{position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"});ha=null;if(!d.debugFlash)for(ha in B)if(B.hasOwnProperty(ha))d.oMC.style[ha]=B[ha];try{d.isIE||d.oMC.appendChild(E);F.appendChild(d.oMC);if(d.isIE){k=d.oMC.appendChild(document.createElement("div"));k.className="sm2-object-box";k.innerHTML=K}d._appendSuccess=
true}catch(ja){throw new Error(d._str("appXHTML"));}}if(d.debugMode&&!s(d.debugID)&&(!d._hasConsole||!d.useConsole||d.useConsole&&d._hasConsole&&!d.consoleOnly)){K=document.createElement("div");K.id=d.debugID;K.style.display=d.debugMode?"block":"none";if(d.debugMode&&!s(i.id)){try{F.appendChild(i)}catch(N){throw new Error(d._str("appXHTML"));}F.appendChild(K)}}}w&&d._wD(w);d._wD("-- SoundManager 2 "+d.version+(d.useMovieStar?", MovieStar mode":"")+(d.useHighPerformance?", high performance mode, ":
", ")+((d.useFastPolling?"fast":"normal")+" polling")+(d.wmode?", wmode: "+d.wmode:"")+(d.debugFlash?", flash debug mode":"")+(d.useFlashBlock?", flashBlock mode":"")+" --",1);d._wD("soundManager._createMovie(): Trying to load "+j+(!d._overHTTP&&d.altURL?" (alternate URL)":""),1)};this._writeDebug=function(k,j,w){var E,B;if(!d.debugMode)return false;if(typeof w!=="undefined"&&w)k=k+" | "+(new Date).getTime();if(d._hasConsole&&d.useConsole){w=d._debugLevels[j];typeof console[w]!=="undefined"?console[w](k):
console.log(k);if(d.useConsoleOnly)return true}try{E=s("soundmanager-debug");if(!E)return false;B=document.createElement("div");if(++d._wdCount%2===0)B.className="sm2-alt";j=typeof j==="undefined"?0:parseInt(j,10);B.appendChild(document.createTextNode(k));if(j){if(j>=2)B.style.fontWeight="bold";if(j===3)B.style.color="#ff3333"}E.insertBefore(B,E.firstChild)}catch(F){}};this._writeDebug._protected=true;this._wdCount=0;this._wdCount._protected=true;this._wD=this._writeDebug;this._wDS=function(k,j){return k?
d._wD(d._str(k),j):""};this._wDS._protected=true;this._wDAlert=function(k){alert(k)};if(b.location.href.indexOf("debug=alert")+1&&d.debugMode)d._wD=d._wDAlert;this._toggleDebug=function(){var k=s(d.debugID),j=s(d.debugID+"-toggle");if(!k)return false;if(d._debugOpen){j.innerHTML="+";k.style.display="none"}else{j.innerHTML="-";k.style.display="block"}d._debugOpen=!d._debugOpen};this._toggleDebug._protected=true;this._debug=function(){d._wDS("currentObj",1);for(var k=0,j=d.soundIDs.length;k<j;k++)d.sounds[d.soundIDs[k]]._debug()};
this._debugTS=function(k,j,w){if(typeof sm2Debugger!=="undefined")try{sm2Debugger.handleEvent(k,j,w)}catch(E){}};this._debugTS._protected=true;this._mergeObjects=function(k,j){var w={},E,B;for(E in k)if(k.hasOwnProperty(E))w[E]=k[E];k=typeof j==="undefined"?d.defaultOptions:j;for(B in k)if(k.hasOwnProperty(B)&&typeof w[B]==="undefined")w[B]=k[B];return w};this.go=this.createMovie=function(k){if(k)d.url=k;d._initMovie()};this._initMovie=function(){if(d.o)return false;d.o=d.getMovie(d.id);if(!d.o){if(d.oRemoved){if(d.isIE)d.oMC.innerHTML=
d.oRemovedHTML;else d.oMC.appendChild(d.oRemoved);d.oRemoved=null;d._didAppend=true}else d._createMovie(d.id,d.url);d.o=d.getMovie(d.id)}if(d.o){d._wD("soundManager._initMovie(): Got "+d.o.nodeName+" element ("+(d._didAppend?"created via JS":"static HTML")+")",1);d._wDS("waitEI")}typeof d.oninitmovie==="function"&&setTimeout(d.oninitmovie,1)};this.waitForExternalInterface=function(){if(d._waitingForEI)return false;d._waitingForEI=true;if(d._tryInitOnFocus&&!d._isFocused){d._wDS("waitFocus");return false}var k;
if(!d._didInit){k=d.getMoviePercent();d._wD(d._str("waitImpatient",k===100?" (SWF loaded)":k>0?" (SWF "+k+"% loaded)":""))}setTimeout(function(){k=d.getMoviePercent();if(!d._didInit){d._wD("soundManager: No Flash response within expected time.\nLikely causes: "+(k===0?"Loading "+d.movieURL+" may have failed (and/or Flash "+d.flashVersion+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(d.debugFlash?" "+d._str("checkSWF"):""),2);if(!d._overHTTP&&k){d._wDS("localFail",2);d.debugFlash||
d._wDS("tryDebug",2)}k===0&&d._wD(d._str("swf404",d.url));d._debugTS("flashtojs",false,": Timed out"+d._overHTTP?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!d._didInit&&d._okToDisable)if(k)d.flashLoadTimeout===0?d._wDS("waitForever"):d._failSafely(true);else if(d.useFlashBlock||d.flashLoadTimeout===0){d.useFlashBlock&&d.flashBlockHandler();d._wDS("waitForever")}else d._failSafely(true)},d.flashLoadTimeout)};this.getSWFCSS=function(){var k=[];d.debugMode&&k.push(d.swfCSS.sm2Debug);
d.debugFlash&&k.push(d.swfCSS.flashDebug);d.useHighPerformance&&k.push(d.swfCSS.highPerf);return k.join(" ")};this.flashBlockHandler=function(){var k=d.getMoviePercent();d._wD("soundManager.flashBlockHandler()");if(d.supported())d.oMC.className=d.getSWFCSS()+" "+d.swfCSS.swfDefault+(" "+d.swfCSS.swfUnblocked);else{d.oMC.className=d.getSWFCSS()+" "+d.swfCSS.swfDefault+" "+(!k?d.swfCSS.swfTimedout:d.swfCSS.swfError);k||d._wD("soundManager.flashBlockHandler(): "+d.strings.fbTimeout);d._processOnReady(true);
d.onerror instanceof Function&&d.onerror.apply(b);d.didFlashBlock=true}};this.getMoviePercent=function(){return d.o&&typeof d.o.PercentLoaded!=="undefined"?d.o.PercentLoaded():null};this.handleFocus=function(){if(d._isFocused||!d._tryInitOnFocus)return true;d._okToDisable=true;d._isFocused=true;d._wD("soundManager.handleFocus()");d._tryInitOnFocus&&b.removeEventListener("mousemove",d.handleFocus,false);d._waitingForEI=false;setTimeout(d.waitForExternalInterface,500);if(b.removeEventListener)b.removeEventListener("focus",
d.handleFocus,false);else b.detachEvent&&b.detachEvent("onfocus",d.handleFocus)};this.initComplete=function(k){if(d._didInit)return false;if(!(d.useFlashBlock&&d.flashLoadTimeout&&!d.getMoviePercent()))d._didInit=true;d._wD("-- SoundManager 2 "+(d._disabled?"failed to load":"loaded")+" ("+(d._disabled?"security/load error":"OK")+") --",1);if(d._disabled||k){if(d.useFlashBlock)d.oMC.className=d.getSWFCSS()+" "+(!d.getMoviePercent()?d.swfCSS.swfTimedout:d.swfCSS.swfError);d._processOnReady();d._debugTS("onload",
false);d.onerror instanceof Function&&d.onerror.apply(b);return false}else d._debugTS("onload",true);if(d.waitForWindowLoad&&!d._windowLoaded){d._wDS("waitOnload");if(b.addEventListener)b.addEventListener("load",d._initUserOnload,false);else b.attachEvent&&b.attachEvent("onload",d._initUserOnload);return false}else{d.waitForWindowLoad&&d._windowLoaded&&d._wDS("docLoaded");d._initUserOnload()}};this._addOnReady=function(k,j){d._onready.push({method:k,scope:j||null,fired:false})};this._processOnReady=
function(k){if(!d._didInit&&!k)return false;k={success:k?d.supported():!d._disabled};var j=[],w,E,B=!d.useFlashBlock||d.useFlashBlock&&!d.supported();w=0;for(E=d._onready.length;w<E;w++)d._onready[w].fired!==true&&j.push(d._onready[w]);if(j.length){d._wD("soundManager: Firing "+j.length+" onready() item"+(j.length>1?"s":""));w=0;for(E=j.length;w<E;w++){j[w].scope?j[w].method.apply(j[w].scope,[k]):j[w].method(k);if(!B)j[w].fired=true}}};this._initUserOnload=function(){b.setTimeout(function(){d.useFlashBlock&&
d.flashBlockHandler();d._processOnReady();d._wDS("onload",1);d.onload.apply(b);d._wDS("onloadOK",1)})};this.init=function(){d._wDS("init");d._initMovie();if(d._didInit){d._wDS("didInit");return false}if(b.removeEventListener)b.removeEventListener("load",d.beginDelayedInit,false);else b.detachEvent&&b.detachEvent("onload",d.beginDelayedInit);try{d._wDS("flashJS");d.o._externalInterfaceTest(false);d.allowPolling?d._setPolling(true,d.useFastPolling?true:false):d._wDS("noPolling",1);d.debugMode||d.o._disableDebug();
d.enabled=true;d._debugTS("jstoflash",true)}catch(k){d._wD("js/flash exception: "+k.toString());d._debugTS("jstoflash",false);d._failSafely(true);d.initComplete();return false}d.initComplete()};this.beginDelayedInit=function(){d._windowLoaded=true;setTimeout(d.waitForExternalInterface,500);setTimeout(d.beginInit,20)};this.beginInit=function(){if(d._initPending)return false;d.createMovie();d._initMovie();return d._initPending=true};this.domContentLoaded=function(){document.removeEventListener&&document.removeEventListener("DOMContentLoaded",
d.domContentLoaded,false);d.go()};this._externalInterfaceOK=function(k){if(d.swfLoaded)return false;var j=(new Date).getTime();d._wD("soundManager._externalInterfaceOK()"+(k?" (~"+(j-k)+" ms)":""));d._debugTS("swf",true);d._debugTS("flashtojs",true);d.swfLoaded=true;d._tryInitOnFocus=false;d.isIE?setTimeout(d.init,100):d.init()};this._setSandboxType=function(k){var j=d.sandbox;j.type=k;j.description=j.types[typeof j.types[k]!=="undefined"?k:"unknown"];d._wD("Flash security sandbox type: "+j.type);
if(j.type==="localWithFile"){j.noRemote=true;j.noLocal=false;d._wDS("secNote",2)}else if(j.type==="localWithNetwork"){j.noRemote=false;j.noLocal=true}else if(j.type==="localTrusted"){j.noRemote=false;j.noLocal=false}};this.reboot=function(){d._wD("soundManager.reboot()");d.soundIDs.length&&d._wD("Destroying "+d.soundIDs.length+" SMSound objects...");for(var k=d.soundIDs.length;k--;)d.sounds[d.soundIDs[k]].destruct();try{if(d.isIE)d.oRemovedHTML=d.o.innerHTML;d.oRemoved=d.o.parentNode.removeChild(d.o);
d._wD("Flash movie removed.")}catch(j){d._wDS("badRemove",2)}d.oRemovedHTML=null;d.oRemoved=null;d.enabled=false;d._didInit=false;f._waitingForEI=false;d._initPending=false;d._didAppend=false;d._appendSuccess=false;d._disabled=false;d.swfLoaded=false;d.soundIDs={};d.sounds=[];d.o=null;for(k=d._onready.length;k--;)d._onready[k].fired=false;d._wD("soundManager: Rebooting...");b.setTimeout(f.beginDelayedInit,20)};this.destruct=function(){d._wD("soundManager.destruct()");d.disable(true)};l=function(k){var j=
this;this.sID=k.id;this.url=k.url;this._iO=this.instanceOptions=this.options=d._mergeObjects(k);this.pan=this.options.pan;this.volume=this.options.volume;this._lastURL=null;this._debug=function(){if(d.debugMode){var w=null,E=[],B,F;for(w in j.options)if(j.options[w]!==null)if(j.options[w]instanceof Function){B=j.options[w].toString();B=B.replace(/\s\s+/g," ");F=B.indexOf("{");E[E.length]=" "+w+": {"+B.substr(F+1,Math.min(Math.max(B.indexOf("\n")-1,64),64)).replace(/\n/g,"")+"... }"}else E[E.length]=
" "+w+": "+j.options[w];d._wD("SMSound() merged options: {\n"+E.join(", \n")+"\n}")}};this._debug();this.id3={};this.resetProperties=function(){j.bytesLoaded=null;j.bytesTotal=null;j.position=null;j.duration=null;j.durationEstimate=null;j.loaded=false;j.playState=0;j.paused=false;j.readyState=0;j.muted=false;j.didBeforeFinish=false;j.didJustBeforeFinish=false;j.isBuffering=false;j.instanceOptions={};j.instanceCount=0;j.peakData={left:0,right:0};j.waveformData={left:[],right:[]};j.eqData=[];j.eqData.left=
[];j.eqData.right=[]};j.resetProperties();this.load=function(w){if(typeof w!=="undefined"){j._iO=d._mergeObjects(w);j.instanceOptions=j._iO}else{w=j.options;j._iO=w;j.instanceOptions=j._iO;if(j._lastURL&&j._lastURL!==j.url){d._wDS("manURL");j._iO.url=j.url;j.url=null}}if(typeof j._iO.url==="undefined")j._iO.url=j.url;d._wD("soundManager.load(): "+j._iO.url,1);if(j._iO.url===j.url&&j.readyState!==0&&j.readyState!==2){d._wDS("onURL",1);return false}j.url=j._iO.url;j._lastURL=j._iO.url;j.loaded=false;
j.readyState=1;j.playState=0;try{if(d.flashVersion===8)d.o._load(j.sID,j._iO.url,j._iO.stream,j._iO.autoPlay,j._iO.whileloading?1:0);else{d.o._load(j.sID,j._iO.url,j._iO.stream?true:false,j._iO.autoPlay?true:false);j._iO.isMovieStar&&j._iO.autoLoad&&!j._iO.autoPlay&&j.pause()}}catch(E){d._wDS("smError",2);d._debugTS("onload",false);d.onerror();d.disable()}};this.unload=function(){if(j.readyState!==0){d._wD('SMSound.unload(): "'+j.sID+'"');j.readyState!==2&&j.setPosition(0,true);d.o._unload(j.sID,
d.nullURL);j.resetProperties()}};this.destruct=function(){d._wD('SMSound.destruct(): "'+j.sID+'"');d.o._destroySound(j.sID);d.destroySound(j.sID,true)};this.start=this.play=function(w){w||(w={});j._iO=d._mergeObjects(w,j._iO);j._iO=d._mergeObjects(j._iO,j.options);j.instanceOptions=j._iO;if(j.playState===1)if(w=j._iO.multiShot)d._wD('SMSound.play(): "'+j.sID+'" already playing (multi-shot)',1);else{d._wD('SMSound.play(): "'+j.sID+'" already playing (one-shot)',1);return false}if(j.loaded)d._wD('SMSound.play(): "'+
j.sID+'"');else if(j.readyState===0){d._wD('SMSound.play(): Attempting to load "'+j.sID+'"',1);j._iO.autoPlay=true;j.load(j._iO)}else if(j.readyState===2){d._wD('SMSound.play(): Could not load "'+j.sID+'" - exiting',2);return false}else d._wD('SMSound.play(): "'+j.sID+'" is loading - attempting to play..',1);if(j.paused)j.resume();else{j.playState=1;if(!j.instanceCount||d.flashVersion>8)j.instanceCount++;j.position=typeof j._iO.position!=="undefined"&&!isNaN(j._iO.position)?j._iO.position:0;j._iO.onplay&&
j._iO.onplay.apply(j);j.setVolume(j._iO.volume,true);j.setPan(j._iO.pan,true);d.o._start(j.sID,j._iO.loop||1,d.flashVersion===9?j.position:j.position/1E3)}};this.stop=function(w){if(j.playState===1){j.playState=0;j.paused=false;j._iO.onstop&&j._iO.onstop.apply(j);d.o._stop(j.sID,w);j.instanceCount=0;j._iO={}}};this.setPosition=function(w){if(typeof w==="undefined")w=0;w=Math.min(j.duration,Math.max(w,0));j._iO.position=w;d.o._setPosition(j.sID,d.flashVersion===9?j._iO.position:j._iO.position/1E3,
j.paused||!j.playState)};this.pause=function(){if(j.paused||j.playState===0)return false;d._wD("SMSound.pause()");j.paused=true;d.o._pause(j.sID);j._iO.onpause&&j._iO.onpause.apply(j)};this.resume=function(){if(!j.paused||j.playState===0)return false;d._wD("SMSound.resume()");j.paused=false;d.o._pause(j.sID);j._iO.onresume&&j._iO.onresume.apply(j)};this.togglePause=function(){d._wD("SMSound.togglePause()");if(j.playState===0){j.play({position:d.flashVersion===9?j.position:j.position/1E3});return false}j.paused?
j.resume():j.pause()};this.setPan=function(w,E){if(typeof w==="undefined")w=0;if(typeof E==="undefined")E=false;d.o._setPan(j.sID,w);j._iO.pan=w;if(!E)j.pan=w};this.setVolume=function(w,E){if(typeof w==="undefined")w=100;if(typeof E==="undefined")E=false;d.o._setVolume(j.sID,d.muted&&!j.muted||j.muted?0:w);j._iO.volume=w;if(!E)j.volume=w};this.mute=function(){j.muted=true;d.o._setVolume(j.sID,0)};this.unmute=function(){j.muted=false;d.o._setVolume(j.sID,typeof j._iO.volume!=="undefined"?j._iO.volume:
j.options.volume)};this.toggleMute=function(){j.muted?j.unmute():j.mute()};this._whileloading=function(w,E,B){if(j._iO.isMovieStar){j.bytesLoaded=w;j.bytesTotal=E;j.duration=Math.floor(B);j.durationEstimate=j.duration}else{j.bytesLoaded=w;j.bytesTotal=E;j.duration=Math.floor(B);j.durationEstimate=parseInt(j.bytesTotal/j.bytesLoaded*j.duration,10);if(j.durationEstimate===undefined)j.durationEstimate=j.duration}j.readyState!==3&&j._iO.whileloading&&j._iO.whileloading.apply(j)};this._onid3=function(w,
E){d._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.');var B=[],F,K;F=0;for(K=w.length;F<K;F++)B[w[F]]=E[F];j.id3=d._mergeObjects(j.id3,B);j._iO.onid3&&j._iO.onid3.apply(j)};this._whileplaying=function(w,E,B,F,K){if(isNaN(w)||w===null)return false;if(j.playState===0&&w>0)w=0;j.position=w;if(d.flashVersion>8){if(j._iO.usePeakData&&typeof E!=="undefined"&&E)j.peakData={left:E.leftPeak,right:E.rightPeak};if(j._iO.useWaveformData&&typeof B!=="undefined"&&B)j.waveformData={left:B.split(","),right:F.split(",")};
if(j._iO.useEQData)if(typeof K!=="undefined"&&K.leftEQ){w=K.leftEQ.split(",");j.eqData=w;j.eqData.left=w;if(typeof K.rightEQ!=="undefined"&&K.rightEQ)j.eqData.right=K.rightEQ.split(",")}}if(j.playState===1){j.isBuffering&&j._onbufferchange(0);j._iO.whileplaying&&j._iO.whileplaying.apply(j);if(j.loaded&&j._iO.onbeforefinish&&j._iO.onbeforefinishtime&&!j.didBeforeFinish&&j.duration-j.position<=j._iO.onbeforefinishtime){d._wD("duration-position &lt;= onbeforefinishtime: "+j.duration+" - "+j.position+
" &lt= "+j._iO.onbeforefinishtime+" ("+(j.duration-j.position)+")");j._onbeforefinish()}}};this._onload=function(w){w=w===1?true:false;d._wD('SMSound._onload(): "'+j.sID+'"'+(w?" loaded.":" failed to load? - "+j.url),w?1:2);if(!w){d.sandbox.noRemote===true&&d._wD("SMSound._onload(): "+d._str("noNet"),1);d.sandbox.noLocal===true&&d._wD("SMSound._onload(): "+d._str("noLocal"),1)}j.loaded=w;j.readyState=w?3:2;j._iO.onload&&j._iO.onload.apply(j)};this._onbeforefinish=function(){if(!j.didBeforeFinish){j.didBeforeFinish=
true;if(j._iO.onbeforefinish){d._wD('SMSound._onbeforefinish(): "'+j.sID+'"');j._iO.onbeforefinish.apply(j)}}};this._onjustbeforefinish=function(){if(!j.didJustBeforeFinish){j.didJustBeforeFinish=true;if(j._iO.onjustbeforefinish){d._wD('SMSound._onjustbeforefinish(): "'+j.sID+'"');j._iO.onjustbeforefinish.apply(j)}}};this._onfinish=function(){j._iO.onbeforefinishcomplete&&j._iO.onbeforefinishcomplete.apply(j);j.didBeforeFinish=false;j.didJustBeforeFinish=false;if(j.instanceCount){j.instanceCount--;
if(!j.instanceCount){j.playState=0;j.paused=false;j.instanceCount=0;j.instanceOptions={}}if(!j.instanceCount||j._iO.multiShotEvents)if(j._iO.onfinish){d._wD('SMSound._onfinish(): "'+j.sID+'"');j._iO.onfinish.apply(j)}}};this._onmetadata=function(w){d._wD("SMSound.onmetadata()");if(!w.width&&!w.height){d._wDS("noWH");w.width=320;w.height=240}j.metadata=w;j.width=w.width;j.height=w.height;if(j._iO.onmetadata){d._wD('SMSound.onmetadata(): "'+j.sID+'"');j._iO.onmetadata.apply(j)}d._wD("SMSound.onmetadata() complete")};
this._onbufferchange=function(w){if(j.playState===0)return false;if(w===j.isBuffering){d._wD("SMSound._onbufferchange(): ignoring false default / loaded sound");return false}j.isBuffering=w===1?true:false;if(j._iO.onbufferchange){d._wD("SMSound._onbufferchange(): "+w);j._iO.onbufferchange.apply(j)}};this._ondataerror=function(w){if(j.playState>0){d._wD("SMSound._ondataerror(): "+w);j._iO.ondataerror&&j._iO.ondataerror.apply(j)}}};this._onfullscreenchange=function(k){d._wD("onfullscreenchange(): "+
k);d.isFullScreen=k===1?true:false;if(!d.isFullScreen)try{b.focus();d._wD("window.focus()")}catch(j){}};if(b.addEventListener){b.addEventListener("focus",d.handleFocus,false);b.addEventListener("load",d.beginDelayedInit,false);b.addEventListener("unload",d.destruct,false);d._tryInitOnFocus&&b.addEventListener("mousemove",d.handleFocus,false)}else if(b.attachEvent){b.attachEvent("onfocus",d.handleFocus);b.attachEvent("onload",d.beginDelayedInit);b.attachEvent("unload",d.destruct)}else{d._debugTS("onload",
false);f.onerror();f.disable()}document.addEventListener&&document.addEventListener("DOMContentLoaded",d.domContentLoaded,false)}var f=null;b.SoundManager=c;b.soundManager=f})(window);(function(b,c){function f(){if(!i.isReady){try{N.documentElement.doScroll("left")}catch(e){setTimeout(f,1);return}i.ready()}}function g(e,h){h.src?i.ajax({url:h.src,async:false,dataType:"script"}):i.globalEval(h.text||h.textContent||h.innerHTML||"");h.parentNode&&h.parentNode.removeChild(h)}function o(e,h,m,q,p,y){var z=e.length;if(typeof h==="object"){for(var J in h)o(e,J,h[J],q,p,m);return e}if(m!==c){q=!y&&q&&i.isFunction(m);for(J=0;J<z;J++)p(e[J],h,q?m.call(e[J],J,p(e[J],h)):m,y);return e}return z?
p(e[0],h):c}function l(){return(new Date).getTime()}function d(){return false}function s(){return true}function r(e,h,m){m[0].type=e;return i.event.handle.apply(h,m)}function k(e){var h,m=[],q=[],p=arguments,y,z,J,C,I,P;z=i.data(this,"events");if(!(e.liveFired===this||!z||!z.live||e.button&&e.type==="click")){e.liveFired=this;var U=z.live.slice(0);for(C=0;C<U.length;C++){z=U[C];z.origType.replace(O,"")===e.type?q.push(z.selector):U.splice(C--,1)}y=i(e.target).closest(q,e.currentTarget);I=0;for(P=
y.length;I<P;I++)for(C=0;C<U.length;C++){z=U[C];if(y[I].selector===z.selector){J=y[I].elem;q=null;if(z.preType==="mouseenter"||z.preType==="mouseleave")q=i(e.relatedTarget).closest(z.selector)[0];if(!q||q!==J)m.push({elem:J,handleObj:z})}}I=0;for(P=m.length;I<P;I++){y=m[I];e.currentTarget=y.elem;e.data=y.handleObj.data;e.handleObj=y.handleObj;if(y.handleObj.origHandler.apply(y.elem,p)===false){h=false;break}}return h}}function j(e,h){return"live."+(e&&e!=="*"?e+".":"")+h.replace(/\./g,"`").replace(/ /g,
"&")}function w(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function E(e,h){var m=0;h.each(function(){if(this.nodeName===(e[m]&&e[m].nodeName)){var q=i.data(e[m++]),p=i.data(this,q);if(q=q&&q.events){delete p.handle;p.events={};for(var y in q)for(var z in q[y])i.event.add(this,y,q[y][z],q[y][z].data)}}})}function B(e,h,m){var q,p,y;h=h&&h[0]?h[0].ownerDocument||h[0]:N;if(e.length===1&&typeof e[0]==="string"&&e[0].length<512&&h===N&&!ab.test(e[0])&&(i.support.checkClone||!bb.test(e[0]))){p=
true;if(y=i.fragments[e[0]])if(y!==1)q=y}if(!q){q=h.createDocumentFragment();i.clean(e,h,q,m)}if(p)i.fragments[e[0]]=y?q:1;return{fragment:q,cacheable:p}}function F(e,h){var m={};i.each(cb.concat.apply([],cb.slice(0,h)),function(){m[this]=e});return m}function K(e){return"scrollTo"in e&&e.document?e:e.nodeType===9?e.defaultView||e.parentWindow:false}var i=function(e,h){return new i.fn.init(e,h)},ha=b.jQuery,ja=b.$,N=b.document,pa,Pa=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,da=/^.[^:#\[\.,]*$/,sa=/\S/,
Ga=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,Qa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ia=navigator.userAgent,Z=false,ka=[],xa,ya=Object.prototype.toString,qa=Object.prototype.hasOwnProperty,za=Array.prototype.push,ra=Array.prototype.slice,Aa=Array.prototype.indexOf;i.fn=i.prototype={init:function(e,h){var m,q;if(!e)return this;if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(e==="body"&&!h){this.context=N;this[0]=N.body;this.selector="body";this.length=1;return this}if(typeof e==="string")if((m=Pa.exec(e))&&
(m[1]||!h))if(m[1]){q=h?h.ownerDocument||h:N;if(e=Qa.exec(e))if(i.isPlainObject(h)){e=[N.createElement(e[1])];i.fn.attr.call(e,h,true)}else e=[q.createElement(e[1])];else{e=B([m[1]],[q]);e=(e.cacheable?e.fragment.cloneNode(true):e.fragment).childNodes}return i.merge(this,e)}else{if(h=N.getElementById(m[2])){if(h.id!==m[2])return pa.find(e);this.length=1;this[0]=h}this.context=N;this.selector=e;return this}else if(!h&&/^\w+$/.test(e)){this.selector=e;this.context=N;e=N.getElementsByTagName(e);return i.merge(this,
e)}else return!h||h.jquery?(h||pa).find(e):i(h).find(e);else if(i.isFunction(e))return pa.ready(e);if(e.selector!==c){this.selector=e.selector;this.context=e.context}return i.makeArray(e,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return ra.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this.slice(e)[0]:this[e]},pushStack:function(e,h,m){var q=i();i.isArray(e)?za.apply(q,e):i.merge(q,e);q.prevObject=this;q.context=this.context;
if(h==="find")q.selector=this.selector+(this.selector?" ":"")+m;else if(h)q.selector=this.selector+"."+h+"("+m+")";return q},each:function(e,h){return i.each(this,e,h)},ready:function(e){i.bindReady();if(i.isReady)e.call(N,i);else ka&&ka.push(e);return this},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ra.apply(this,arguments),"slice",ra.call(arguments).join(","))},map:function(e){return this.pushStack(i.map(this,
function(h,m){return e.call(h,m,h)}))},end:function(){return this.prevObject||i(null)},push:za,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var e=arguments[0]||{},h=1,m=arguments.length,q=false,p,y,z,J;if(typeof e==="boolean"){q=e;e=arguments[1]||{};h=2}if(typeof e!=="object"&&!i.isFunction(e))e={};if(m===h){e=this;--h}for(;h<m;h++)if((p=arguments[h])!=null)for(y in p){z=e[y];J=p[y];if(e!==J)if(q&&J&&(i.isPlainObject(J)||i.isArray(J))){z=z&&(i.isPlainObject(z)||
i.isArray(z))?z:i.isArray(J)?[]:{};e[y]=i.extend(q,z,J)}else if(J!==c)e[y]=J}return e};i.extend({noConflict:function(e){b.$=ja;if(e)b.jQuery=ha;return i},isReady:false,ready:function(){if(!i.isReady){if(!N.body)return setTimeout(i.ready,13);i.isReady=true;if(ka){for(var e,h=0;e=ka[h++];)e.call(N,i);ka=null}i.fn.triggerHandler&&i(N).triggerHandler("ready")}},bindReady:function(){if(!Z){Z=true;if(N.readyState==="complete")return i.ready();if(N.addEventListener){N.addEventListener("DOMContentLoaded",
xa,false);b.addEventListener("load",i.ready,false)}else if(N.attachEvent){N.attachEvent("onreadystatechange",xa);b.attachEvent("onload",i.ready);var e=false;try{e=b.frameElement==null}catch(h){}N.documentElement.doScroll&&e&&f()}}},isFunction:function(e){return ya.call(e)==="[object Function]"},isArray:function(e){return ya.call(e)==="[object Array]"},isPlainObject:function(e){if(!e||ya.call(e)!=="[object Object]"||e.nodeType||e.setInterval)return false;if(e.constructor&&!qa.call(e,"constructor")&&
!qa.call(e.constructor.prototype,"isPrototypeOf"))return false;var h;for(h in e);return h===c||qa.call(e,h)},isEmptyObject:function(e){for(var h in e)return false;return true},error:function(e){throw e;},parseJSON:function(e){if(typeof e!=="string"||!e)return null;e=i.trim(e);if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b.JSON&&b.JSON.parse?b.JSON.parse(e):
(new Function("return "+e))();else i.error("Invalid JSON: "+e)},noop:function(){},globalEval:function(e){if(e&&sa.test(e)){var h=N.getElementsByTagName("head")[0]||N.documentElement,m=N.createElement("script");m.type="text/javascript";if(i.support.scriptEval)m.appendChild(N.createTextNode(e));else m.text=e;h.insertBefore(m,h.firstChild);h.removeChild(m)}},nodeName:function(e,h){return e.nodeName&&e.nodeName.toUpperCase()===h.toUpperCase()},each:function(e,h,m){var q,p=0,y=e.length,z=y===c||i.isFunction(e);
if(m)if(z)for(q in e){if(h.apply(e[q],m)===false)break}else for(;p<y;){if(h.apply(e[p++],m)===false)break}else if(z)for(q in e){if(h.call(e[q],q,e[q])===false)break}else for(m=e[0];p<y&&h.call(m,p,m)!==false;m=e[++p]);return e},trim:function(e){return(e||"").replace(Ga,"")},makeArray:function(e,h){h=h||[];if(e!=null)e.length==null||typeof e==="string"||i.isFunction(e)||typeof e!=="function"&&e.setInterval?za.call(h,e):i.merge(h,e);return h},inArray:function(e,h){if(h.indexOf)return h.indexOf(e);for(var m=
0,q=h.length;m<q;m++)if(h[m]===e)return m;return-1},merge:function(e,h){var m=e.length,q=0;if(typeof h.length==="number")for(var p=h.length;q<p;q++)e[m++]=h[q];else for(;h[q]!==c;)e[m++]=h[q++];e.length=m;return e},grep:function(e,h,m){for(var q=[],p=0,y=e.length;p<y;p++)!m!==!h(e[p],p)&&q.push(e[p]);return q},map:function(e,h,m){for(var q=[],p,y=0,z=e.length;y<z;y++){p=h(e[y],y,m);if(p!=null)q[q.length]=p}return q.concat.apply([],q)},guid:1,proxy:function(e,h,m){if(arguments.length===2)if(typeof h===
"string"){m=e;e=m[h];h=c}else if(h&&!i.isFunction(h)){m=h;h=c}if(!h&&e)h=function(){return e.apply(m||this,arguments)};if(e)h.guid=e.guid=e.guid||h.guid||i.guid++;return h},uaMatch:function(e){e=e.toLowerCase();e=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||!/compatible/.test(e)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},browser:{}});ia=i.uaMatch(ia);if(ia.browser){i.browser[ia.browser]=true;
i.browser.version=ia.version}if(i.browser.webkit)i.browser.safari=true;if(Aa)i.inArray=function(e,h){return Aa.call(h,e)};pa=i(N);if(N.addEventListener)xa=function(){N.removeEventListener("DOMContentLoaded",xa,false);i.ready()};else if(N.attachEvent)xa=function(){if(N.readyState==="complete"){N.detachEvent("onreadystatechange",xa);i.ready()}};(function(){i.support={};var e=N.documentElement,h=N.createElement("script"),m=N.createElement("div"),q="script"+l();m.style.display="none";m.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
var p=m.getElementsByTagName("*"),y=m.getElementsByTagName("a")[0];if(!(!p||!p.length||!y)){i.support={leadingWhitespace:m.firstChild.nodeType===3,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/red/.test(y.getAttribute("style")),hrefNormalized:y.getAttribute("href")==="/a",opacity:/^0.55$/.test(y.style.opacity),cssFloat:!!y.style.cssFloat,checkOn:m.getElementsByTagName("input")[0].value==="on",optSelected:N.createElement("select").appendChild(N.createElement("option")).selected,
parentNode:m.removeChild(m.appendChild(N.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};h.type="text/javascript";try{h.appendChild(N.createTextNode("window."+q+"=1;"))}catch(z){}e.insertBefore(h,e.firstChild);if(b[q]){i.support.scriptEval=true;delete b[q]}try{delete h.test}catch(J){i.support.deleteExpando=false}e.removeChild(h);if(m.attachEvent&&m.fireEvent){m.attachEvent("onclick",function C(){i.support.noCloneEvent=
false;m.detachEvent("onclick",C)});m.cloneNode(true).fireEvent("onclick")}m=N.createElement("div");m.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";e=N.createDocumentFragment();e.appendChild(m.firstChild);i.support.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;i(function(){var C=N.createElement("div");C.style.width=C.style.paddingLeft="1px";N.body.appendChild(C);i.boxModel=i.support.boxModel=C.offsetWidth===2;N.body.removeChild(C).style.display="none"});e=function(C){var I=
N.createElement("div");C="on"+C;var P=C in I;if(!P){I.setAttribute(C,"return;");P=typeof I[C]==="function"}return P};i.support.submitBubbles=e("submit");i.support.changeBubbles=e("change");e=h=m=p=y=null}})();i.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var la="jQuery"+l(),La=0,Ma={};i.extend({cache:{},expando:la,noData:{embed:true,
object:true,applet:true},data:function(e,h,m){if(!(e.nodeName&&i.noData[e.nodeName.toLowerCase()])){e=e==b?Ma:e;var q=e[la],p=i.cache;if(!q&&typeof h==="string"&&m===c)return null;q||(q=++La);if(typeof h==="object"){e[la]=q;p[q]=i.extend(true,{},h)}else if(!p[q]){e[la]=q;p[q]={}}e=p[q];if(m!==c)e[h]=m;return typeof h==="string"?e[h]:e}},removeData:function(e,h){if(!(e.nodeName&&i.noData[e.nodeName.toLowerCase()])){e=e==b?Ma:e;var m=e[la],q=i.cache,p=q[m];if(h){if(p){delete p[h];i.isEmptyObject(p)&&
i.removeData(e)}}else{if(i.support.deleteExpando)delete e[i.expando];else e.removeAttribute&&e.removeAttribute(i.expando);delete q[m]}}}});i.fn.extend({data:function(e,h){if(typeof e==="undefined"&&this.length)return i.data(this[0]);else if(typeof e==="object")return this.each(function(){i.data(this,e)});var m=e.split(".");m[1]=m[1]?"."+m[1]:"";if(h===c){var q=this.triggerHandler("getData"+m[1]+"!",[m[0]]);if(q===c&&this.length)q=i.data(this[0],e);return q===c&&m[1]?this.data(m[0]):q}else return this.trigger("setData"+
m[1]+"!",[m[0],h]).each(function(){i.data(this,e,h)})},removeData:function(e){return this.each(function(){i.removeData(this,e)})}});i.extend({queue:function(e,h,m){if(e){h=(h||"fx")+"queue";var q=i.data(e,h);if(!m)return q||[];if(!q||i.isArray(m))q=i.data(e,h,i.makeArray(m));else q.push(m);return q}},dequeue:function(e,h){h=h||"fx";var m=i.queue(e,h),q=m.shift();if(q==="inprogress")q=m.shift();if(q){h==="fx"&&m.unshift("inprogress");q.call(e,function(){i.dequeue(e,h)})}}});i.fn.extend({queue:function(e,
h){if(typeof e!=="string"){h=e;e="fx"}if(h===c)return i.queue(this[0],e);return this.each(function(){var m=i.queue(this,e,h);e==="fx"&&m[0]!=="inprogress"&&i.dequeue(this,e)})},dequeue:function(e){return this.each(function(){i.dequeue(this,e)})},delay:function(e,h){e=i.fx?i.fx.speeds[e]||e:e;h=h||"fx";return this.queue(h,function(){var m=this;setTimeout(function(){i.dequeue(m,h)},e)})},clearQueue:function(e){return this.queue(e||"fx",[])}});var wa=/[\n\t]/g,Ba=/\s+/,ta=/\r/g,Na=/href|src|style/,Ra=
/(button|input)/i,S=/(button|input|object|select|textarea)/i,A=/^(a|area)$/i,G=/radio|checkbox/;i.fn.extend({attr:function(e,h){return o(this,e,h,true,i.attr)},removeAttr:function(e){return this.each(function(){i.attr(this,e,"");this.nodeType===1&&this.removeAttribute(e)})},addClass:function(e){if(i.isFunction(e))return this.each(function(I){var P=i(this);P.addClass(e.call(this,I,P.attr("class")))});if(e&&typeof e==="string")for(var h=(e||"").split(Ba),m=0,q=this.length;m<q;m++){var p=this[m];if(p.nodeType===
1)if(p.className){for(var y=" "+p.className+" ",z=p.className,J=0,C=h.length;J<C;J++)if(y.indexOf(" "+h[J]+" ")<0)z+=" "+h[J];p.className=i.trim(z)}else p.className=e}return this},removeClass:function(e){if(i.isFunction(e))return this.each(function(C){var I=i(this);I.removeClass(e.call(this,C,I.attr("class")))});if(e&&typeof e==="string"||e===c)for(var h=(e||"").split(Ba),m=0,q=this.length;m<q;m++){var p=this[m];if(p.nodeType===1&&p.className)if(e){for(var y=(" "+p.className+" ").replace(wa," "),
z=0,J=h.length;z<J;z++)y=y.replace(" "+h[z]+" "," ");p.className=i.trim(y)}else p.className=""}return this},toggleClass:function(e,h){var m=typeof e,q=typeof h==="boolean";if(i.isFunction(e))return this.each(function(p){var y=i(this);y.toggleClass(e.call(this,p,y.attr("class"),h),h)});return this.each(function(){if(m==="string")for(var p,y=0,z=i(this),J=h,C=e.split(Ba);p=C[y++];){J=q?J:!z.hasClass(p);z[J?"addClass":"removeClass"](p)}else if(m==="undefined"||m==="boolean"){this.className&&i.data(this,
"__className__",this.className);this.className=this.className||e===false?"":i.data(this,"__className__")||""}})},hasClass:function(e){e=" "+e+" ";for(var h=0,m=this.length;h<m;h++)if((" "+this[h].className+" ").replace(wa," ").indexOf(e)>-1)return true;return false},val:function(e){if(e===c){var h=this[0];if(h){if(i.nodeName(h,"option"))return(h.attributes.value||{}).specified?h.value:h.text;if(i.nodeName(h,"select")){var m=h.selectedIndex,q=[],p=h.options;h=h.type==="select-one";if(m<0)return null;
var y=h?m:0;for(m=h?m+1:p.length;y<m;y++){var z=p[y];if(z.selected){e=i(z).val();if(h)return e;q.push(e)}}return q}if(G.test(h.type)&&!i.support.checkOn)return h.getAttribute("value")===null?"on":h.value;return(h.value||"").replace(ta,"")}return c}var J=i.isFunction(e);return this.each(function(C){var I=i(this),P=e;if(this.nodeType===1){if(J)P=e.call(this,C,I.val());if(typeof P==="number")P+="";if(i.isArray(P)&&G.test(this.type))this.checked=i.inArray(I.val(),P)>=0;else if(i.nodeName(this,"select")){var U=
i.makeArray(P);i("option",this).each(function(){this.selected=i.inArray(i(this).val(),U)>=0});if(!U.length)this.selectedIndex=-1}else this.value=P}})}});i.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(e,h,m,q){if(!e||e.nodeType===3||e.nodeType===8)return c;if(q&&h in i.attrFn)return i(e)[h](m);q=e.nodeType!==1||!i.isXMLDoc(e);var p=m!==c;h=q&&i.props[h]||h;if(e.nodeType===1){var y=Na.test(h);if(h in e&&q&&!y){if(p){h==="type"&&Ra.test(e.nodeName)&&
e.parentNode&&i.error("type property can't be changed");e[h]=m}if(i.nodeName(e,"form")&&e.getAttributeNode(h))return e.getAttributeNode(h).nodeValue;if(h==="tabIndex")return(h=e.getAttributeNode("tabIndex"))&&h.specified?h.value:S.test(e.nodeName)||A.test(e.nodeName)&&e.href?0:c;return e[h]}if(!i.support.style&&q&&h==="style"){if(p)e.style.cssText=""+m;return e.style.cssText}p&&e.setAttribute(h,""+m);e=!i.support.hrefNormalized&&q&&y?e.getAttribute(h,2):e.getAttribute(h);return e===null?c:e}return i.style(e,
h,m)}});var O=/\.(.*)$/,Q=function(e){return e.replace(/[^\w\s\.\|`]/g,function(h){return"\\"+h})};i.event={add:function(e,h,m,q){if(!(e.nodeType===3||e.nodeType===8)){if(e.setInterval&&e!==b&&!e.frameElement)e=b;var p,y;if(m.handler){p=m;m=p.handler}if(!m.guid)m.guid=i.guid++;if(y=i.data(e)){var z=y.events=y.events||{},J=y.handle;if(!J)y.handle=J=function(){return typeof i!=="undefined"&&!i.event.triggered?i.event.handle.apply(J.elem,arguments):c};J.elem=e;h=h.split(" ");for(var C,I=0,P;C=h[I++];){y=
p?i.extend({},p):{handler:m,data:q};if(C.indexOf(".")>-1){P=C.split(".");C=P.shift();y.namespace=P.slice(0).sort().join(".")}else{P=[];y.namespace=""}y.type=C;y.guid=m.guid;var U=z[C],ba=i.event.special[C]||{};if(!U){U=z[C]=[];if(!ba.setup||ba.setup.call(e,q,P,J)===false)if(e.addEventListener)e.addEventListener(C,J,false);else e.attachEvent&&e.attachEvent("on"+C,J)}if(ba.add){ba.add.call(e,y);if(!y.handler.guid)y.handler.guid=m.guid}U.push(y);i.event.global[C]=true}e=null}}},global:{},remove:function(e,
h,m,q){if(!(e.nodeType===3||e.nodeType===8)){var p,y=0,z,J,C,I,P,U,ba=i.data(e),fa=ba&&ba.events;if(ba&&fa){if(h&&h.type){m=h.handler;h=h.type}if(!h||typeof h==="string"&&h.charAt(0)==="."){h=h||"";for(p in fa)i.event.remove(e,p+h)}else{for(h=h.split(" ");p=h[y++];){I=p;z=p.indexOf(".")<0;J=[];if(!z){J=p.split(".");p=J.shift();C=new RegExp("(^|\\.)"+i.map(J.slice(0).sort(),Q).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(P=fa[p])if(m){I=i.event.special[p]||{};for(ca=q||0;ca<P.length;ca++){U=P[ca];if(m.guid===
U.guid){if(z||C.test(U.namespace)){q==null&&P.splice(ca--,1);I.remove&&I.remove.call(e,U)}if(q!=null)break}}if(P.length===0||q!=null&&P.length===1){if(!I.teardown||I.teardown.call(e,J)===false)R(e,p,ba.handle);delete fa[p]}}else for(var ca=0;ca<P.length;ca++){U=P[ca];if(z||C.test(U.namespace)){i.event.remove(e,I,U.handler,ca);P.splice(ca--,1)}}}if(i.isEmptyObject(fa)){if(h=ba.handle)h.elem=null;delete ba.events;delete ba.handle;i.isEmptyObject(ba)&&i.removeData(e)}}}}},trigger:function(e,h,m,q){var p=
e.type||e;if(!q){e=typeof e==="object"?e[la]?e:i.extend(i.Event(p),e):i.Event(p);if(p.indexOf("!")>=0){e.type=p=p.slice(0,-1);e.exclusive=true}if(!m){e.stopPropagation();i.event.global[p]&&i.each(i.cache,function(){this.events&&this.events[p]&&i.event.trigger(e,h,this.handle.elem)})}if(!m||m.nodeType===3||m.nodeType===8)return c;e.result=c;e.target=m;h=i.makeArray(h);h.unshift(e)}e.currentTarget=m;(q=i.data(m,"handle"))&&q.apply(m,h);q=m.parentNode||m.ownerDocument;try{if(!(m&&m.nodeName&&i.noData[m.nodeName.toLowerCase()]))if(m["on"+
p]&&m["on"+p].apply(m,h)===false)e.result=false}catch(y){}if(!e.isPropagationStopped()&&q)i.event.trigger(e,h,q,true);else if(!e.isDefaultPrevented()){q=e.target;var z,J=i.nodeName(q,"a")&&p==="click",C=i.event.special[p]||{};if((!C._default||C._default.call(m,e)===false)&&!J&&!(q&&q.nodeName&&i.noData[q.nodeName.toLowerCase()])){try{if(q[p]){if(z=q["on"+p])q["on"+p]=null;i.event.triggered=true;q[p]()}}catch(I){}if(z)q["on"+p]=z;i.event.triggered=false}}},handle:function(e){var h,m,q,p;e=arguments[0]=
i.event.fix(e||b.event);e.currentTarget=this;h=e.type.indexOf(".")<0&&!e.exclusive;if(!h){m=e.type.split(".");e.type=m.shift();q=new RegExp("(^|\\.)"+m.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}p=i.data(this,"events");m=p[e.type];if(p&&m){m=m.slice(0);p=0;for(var y=m.length;p<y;p++){var z=m[p];if(h||q.test(z.namespace)){e.handler=z.handler;e.data=z.data;e.handleObj=z;z=z.handler.apply(this,arguments);if(z!==c){e.result=z;if(z===false){e.preventDefault();e.stopPropagation()}}if(e.isImmediatePropagationStopped())break}}}return e.result},
props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[la])return e;var h=e;e=i.Event(h);for(var m=this.props.length,q;m;){q=this.props[--m];e[q]=h[q]}if(!e.target)e.target=e.srcElement||
N;if(e.target.nodeType===3)e.target=e.target.parentNode;if(!e.relatedTarget&&e.fromElement)e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement;if(e.pageX==null&&e.clientX!=null){h=N.documentElement;m=N.body;e.pageX=e.clientX+(h&&h.scrollLeft||m&&m.scrollLeft||0)-(h&&h.clientLeft||m&&m.clientLeft||0);e.pageY=e.clientY+(h&&h.scrollTop||m&&m.scrollTop||0)-(h&&h.clientTop||m&&m.clientTop||0)}if(!e.which&&(e.charCode||e.charCode===0?e.charCode:e.keyCode))e.which=e.charCode||e.keyCode;if(!e.metaKey&&
e.ctrlKey)e.metaKey=e.ctrlKey;if(!e.which&&e.button!==c)e.which=e.button&1?1:e.button&2?3:e.button&4?2:0;return e},guid:1E8,proxy:i.proxy,special:{ready:{setup:i.bindReady,teardown:i.noop},live:{add:function(e){i.event.add(this,e.origType,i.extend({},e,{handler:k}))},remove:function(e){var h=true,m=e.origType.replace(O,"");i.each(i.data(this,"events").live||[],function(){if(m===this.origType.replace(O,""))return h=false});h&&i.event.remove(this,e.origType,k)}},beforeunload:{setup:function(e,h,m){if(this.setInterval)this.onbeforeunload=
m;return false},teardown:function(e,h){if(this.onbeforeunload===h)this.onbeforeunload=null}}}};var R=N.removeEventListener?function(e,h,m){e.removeEventListener(h,m,false)}:function(e,h,m){e.detachEvent("on"+h,m)};i.Event=function(e){if(!this.preventDefault)return new i.Event(e);if(e&&e.type){this.originalEvent=e;this.type=e.type}else this.type=e;this.timeStamp=l();this[la]=true};i.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;if(e){e.preventDefault&&
e.preventDefault();e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;if(e){e.stopPropagation&&e.stopPropagation();e.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s;this.stopPropagation()},isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d};var X=function(e){var h=e.relatedTarget;try{for(;h&&h!==this;)h=h.parentNode;if(h!==this){e.type=e.data;i.event.handle.apply(this,arguments)}}catch(m){}},
Y=function(e){e.type=e.data;i.event.handle.apply(this,arguments)};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,h){i.event.special[e]={setup:function(m){i.event.add(this,h,m&&m.selector?Y:X,e)},teardown:function(m){i.event.remove(this,h,m&&m.selector?Y:X)}}});if(!i.support.submitBubbles)i.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!=="form"){i.event.add(this,"click.specialSubmit",function(e){var h=e.target,m=h.type;if((m==="submit"||m==="image")&&i(h).closest("form").length)return r("submit",
this,arguments)});i.event.add(this,"keypress.specialSubmit",function(e){var h=e.target,m=h.type;if((m==="text"||m==="password")&&i(h).closest("form").length&&e.keyCode===13)return r("submit",this,arguments)})}else return false},teardown:function(){i.event.remove(this,".specialSubmit")}};if(!i.support.changeBubbles){var ea=/textarea|input|select/i,ga,Ca=function(e){var h=e.type,m=e.value;if(h==="radio"||h==="checkbox")m=e.checked;else if(h==="select-multiple")m=e.selectedIndex>-1?i.map(e.options,function(q){return q.selected}).join("-"):
"";else if(e.nodeName.toLowerCase()==="select")m=e.selectedIndex;return m},Da=function(e,h){var m=e.target,q,p;if(!(!ea.test(m.nodeName)||m.readOnly)){q=i.data(m,"_change_data");p=Ca(m);if(e.type!=="focusout"||m.type!=="radio")i.data(m,"_change_data",p);if(!(q===c||p===q))if(q!=null||p){e.type="change";return i.event.trigger(e,h,m)}}};i.event.special.change={filters:{focusout:Da,click:function(e){var h=e.target,m=h.type;if(m==="radio"||m==="checkbox"||h.nodeName.toLowerCase()==="select")return Da.call(this,
e)},keydown:function(e){var h=e.target,m=h.type;if(e.keyCode===13&&h.nodeName.toLowerCase()!=="textarea"||e.keyCode===32&&(m==="checkbox"||m==="radio")||m==="select-multiple")return Da.call(this,e)},beforeactivate:function(e){e=e.target;i.data(e,"_change_data",Ca(e))}},setup:function(){if(this.type==="file")return false;for(var e in ga)i.event.add(this,e+".specialChange",ga[e]);return ea.test(this.nodeName)},teardown:function(){i.event.remove(this,".specialChange");return ea.test(this.nodeName)}};
ga=i.event.special.change.filters}N.addEventListener&&i.each({focus:"focusin",blur:"focusout"},function(e,h){function m(q){q=i.event.fix(q);q.type=h;return i.event.handle.call(this,q)}i.event.special[h]={setup:function(){this.addEventListener(e,m,true)},teardown:function(){this.removeEventListener(e,m,true)}}});i.each(["bind","one"],function(e,h){i.fn[h]=function(m,q,p){if(typeof m==="object"){for(var y in m)this[h](y,q,m[y],p);return this}if(i.isFunction(q)){p=q;q=c}var z=h==="one"?i.proxy(p,function(C){i(this).unbind(C,
z);return p.apply(this,arguments)}):p;if(m==="unload"&&h!=="one")this.one(m,q,p);else{y=0;for(var J=this.length;y<J;y++)i.event.add(this[y],m,z,q)}return this}});i.fn.extend({unbind:function(e,h){if(typeof e==="object"&&!e.preventDefault)for(var m in e)this.unbind(m,e[m]);else{m=0;for(var q=this.length;m<q;m++)i.event.remove(this[m],e,h)}return this},delegate:function(e,h,m,q){return this.live(h,m,q,e)},undelegate:function(e,h,m){return arguments.length===0?this.unbind("live"):this.die(h,null,m,e)},
trigger:function(e,h){return this.each(function(){i.event.trigger(e,h,this)})},triggerHandler:function(e,h){if(this[0]){e=i.Event(e);e.preventDefault();e.stopPropagation();i.event.trigger(e,h,this[0]);return e.result}},toggle:function(e){for(var h=arguments,m=1;m<h.length;)i.proxy(e,h[m++]);return this.click(i.proxy(e,function(q){var p=(i.data(this,"lastToggle"+e.guid)||0)%m;i.data(this,"lastToggle"+e.guid,p+1);q.preventDefault();return h[p].apply(this,arguments)||false}))},hover:function(e,h){return this.mouseenter(e).mouseleave(h||
e)}});var ua={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};i.each(["live","die"],function(e,h){i.fn[h]=function(m,q,p,y){var z,J=0,C,I,P=y||this.selector,U=y?this:i(this.context);if(i.isFunction(q)){p=q;q=c}for(m=(m||"").split(" ");(z=m[J++])!=null;){y=O.exec(z);C="";if(y){C=y[0];z=z.replace(O,"")}if(z==="hover")m.push("mouseenter"+C,"mouseleave"+C);else{I=z;if(z==="focus"||z==="blur"){m.push(ua[z]+C);z+=C}else z=(ua[z]||z)+C;h==="live"?U.each(function(){i.event.add(this,
j(z,P),{data:q,selector:P,handler:p,origType:z,origHandler:p,preType:I})}):U.unbind(j(z,P),p)}}return this}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(e,h){i.fn[h]=function(m){return m?this.bind(h,m):this.trigger(h)};if(i.attrFn)i.attrFn[h]=true});b.attachEvent&&!b.addEventListener&&b.attachEvent("onunload",function(){for(var e in i.cache)if(i.cache[e].handle)try{i.event.remove(i.cache[e].handle.elem)}catch(h){}});
(function(){function e(u){for(var x="",D,H=0;u[H];H++){D=u[H];if(D.nodeType===3||D.nodeType===4)x+=D.nodeValue;else if(D.nodeType!==8)x+=e(D.childNodes)}return x}function h(u,x,D,H,M,L){M=0;for(var V=H.length;M<V;M++){var T=H[M];if(T){T=T[u];for(var aa=false;T;){if(T.sizcache===D){aa=H[T.sizset];break}if(T.nodeType===1&&!L){T.sizcache=D;T.sizset=M}if(T.nodeName.toLowerCase()===x){aa=T;break}T=T[u]}H[M]=aa}}}function m(u,x,D,H,M,L){M=0;for(var V=H.length;M<V;M++){var T=H[M];if(T){T=T[u];for(var aa=
false;T;){if(T.sizcache===D){aa=H[T.sizset];break}if(T.nodeType===1){if(!L){T.sizcache=D;T.sizset=M}if(typeof x!=="string"){if(T===x){aa=true;break}}else if(C.filter(x,[T]).length>0){aa=T;break}}T=T[u]}H[M]=aa}}}var q=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,p=0,y=Object.prototype.toString,z=false,J=true;[0,0].sort(function(){J=false;return 0});var C=function(u,x,D,H){D=D||[];var M=x=x||N;if(x.nodeType!==1&&
x.nodeType!==9)return[];if(!u||typeof u!=="string")return D;for(var L=[],V,T,aa,Oa,Ea=true,Ha=W(x),Fa=u;(q.exec(""),V=q.exec(Fa))!==null;){Fa=V[3];L.push(V[1]);if(V[2]){Oa=V[3];break}}if(L.length>1&&P.exec(u))if(L.length===2&&I.relative[L[0]])T=Va(L[0]+L[1],x);else for(T=I.relative[L[0]]?[x]:C(L.shift(),x);L.length;){u=L.shift();if(I.relative[u])u+=L.shift();T=Va(u,T)}else{if(!H&&L.length>1&&x.nodeType===9&&!Ha&&I.match.ID.test(L[0])&&!I.match.ID.test(L[L.length-1])){V=C.find(L.shift(),x,Ha);x=V.expr?
C.filter(V.expr,V.set)[0]:V.set[0]}if(x){V=H?{expr:L.pop(),set:ba(H)}:C.find(L.pop(),L.length===1&&(L[0]==="~"||L[0]==="+")&&x.parentNode?x.parentNode:x,Ha);T=V.expr?C.filter(V.expr,V.set):V.set;if(L.length>0)aa=ba(T);else Ea=false;for(;L.length;){var ma=L.pop();V=ma;if(I.relative[ma])V=L.pop();else ma="";if(V==null)V=x;I.relative[ma](aa,V,Ha)}}else aa=[]}aa||(aa=T);aa||C.error(ma||u);if(y.call(aa)==="[object Array]")if(Ea)if(x&&x.nodeType===1)for(u=0;aa[u]!=null;u++){if(aa[u]&&(aa[u]===true||aa[u].nodeType===
1&&na(x,aa[u])))D.push(T[u])}else for(u=0;aa[u]!=null;u++)aa[u]&&aa[u].nodeType===1&&D.push(T[u]);else D.push.apply(D,aa);else ba(aa,D);if(Oa){C(Oa,M,D,H);C.uniqueSort(D)}return D};C.uniqueSort=function(u){if(ca){z=J;u.sort(ca);if(z)for(var x=1;x<u.length;x++)u[x]===u[x-1]&&u.splice(x--,1)}return u};C.matches=function(u,x){return C(u,null,null,x)};C.find=function(u,x,D){var H,M;if(!u)return[];for(var L=0,V=I.order.length;L<V;L++){var T=I.order[L];if(M=I.leftMatch[T].exec(u)){var aa=M[1];M.splice(1,
1);if(aa.substr(aa.length-1)!=="\\"){M[1]=(M[1]||"").replace(/\\/g,"");H=I.find[T](M,x,D);if(H!=null){u=u.replace(I.match[T],"");break}}}}H||(H=x.getElementsByTagName("*"));return{set:H,expr:u}};C.filter=function(u,x,D,H){for(var M=u,L=[],V=x,T,aa,Oa=x&&x[0]&&W(x[0]);u&&x.length;){for(var Ea in I.filter)if((T=I.leftMatch[Ea].exec(u))!=null&&T[2]){var Ha=I.filter[Ea],Fa,ma;ma=T[1];aa=false;T.splice(1,1);if(ma.substr(ma.length-1)!=="\\"){if(V===L)L=[];if(I.preFilter[Ea])if(T=I.preFilter[Ea](T,V,D,L,
H,Oa)){if(T===true)continue}else aa=Fa=true;if(T)for(var Sa=0;(ma=V[Sa])!=null;Sa++)if(ma){Fa=Ha(ma,T,Sa,V);var db=H^!!Fa;if(D&&Fa!=null)if(db)aa=true;else V[Sa]=false;else if(db){L.push(ma);aa=true}}if(Fa!==c){D||(V=L);u=u.replace(I.match[Ea],"");if(!aa)return[];break}}}if(u===M)if(aa==null)C.error(u);else break;M=u}return V};C.error=function(u){throw"Syntax error, unrecognized expression: "+u;};var I=C.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(u){return u.getAttribute("href")}},
relative:{"+":function(u,x){var D=typeof x==="string",H=D&&!/\W/.test(x);D=D&&!H;if(H)x=x.toLowerCase();H=0;for(var M=u.length,L;H<M;H++)if(L=u[H]){for(;(L=L.previousSibling)&&L.nodeType!==1;);u[H]=D||L&&L.nodeName.toLowerCase()===x?L||false:L===x}D&&C.filter(x,u,true)},">":function(u,x){var D=typeof x==="string";if(D&&!/\W/.test(x)){x=x.toLowerCase();for(var H=0,M=u.length;H<M;H++){var L=u[H];if(L){D=L.parentNode;u[H]=D.nodeName.toLowerCase()===x?D:false}}}else{H=0;for(M=u.length;H<M;H++)if(L=u[H])u[H]=
D?L.parentNode:L.parentNode===x;D&&C.filter(x,u,true)}},"":function(u,x,D){var H=p++,M=m;if(typeof x==="string"&&!/\W/.test(x)){var L=x=x.toLowerCase();M=h}M("parentNode",x,H,u,L,D)},"~":function(u,x,D){var H=p++,M=m;if(typeof x==="string"&&!/\W/.test(x)){var L=x=x.toLowerCase();M=h}M("previousSibling",x,H,u,L,D)}},find:{ID:function(u,x,D){if(typeof x.getElementById!=="undefined"&&!D)return(u=x.getElementById(u[1]))?[u]:[]},NAME:function(u,x){if(typeof x.getElementsByName!=="undefined"){var D=[];
x=x.getElementsByName(u[1]);for(var H=0,M=x.length;H<M;H++)x[H].getAttribute("name")===u[1]&&D.push(x[H]);return D.length===0?null:D}},TAG:function(u,x){return x.getElementsByTagName(u[1])}},preFilter:{CLASS:function(u,x,D,H,M,L){u=" "+u[1].replace(/\\/g,"")+" ";if(L)return u;L=0;for(var V;(V=x[L])!=null;L++)if(V)if(M^(V.className&&(" "+V.className+" ").replace(/[\t\n]/g," ").indexOf(u)>=0))D||H.push(V);else if(D)x[L]=false;return false},ID:function(u){return u[1].replace(/\\/g,"")},TAG:function(u){return u[1].toLowerCase()},
CHILD:function(u){if(u[1]==="nth"){var x=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(u[2]==="even"&&"2n"||u[2]==="odd"&&"2n+1"||!/\D/.test(u[2])&&"0n+"+u[2]||u[2]);u[2]=x[1]+(x[2]||1)-0;u[3]=x[3]-0}u[0]=p++;return u},ATTR:function(u,x,D,H,M,L){x=u[1].replace(/\\/g,"");if(!L&&I.attrMap[x])u[1]=I.attrMap[x];if(u[2]==="~=")u[4]=" "+u[4]+" ";return u},PSEUDO:function(u,x,D,H,M){if(u[1]==="not")if((q.exec(u[3])||"").length>1||/^\w/.test(u[3]))u[3]=C(u[3],null,null,x);else{u=C.filter(u[3],x,D,true^M);D||H.push.apply(H,
u);return false}else if(I.match.POS.test(u[0])||I.match.CHILD.test(u[0]))return true;return u},POS:function(u){u.unshift(true);return u}},filters:{enabled:function(u){return u.disabled===false&&u.type!=="hidden"},disabled:function(u){return u.disabled===true},checked:function(u){return u.checked===true},selected:function(u){return u.selected===true},parent:function(u){return!!u.firstChild},empty:function(u){return!u.firstChild},has:function(u,x,D){return!!C(D[3],u).length},header:function(u){return/h\d/i.test(u.nodeName)},
text:function(u){return"text"===u.type},radio:function(u){return"radio"===u.type},checkbox:function(u){return"checkbox"===u.type},file:function(u){return"file"===u.type},password:function(u){return"password"===u.type},submit:function(u){return"submit"===u.type},image:function(u){return"image"===u.type},reset:function(u){return"reset"===u.type},button:function(u){return"button"===u.type||u.nodeName.toLowerCase()==="button"},input:function(u){return/input|select|textarea|button/i.test(u.nodeName)}},
setFilters:{first:function(u,x){return x===0},last:function(u,x,D,H){return x===H.length-1},even:function(u,x){return x%2===0},odd:function(u,x){return x%2===1},lt:function(u,x,D){return x<D[3]-0},gt:function(u,x,D){return x>D[3]-0},nth:function(u,x,D){return D[3]-0===x},eq:function(u,x,D){return D[3]-0===x}},filter:{PSEUDO:function(u,x,D,H){var M=x[1],L=I.filters[M];if(L)return L(u,D,x,H);else if(M==="contains")return(u.textContent||u.innerText||e([u])||"").indexOf(x[3])>=0;else if(M==="not"){x=
x[3];D=0;for(H=x.length;D<H;D++)if(x[D]===u)return false;return true}else C.error("Syntax error, unrecognized expression: "+M)},CHILD:function(u,x){var D=x[1],H=u;switch(D){case "only":case "first":for(;H=H.previousSibling;)if(H.nodeType===1)return false;if(D==="first")return true;H=u;case "last":for(;H=H.nextSibling;)if(H.nodeType===1)return false;return true;case "nth":D=x[2];var M=x[3];if(D===1&&M===0)return true;x=x[0];var L=u.parentNode;if(L&&(L.sizcache!==x||!u.nodeIndex)){var V=0;for(H=L.firstChild;H;H=
H.nextSibling)if(H.nodeType===1)H.nodeIndex=++V;L.sizcache=x}u=u.nodeIndex-M;return D===0?u===0:u%D===0&&u/D>=0}},ID:function(u,x){return u.nodeType===1&&u.getAttribute("id")===x},TAG:function(u,x){return x==="*"&&u.nodeType===1||u.nodeName.toLowerCase()===x},CLASS:function(u,x){return(" "+(u.className||u.getAttribute("class"))+" ").indexOf(x)>-1},ATTR:function(u,x){var D=x[1];u=I.attrHandle[D]?I.attrHandle[D](u):u[D]!=null?u[D]:u.getAttribute(D);D=u+"";var H=x[2];x=x[4];return u==null?H==="!=":H===
"="?D===x:H==="*="?D.indexOf(x)>=0:H==="~="?(" "+D+" ").indexOf(x)>=0:!x?D&&u!==false:H==="!="?D!==x:H==="^="?D.indexOf(x)===0:H==="$="?D.substr(D.length-x.length)===x:H==="|="?D===x||D.substr(0,x.length+1)===x+"-":false},POS:function(u,x,D,H){var M=I.setFilters[x[2]];if(M)return M(u,D,x,H)}}},P=I.match.POS;for(var U in I.match){I.match[U]=new RegExp(I.match[U].source+/(?![^\[]*\])(?![^\(]*\))/.source);I.leftMatch[U]=new RegExp(/(^(?:.|\r|\n)*?)/.source+I.match[U].source.replace(/\\(\d+)/g,function(u,
x){return"\\"+(x-0+1)}))}var ba=function(u,x){u=Array.prototype.slice.call(u,0);if(x){x.push.apply(x,u);return x}return u};try{Array.prototype.slice.call(N.documentElement.childNodes,0)}catch(fa){ba=function(u,x){x=x||[];if(y.call(u)==="[object Array]")Array.prototype.push.apply(x,u);else if(typeof u.length==="number")for(var D=0,H=u.length;D<H;D++)x.push(u[D]);else for(D=0;u[D];D++)x.push(u[D]);return x}}var ca;if(N.documentElement.compareDocumentPosition)ca=function(u,x){if(!u.compareDocumentPosition||
!x.compareDocumentPosition){if(u==x)z=true;return u.compareDocumentPosition?-1:1}u=u.compareDocumentPosition(x)&4?-1:u===x?0:1;if(u===0)z=true;return u};else if("sourceIndex"in N.documentElement)ca=function(u,x){if(!u.sourceIndex||!x.sourceIndex){if(u==x)z=true;return u.sourceIndex?-1:1}u=u.sourceIndex-x.sourceIndex;if(u===0)z=true;return u};else if(N.createRange)ca=function(u,x){if(!u.ownerDocument||!x.ownerDocument){if(u==x)z=true;return u.ownerDocument?-1:1}var D=u.ownerDocument.createRange(),
H=x.ownerDocument.createRange();D.setStart(u,0);D.setEnd(u,0);H.setStart(x,0);H.setEnd(x,0);u=D.compareBoundaryPoints(Range.START_TO_END,H);if(u===0)z=true;return u};(function(){var u=N.createElement("div"),x="script"+(new Date).getTime();u.innerHTML="<a name='"+x+"'/>";var D=N.documentElement;D.insertBefore(u,D.firstChild);if(N.getElementById(x)){I.find.ID=function(H,M,L){if(typeof M.getElementById!=="undefined"&&!L)return(M=M.getElementById(H[1]))?M.id===H[1]||typeof M.getAttributeNode!=="undefined"&&
M.getAttributeNode("id").nodeValue===H[1]?[M]:c:[]};I.filter.ID=function(H,M){var L=typeof H.getAttributeNode!=="undefined"&&H.getAttributeNode("id");return H.nodeType===1&&L&&L.nodeValue===M}}D.removeChild(u);D=u=null})();(function(){var u=N.createElement("div");u.appendChild(N.createComment(""));if(u.getElementsByTagName("*").length>0)I.find.TAG=function(x,D){D=D.getElementsByTagName(x[1]);if(x[1]==="*"){x=[];for(var H=0;D[H];H++)D[H].nodeType===1&&x.push(D[H]);D=x}return D};u.innerHTML="<a href='#'></a>";
if(u.firstChild&&typeof u.firstChild.getAttribute!=="undefined"&&u.firstChild.getAttribute("href")!=="#")I.attrHandle.href=function(x){return x.getAttribute("href",2)};u=null})();N.querySelectorAll&&function(){var u=C,x=N.createElement("div");x.innerHTML="<p class='TEST'></p>";if(!(x.querySelectorAll&&x.querySelectorAll(".TEST").length===0)){C=function(H,M,L,V){M=M||N;if(!V&&M.nodeType===9&&!W(M))try{return ba(M.querySelectorAll(H),L)}catch(T){}return u(H,M,L,V)};for(var D in u)C[D]=u[D];x=null}}();
(function(){var u=N.createElement("div");u.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!u.getElementsByClassName||u.getElementsByClassName("e").length===0)){u.lastChild.className="e";if(u.getElementsByClassName("e").length!==1){I.order.splice(1,0,"CLASS");I.find.CLASS=function(x,D,H){if(typeof D.getElementsByClassName!=="undefined"&&!H)return D.getElementsByClassName(x[1])};u=null}}})();var na=N.compareDocumentPosition?function(u,x){return!!(u.compareDocumentPosition(x)&16)}:
function(u,x){return u!==x&&(u.contains?u.contains(x):true)},W=function(u){return(u=(u?u.ownerDocument||u:0).documentElement)?u.nodeName!=="HTML":false},Va=function(u,x){var D=[],H="",M;for(x=x.nodeType?[x]:x;M=I.match.PSEUDO.exec(u);){H+=M[0];u=u.replace(I.match.PSEUDO,"")}u=I.relative[u]?u+"*":u;M=0;for(var L=x.length;M<L;M++)C(u,x[M],D);return C.filter(H,D)};i.find=C;i.expr=C.selectors;i.expr[":"]=i.expr.filters;i.unique=C.uniqueSort;i.text=e;i.isXMLDoc=W;i.contains=na})();var va=/Until$/,Ia=/^(?:parents|prevUntil|prevAll)/,
Ja=/,/;ra=Array.prototype.slice;var eb=function(e,h,m){if(i.isFunction(h))return i.grep(e,function(p,y){return!!h.call(p,y,p)===m});else if(h.nodeType)return i.grep(e,function(p){return p===h===m});else if(typeof h==="string"){var q=i.grep(e,function(p){return p.nodeType===1});if(da.test(h))return i.filter(h,q,!m);else h=i.filter(h,q)}return i.grep(e,function(p){return i.inArray(p,h)>=0===m})};i.fn.extend({find:function(e){for(var h=this.pushStack("","find",e),m=0,q=0,p=this.length;q<p;q++){m=h.length;
i.find(e,this[q],h);if(q>0)for(var y=m;y<h.length;y++)for(var z=0;z<m;z++)if(h[z]===h[y]){h.splice(y--,1);break}}return h},has:function(e){var h=i(e);return this.filter(function(){for(var m=0,q=h.length;m<q;m++)if(i.contains(this,h[m]))return true})},not:function(e){return this.pushStack(eb(this,e,false),"not",e)},filter:function(e){return this.pushStack(eb(this,e,true),"filter",e)},is:function(e){return!!e&&i.filter(e,this).length>0},closest:function(e,h){if(i.isArray(e)){var m=[],q=this[0],p,y=
{},z;if(q&&e.length){p=0;for(var J=e.length;p<J;p++){z=e[p];y[z]||(y[z]=i.expr.match.POS.test(z)?i(z,h||this.context):z)}for(;q&&q.ownerDocument&&q!==h;){for(z in y){p=y[z];if(p.jquery?p.index(q)>-1:i(q).is(p)){m.push({selector:z,elem:q});delete y[z]}}q=q.parentNode}}return m}var C=i.expr.match.POS.test(e)?i(e,h||this.context):null;return this.map(function(I,P){for(;P&&P.ownerDocument&&P!==h;){if(C?C.index(P)>-1:i(P).is(e))return P;P=P.parentNode}return null})},index:function(e){if(!e||typeof e===
"string")return i.inArray(this[0],e?i(e):this.parent().children());return i.inArray(e.jquery?e[0]:e,this)},add:function(e,h){e=typeof e==="string"?i(e,h||this.context):i.makeArray(e);h=i.merge(this.get(),e);return this.pushStack(w(e[0])||w(h[0])?h:i.unique(h))},andSelf:function(){return this.add(this.prevObject)}});i.each({parent:function(e){return(e=e.parentNode)&&e.nodeType!==11?e:null},parents:function(e){return i.dir(e,"parentNode")},parentsUntil:function(e,h,m){return i.dir(e,"parentNode",m)},
next:function(e){return i.nth(e,2,"nextSibling")},prev:function(e){return i.nth(e,2,"previousSibling")},nextAll:function(e){return i.dir(e,"nextSibling")},prevAll:function(e){return i.dir(e,"previousSibling")},nextUntil:function(e,h,m){return i.dir(e,"nextSibling",m)},prevUntil:function(e,h,m){return i.dir(e,"previousSibling",m)},siblings:function(e){return i.sibling(e.parentNode.firstChild,e)},children:function(e){return i.sibling(e.firstChild)},contents:function(e){return i.nodeName(e,"iframe")?
e.contentDocument||e.contentWindow.document:i.makeArray(e.childNodes)}},function(e,h){i.fn[e]=function(m,q){var p=i.map(this,h,m);va.test(e)||(q=m);if(q&&typeof q==="string")p=i.filter(q,p);p=this.length>1?i.unique(p):p;if((this.length>1||Ja.test(q))&&Ia.test(e))p=p.reverse();return this.pushStack(p,e,ra.call(arguments).join(","))}});i.extend({filter:function(e,h,m){if(m)e=":not("+e+")";return i.find.matches(e,h)},dir:function(e,h,m){var q=[];for(e=e[h];e&&e.nodeType!==9&&(m===c||e.nodeType!==1||
!i(e).is(m));){e.nodeType===1&&q.push(e);e=e[h]}return q},nth:function(e,h,m){h=h||1;for(var q=0;e;e=e[m])if(e.nodeType===1&&++q===h)break;return e},sibling:function(e,h){for(var m=[];e;e=e.nextSibling)e.nodeType===1&&e!==h&&m.push(e);return m}});var fb=/ jQuery\d+="(?:\d+|null)"/g,Ta=/^\s+/,gb=/(<([\w:]+)[^>]*?)\/>/g,mb=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,hb=/<([\w:]+)/,nb=/<tbody/i,ob=/<|&#?\w+;/,ab=/<script|<object|<embed|<option|<style/i,bb=/checked\s*(?:[^=]|=\s*.checked.)/i,
ib=function(e,h,m){return mb.test(m)?e:h+"></"+m+">"},oa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};oa.optgroup=oa.option;oa.tbody=oa.tfoot=oa.colgroup=oa.caption=oa.thead;oa.th=oa.td;if(!i.support.htmlSerialize)oa._default=
[1,"div<div>","</div>"];i.fn.extend({text:function(e){if(i.isFunction(e))return this.each(function(h){var m=i(this);m.text(e.call(this,h,m.text()))});if(typeof e!=="object"&&e!==c)return this.empty().append((this[0]&&this[0].ownerDocument||N).createTextNode(e));return i.text(this)},wrapAll:function(e){if(i.isFunction(e))return this.each(function(m){i(this).wrapAll(e.call(this,m))});if(this[0]){var h=i(e,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&h.insertBefore(this[0]);h.map(function(){for(var m=
this;m.firstChild&&m.firstChild.nodeType===1;)m=m.firstChild;return m}).append(this)}return this},wrapInner:function(e){if(i.isFunction(e))return this.each(function(h){i(this).wrapInner(e.call(this,h))});return this.each(function(){var h=i(this),m=h.contents();m.length?m.wrapAll(e):h.append(e)})},wrap:function(e){return this.each(function(){i(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,
true,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,true,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(h){this.parentNode.insertBefore(h,this)});else if(arguments.length){var e=i(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,
false,function(h){this.parentNode.insertBefore(h,this.nextSibling)});else if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,i(arguments[0]).toArray());return e}},remove:function(e,h){for(var m=0,q;(q=this[m])!=null;m++)if(!e||i.filter(e,[q]).length){if(!h&&q.nodeType===1){i.cleanData(q.getElementsByTagName("*"));i.cleanData([q])}q.parentNode&&q.parentNode.removeChild(q)}return this},empty:function(){for(var e=0,h;(h=this[e])!=null;e++)for(h.nodeType===1&&i.cleanData(h.getElementsByTagName("*"));h.firstChild;)h.removeChild(h.firstChild);
return this},clone:function(e){var h=this.map(function(){if(!i.support.noCloneEvent&&!i.isXMLDoc(this)){var m=this.outerHTML,q=this.ownerDocument;if(!m){m=q.createElement("div");m.appendChild(this.cloneNode(true));m=m.innerHTML}return i.clean([m.replace(fb,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(Ta,"")],q)[0]}else return this.cloneNode(true)});if(e===true){E(this,h);E(this.find("*"),h.find("*"))}return h},html:function(e){if(e===c)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(fb,
""):null;else if(typeof e==="string"&&!ab.test(e)&&(i.support.leadingWhitespace||!Ta.test(e))&&!oa[(hb.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(gb,ib);try{for(var h=0,m=this.length;h<m;h++)if(this[h].nodeType===1){i.cleanData(this[h].getElementsByTagName("*"));this[h].innerHTML=e}}catch(q){this.empty().append(e)}}else i.isFunction(e)?this.each(function(p){var y=i(this),z=y.html();y.empty().append(function(){return e.call(this,p,z)})}):this.empty().append(e);return this},replaceWith:function(e){if(this[0]&&
this[0].parentNode){if(i.isFunction(e))return this.each(function(h){var m=i(this),q=m.html();m.replaceWith(e.call(this,h,q))});if(typeof e!=="string")e=i(e).detach();return this.each(function(){var h=this.nextSibling,m=this.parentNode;i(this).remove();h?i(h).before(e):i(m).append(e)})}else return this.pushStack(i(i.isFunction(e)?e():e),"replaceWith",e)},detach:function(e){return this.remove(e,true)},domManip:function(e,h,m){function q(U){return i.nodeName(U,"table")?U.getElementsByTagName("tbody")[0]||
U.appendChild(U.ownerDocument.createElement("tbody")):U}var p,y,z=e[0],J=[],C;if(!i.support.checkClone&&arguments.length===3&&typeof z==="string"&&bb.test(z))return this.each(function(){i(this).domManip(e,h,m,true)});if(i.isFunction(z))return this.each(function(U){var ba=i(this);e[0]=z.call(this,U,h?ba.html():c);ba.domManip(e,h,m)});if(this[0]){p=z&&z.parentNode;p=i.support.parentNode&&p&&p.nodeType===11&&p.childNodes.length===this.length?{fragment:p}:B(e,this,J);C=p.fragment;if(y=C.childNodes.length===
1?(C=C.firstChild):C.firstChild){h=h&&i.nodeName(y,"tr");for(var I=0,P=this.length;I<P;I++)m.call(h?q(this[I],y):this[I],I>0||p.cacheable||this.length>1?C.cloneNode(true):C)}J.length&&i.each(J,g)}return this}});i.fragments={};i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,h){i.fn[e]=function(m){var q=[];m=i(m);var p=this.length===1&&this[0].parentNode;if(p&&p.nodeType===11&&p.childNodes.length===1&&m.length===1){m[h](this[0]);
return this}else{p=0;for(var y=m.length;p<y;p++){var z=(p>0?this.clone(true):this).get();i.fn[h].apply(i(m[p]),z);q=q.concat(z)}return this.pushStack(q,e,m.selector)}}});i.extend({clean:function(e,h,m,q){h=h||N;if(typeof h.createElement==="undefined")h=h.ownerDocument||h[0]&&h[0].ownerDocument||N;for(var p=[],y=0,z;(z=e[y])!=null;y++){if(typeof z==="number")z+="";if(z){if(typeof z==="string"&&!ob.test(z))z=h.createTextNode(z);else if(typeof z==="string"){z=z.replace(gb,ib);var J=(hb.exec(z)||["",
""])[1].toLowerCase(),C=oa[J]||oa._default,I=C[0],P=h.createElement("div");for(P.innerHTML=C[1]+z+C[2];I--;)P=P.lastChild;if(!i.support.tbody){I=nb.test(z);J=J==="table"&&!I?P.firstChild&&P.firstChild.childNodes:C[1]==="<table>"&&!I?P.childNodes:[];for(C=J.length-1;C>=0;--C)i.nodeName(J[C],"tbody")&&!J[C].childNodes.length&&J[C].parentNode.removeChild(J[C])}!i.support.leadingWhitespace&&Ta.test(z)&&P.insertBefore(h.createTextNode(Ta.exec(z)[0]),P.firstChild);z=P.childNodes}if(z.nodeType)p.push(z);
else p=i.merge(p,z)}}if(m)for(y=0;p[y];y++)if(q&&i.nodeName(p[y],"script")&&(!p[y].type||p[y].type.toLowerCase()==="text/javascript"))q.push(p[y].parentNode?p[y].parentNode.removeChild(p[y]):p[y]);else{p[y].nodeType===1&&p.splice.apply(p,[y+1,0].concat(i.makeArray(p[y].getElementsByTagName("script"))));m.appendChild(p[y])}return p},cleanData:function(e){for(var h,m,q=i.cache,p=i.event.special,y=i.support.deleteExpando,z=0,J;(J=e[z])!=null;z++)if(m=J[i.expando]){h=q[m];if(h.events)for(var C in h.events)p[C]?
i.event.remove(J,C):R(J,C,h.handle);if(y)delete J[i.expando];else J.removeAttribute&&J.removeAttribute(i.expando);delete q[m]}}});var pb=/z-?index|font-?weight|opacity|zoom|line-?height/i,jb=/alpha\([^)]*\)/,kb=/opacity=([^)]*)/,Wa=/float/i,Xa=/-([a-z])/ig,qb=/([A-Z])/g,rb=/^-?\d+(?:px)?$/i,sb=/^-?\d/,tb={position:"absolute",visibility:"hidden",display:"block"},ub=["Left","Right"],vb=["Top","Bottom"],wb=N.defaultView&&N.defaultView.getComputedStyle,lb=i.support.cssFloat?"cssFloat":"styleFloat",Ya=
function(e,h){return h.toUpperCase()};i.fn.css=function(e,h){return o(this,e,h,true,function(m,q,p){if(p===c)return i.curCSS(m,q);if(typeof p==="number"&&!pb.test(q))p+="px";i.style(m,q,p)})};i.extend({style:function(e,h,m){if(!e||e.nodeType===3||e.nodeType===8)return c;if((h==="width"||h==="height")&&parseFloat(m)<0)m=c;var q=e.style||e,p=m!==c;if(!i.support.opacity&&h==="opacity"){if(p){q.zoom=1;h=parseInt(m,10)+""==="NaN"?"":"alpha(opacity="+m*100+")";e=q.filter||i.curCSS(e,"filter")||"";q.filter=
jb.test(e)?e.replace(jb,h):h}return q.filter&&q.filter.indexOf("opacity=")>=0?parseFloat(kb.exec(q.filter)[1])/100+"":""}if(Wa.test(h))h=lb;h=h.replace(Xa,Ya);if(p)q[h]=m;return q[h]},css:function(e,h,m,q){if(h==="width"||h==="height"){var p,y=h==="width"?ub:vb;m=function(){p=h==="width"?e.offsetWidth:e.offsetHeight;q!=="border"&&i.each(y,function(){q||(p-=parseFloat(i.curCSS(e,"padding"+this,true))||0);if(q==="margin")p+=parseFloat(i.curCSS(e,"margin"+this,true))||0;else p-=parseFloat(i.curCSS(e,
"border"+this+"Width",true))||0})};e.offsetWidth!==0?m():i.swap(e,tb,m);return Math.max(0,Math.round(p))}return i.curCSS(e,h,m)},curCSS:function(e,h,m){var q,p=e.style;if(!i.support.opacity&&h==="opacity"&&e.currentStyle){q=kb.test(e.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return q===""?"1":q}if(Wa.test(h))h=lb;if(!m&&p&&p[h])q=p[h];else if(wb){if(Wa.test(h))h="float";h=h.replace(qb,"-$1").toLowerCase();p=e.ownerDocument.defaultView;if(!p)return null;if(e=p.getComputedStyle(e,null))q=
e.getPropertyValue(h);if(h==="opacity"&&q==="")q="1"}else if(e.currentStyle){m=h.replace(Xa,Ya);q=e.currentStyle[h]||e.currentStyle[m];if(!rb.test(q)&&sb.test(q)){h=p.left;var y=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left;p.left=m==="fontSize"?"1em":q||0;q=p.pixelLeft+"px";p.left=h;e.runtimeStyle.left=y}}return q},swap:function(e,h,m){var q={};for(var p in h){q[p]=e.style[p];e.style[p]=h[p]}m.call(e);for(p in h)e.style[p]=q[p]}});if(i.expr&&i.expr.filters){i.expr.filters.hidden=function(e){var h=
e.offsetWidth,m=e.offsetHeight,q=e.nodeName.toLowerCase()==="tr";return h===0&&m===0&&!q?true:h>0&&m>0&&!q?false:i.curCSS(e,"display")==="none"};i.expr.filters.visible=function(e){return!i.expr.filters.hidden(e)}}var xb=l(),yb=/<script(.|\s)*?\/script>/gi,zb=/select|textarea/i,Ab=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,Ka=/=\?(&|$)/,Za=/\?/,Bb=/(\?|&)_=.*?(&|$)/,Cb=/^(\w+:)?\/\/([^\/?#]+)/,Db=/%20/g,Eb=i.fn.load;i.fn.extend({load:function(e,h,
m){if(typeof e!=="string")return Eb.call(this,e);else if(!this.length)return this;var q=e.indexOf(" ");if(q>=0){var p=e.slice(q,e.length);e=e.slice(0,q)}q="GET";if(h)if(i.isFunction(h)){m=h;h=null}else if(typeof h==="object"){h=i.param(h,i.ajaxSettings.traditional);q="POST"}var y=this;i.ajax({url:e,type:q,dataType:"html",data:h,complete:function(z,J){if(J==="success"||J==="notmodified")y.html(p?i("<div />").append(z.responseText.replace(yb,"")).find(p):z.responseText);m&&y.each(m,[z.responseText,
J,z])}});return this},serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||zb.test(this.nodeName)||Ab.test(this.type))}).map(function(e,h){e=i(this).val();return e==null?null:i.isArray(e)?i.map(e,function(m){return{name:h.name,value:m}}):{name:h.name,value:e}}).get()}});i.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(e,h){i.fn[h]=function(m){return this.bind(h,m)}});i.extend({get:function(e,h,m,q){if(i.isFunction(h)){q=q||m;m=h;h=null}return i.ajax({type:"GET",url:e,data:h,success:m,dataType:q})},getScript:function(e,h){return i.get(e,null,h,"script")},getJSON:function(e,h,m){return i.get(e,h,m,"json")},post:function(e,h,m,q){if(i.isFunction(h)){q=q||m;m=h;h={}}return i.ajax({type:"POST",url:e,data:h,success:m,dataType:q})},ajaxSetup:function(e){i.extend(i.ajaxSettings,e)},ajaxSettings:{url:location.href,
global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:b.XMLHttpRequest&&(b.location.protocol!=="file:"||!b.ActiveXObject)?function(){return new b.XMLHttpRequest}:function(){try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(e){function h(){p.success&&
p.success.call(C,J,z,W);p.global&&q("ajaxSuccess",[W,p])}function m(){p.complete&&p.complete.call(C,W,z);p.global&&q("ajaxComplete",[W,p]);p.global&&!--i.active&&i.event.trigger("ajaxStop")}function q(M,L){(p.context?i(p.context):i.event).trigger(M,L)}var p=i.extend(true,{},i.ajaxSettings,e),y,z,J,C=e&&e.context||p,I=p.type.toUpperCase();if(p.data&&p.processData&&typeof p.data!=="string")p.data=i.param(p.data,p.traditional);if(p.dataType==="jsonp"){if(I==="GET")Ka.test(p.url)||(p.url+=(Za.test(p.url)?
"&":"?")+(p.jsonp||"callback")+"=?");else if(!p.data||!Ka.test(p.data))p.data=(p.data?p.data+"&":"")+(p.jsonp||"callback")+"=?";p.dataType="json"}if(p.dataType==="json"&&(p.data&&Ka.test(p.data)||Ka.test(p.url))){y=p.jsonpCallback||"jsonp"+xb++;if(p.data)p.data=(p.data+"").replace(Ka,"="+y+"$1");p.url=p.url.replace(Ka,"="+y+"$1");p.dataType="script";b[y]=b[y]||function(M){J=M;h();m();b[y]=c;try{delete b[y]}catch(L){}ba&&ba.removeChild(fa)}}if(p.dataType==="script"&&p.cache===null)p.cache=false;if(p.cache===
false&&I==="GET"){var P=l(),U=p.url.replace(Bb,"$1_="+P+"$2");p.url=U+(U===p.url?(Za.test(p.url)?"&":"?")+"_="+P:"")}if(p.data&&I==="GET")p.url+=(Za.test(p.url)?"&":"?")+p.data;p.global&&!i.active++&&i.event.trigger("ajaxStart");P=(P=Cb.exec(p.url))&&(P[1]&&P[1]!==location.protocol||P[2]!==location.host);if(p.dataType==="script"&&I==="GET"&&P){var ba=N.getElementsByTagName("head")[0]||N.documentElement,fa=N.createElement("script");fa.src=p.url;if(p.scriptCharset)fa.charset=p.scriptCharset;if(!y){var ca=
false;fa.onload=fa.onreadystatechange=function(){if(!ca&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){ca=true;h();m();fa.onload=fa.onreadystatechange=null;ba&&fa.parentNode&&ba.removeChild(fa)}}}ba.insertBefore(fa,ba.firstChild);return c}var na=false,W=p.xhr();if(W){p.username?W.open(I,p.url,p.async,p.username,p.password):W.open(I,p.url,p.async);try{if(p.data||e&&e.contentType)W.setRequestHeader("Content-Type",p.contentType);if(p.ifModified){i.lastModified[p.url]&&
W.setRequestHeader("If-Modified-Since",i.lastModified[p.url]);i.etag[p.url]&&W.setRequestHeader("If-None-Match",i.etag[p.url])}P||W.setRequestHeader("X-Requested-With","XMLHttpRequest");W.setRequestHeader("Accept",p.dataType&&p.accepts[p.dataType]?p.accepts[p.dataType]+", */*":p.accepts._default)}catch(Va){}if(p.beforeSend&&p.beforeSend.call(C,W,p)===false){p.global&&!--i.active&&i.event.trigger("ajaxStop");W.abort();return false}p.global&&q("ajaxSend",[W,p]);var u=W.onreadystatechange=function(M){if(!W||
W.readyState===0||M==="abort"){na||m();na=true;if(W)W.onreadystatechange=i.noop}else if(!na&&W&&(W.readyState===4||M==="timeout")){na=true;W.onreadystatechange=i.noop;z=M==="timeout"?"timeout":!i.httpSuccess(W)?"error":p.ifModified&&i.httpNotModified(W,p.url)?"notmodified":"success";var L;if(z==="success")try{J=i.httpData(W,p.dataType,p)}catch(V){z="parsererror";L=V}if(z==="success"||z==="notmodified")y||h();else i.handleError(p,W,z,L);m();M==="timeout"&&W.abort();if(p.async)W=null}};try{var x=W.abort;
W.abort=function(){W&&x.call(W);u("abort")}}catch(D){}p.async&&p.timeout>0&&setTimeout(function(){W&&!na&&u("timeout")},p.timeout);try{W.send(I==="POST"||I==="PUT"||I==="DELETE"?p.data:null)}catch(H){i.handleError(p,W,null,H);m()}p.async||u();return W}},handleError:function(e,h,m,q){if(e.error)e.error.call(e.context||e,h,m,q);if(e.global)(e.context?i(e.context):i.event).trigger("ajaxError",[h,e,q])},active:0,httpSuccess:function(e){try{return!e.status&&location.protocol==="file:"||e.status>=200&&
e.status<300||e.status===304||e.status===1223||e.status===0}catch(h){}return false},httpNotModified:function(e,h){var m=e.getResponseHeader("Last-Modified"),q=e.getResponseHeader("Etag");if(m)i.lastModified[h]=m;if(q)i.etag[h]=q;return e.status===304||e.status===0},httpData:function(e,h,m){var q=e.getResponseHeader("content-type")||"",p=h==="xml"||!h&&q.indexOf("xml")>=0;e=p?e.responseXML:e.responseText;p&&e.documentElement.nodeName==="parsererror"&&i.error("parsererror");if(m&&m.dataFilter)e=m.dataFilter(e,
h);if(typeof e==="string")if(h==="json"||!h&&q.indexOf("json")>=0)e=i.parseJSON(e);else if(h==="script"||!h&&q.indexOf("javascript")>=0)i.globalEval(e);return e},param:function(e,h){function m(z,J){if(i.isArray(J))i.each(J,function(C,I){h||/\[\]$/.test(z)?q(z,I):m(z+"["+(typeof I==="object"||i.isArray(I)?C:"")+"]",I)});else!h&&J!=null&&typeof J==="object"?i.each(J,function(C,I){m(z+"["+C+"]",I)}):q(z,J)}function q(z,J){J=i.isFunction(J)?J():J;p[p.length]=encodeURIComponent(z)+"="+encodeURIComponent(J)}
var p=[];if(h===c)h=i.ajaxSettings.traditional;if(i.isArray(e)||e.jquery)i.each(e,function(){q(this.name,this.value)});else for(var y in e)m(y,e[y]);return p.join("&").replace(Db,"+")}});var $a={},Fb=/toggle|show|hide/,Gb=/^([+-]=)?([\d+-.]+)(.*)$/,Ua,cb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];i.fn.extend({show:function(e,h){if(e||e===0)return this.animate(F("show",3),e,h);else{e=0;for(h=this.length;e<
h;e++){var m=i.data(this[e],"olddisplay");this[e].style.display=m||"";if(i.css(this[e],"display")==="none"){m=this[e].nodeName;var q;if($a[m])q=$a[m];else{var p=i("<"+m+" />").appendTo("body");q=p.css("display");if(q==="none")q="block";p.remove();$a[m]=q}i.data(this[e],"olddisplay",q)}}e=0;for(h=this.length;e<h;e++)this[e].style.display=i.data(this[e],"olddisplay")||"";return this}},hide:function(e,h){if(e||e===0)return this.animate(F("hide",3),e,h);else{e=0;for(h=this.length;e<h;e++){var m=i.data(this[e],
"olddisplay");!m&&m!=="none"&&i.data(this[e],"olddisplay",i.css(this[e],"display"))}e=0;for(h=this.length;e<h;e++)this[e].style.display="none";return this}},_toggle:i.fn.toggle,toggle:function(e,h){var m=typeof e==="boolean";if(i.isFunction(e)&&i.isFunction(h))this._toggle.apply(this,arguments);else e==null||m?this.each(function(){var q=m?e:i(this).is(":hidden");i(this)[q?"show":"hide"]()}):this.animate(F("toggle",3),e,h);return this},fadeTo:function(e,h,m){return this.filter(":hidden").css("opacity",
0).show().end().animate({opacity:h},e,m)},animate:function(e,h,m,q){var p=i.speed(h,m,q);if(i.isEmptyObject(e))return this.each(p.complete);return this[p.queue===false?"each":"queue"](function(){var y=i.extend({},p),z,J=this.nodeType===1&&i(this).is(":hidden"),C=this;for(z in e){var I=z.replace(Xa,Ya);if(z!==I){e[I]=e[z];delete e[z];z=I}if(e[z]==="hide"&&J||e[z]==="show"&&!J)return y.complete.call(this);if((z==="height"||z==="width")&&this.style){y.display=i.css(this,"display");y.overflow=this.style.overflow}if(i.isArray(e[z])){(y.specialEasing=
y.specialEasing||{})[z]=e[z][1];e[z]=e[z][0]}}if(y.overflow!=null)this.style.overflow="hidden";y.curAnim=i.extend({},e);i.each(e,function(P,U){var ba=new i.fx(C,y,P);if(Fb.test(U))ba[U==="toggle"?J?"show":"hide":U](e);else{var fa=Gb.exec(U),ca=ba.cur(true)||0;if(fa){U=parseFloat(fa[2]);var na=fa[3]||"px";if(na!=="px"){C.style[P]=(U||1)+na;ca=(U||1)/ba.cur(true)*ca;C.style[P]=ca+na}if(fa[1])U=(fa[1]==="-="?-1:1)*U+ca;ba.custom(ca,U,na)}else ba.custom(ca,U,"")}});return true})},stop:function(e,h){var m=
i.timers;e&&this.queue([]);this.each(function(){for(var q=m.length-1;q>=0;q--)if(m[q].elem===this){h&&m[q](true);m.splice(q,1)}});h||this.dequeue();return this}});i.each({slideDown:F("show",1),slideUp:F("hide",1),slideToggle:F("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(e,h){i.fn[e]=function(m,q){return this.animate(h,m,q)}});i.extend({speed:function(e,h,m){var q=e&&typeof e==="object"?e:{complete:m||!m&&h||i.isFunction(e)&&e,duration:e,easing:m&&h||h&&!i.isFunction(h)&&
h};q.duration=i.fx.off?0:typeof q.duration==="number"?q.duration:i.fx.speeds[q.duration]||i.fx.speeds._default;q.old=q.complete;q.complete=function(){q.queue!==false&&i(this).dequeue();i.isFunction(q.old)&&q.old.call(this)};return q},easing:{linear:function(e,h,m,q){return m+q*e},swing:function(e,h,m,q){return(-Math.cos(e*Math.PI)/2+0.5)*q+m}},timers:[],fx:function(e,h,m){this.options=h;this.elem=e;this.prop=m;if(!h.orig)h.orig={}}});i.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,
this.now,this);(i.fx.step[this.prop]||i.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style)this.elem.style.display="block"},cur:function(e){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];return(e=parseFloat(i.css(this.elem,this.prop,e)))&&e>-10000?e:parseFloat(i.curCSS(this.elem,this.prop))||0},custom:function(e,h,m){function q(y){return p.step(y)}this.startTime=l();this.start=e;this.end=h;this.unit=
m||this.unit||"px";this.now=this.start;this.pos=this.state=0;var p=this;q.elem=this.elem;if(q()&&i.timers.push(q)&&!Ua)Ua=setInterval(i.fx.tick,13)},show:function(){this.options.orig[this.prop]=i.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());i(this.elem).show()},hide:function(){this.options.orig[this.prop]=i.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(e){var h=l(),m=true;if(e||
h>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var q in this.options.curAnim)if(this.options.curAnim[q]!==true)m=false;if(m){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;e=i.data(this.elem,"olddisplay");this.elem.style.display=e?e:this.options.display;if(i.css(this.elem,"display")==="none")this.elem.style.display="block"}this.options.hide&&i(this.elem).hide();if(this.options.hide||
this.options.show)for(var p in this.options.curAnim)i.style(this.elem,p,this.options.orig[p]);this.options.complete.call(this.elem)}return false}else{p=h-this.startTime;this.state=p/this.options.duration;e=this.options.easing||(i.easing.swing?"swing":"linear");this.pos=i.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||e](this.state,p,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};i.extend(i.fx,{tick:function(){for(var e=
i.timers,h=0;h<e.length;h++)e[h]()||e.splice(h--,1);e.length||i.fx.stop()},stop:function(){clearInterval(Ua);Ua=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){i.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null)e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit;else e.elem[e.prop]=e.now}}});if(i.expr&&i.expr.filters)i.expr.filters.animated=function(e){return i.grep(i.timers,function(h){return e===
h.elem}).length};i.fn.offset="getBoundingClientRect"in N.documentElement?function(e){var h=this[0];if(e)return this.each(function(p){i.offset.setOffset(this,e,p)});if(!h||!h.ownerDocument)return null;if(h===h.ownerDocument.body)return i.offset.bodyOffset(h);var m=h.getBoundingClientRect(),q=h.ownerDocument;h=q.body;q=q.documentElement;return{top:m.top+(self.pageYOffset||i.support.boxModel&&q.scrollTop||h.scrollTop)-(q.clientTop||h.clientTop||0),left:m.left+(self.pageXOffset||i.support.boxModel&&q.scrollLeft||
h.scrollLeft)-(q.clientLeft||h.clientLeft||0)}}:function(e){var h=this[0];if(e)return this.each(function(P){i.offset.setOffset(this,e,P)});if(!h||!h.ownerDocument)return null;if(h===h.ownerDocument.body)return i.offset.bodyOffset(h);i.offset.initialize();var m=h.offsetParent,q=h,p=h.ownerDocument,y,z=p.documentElement,J=p.body;q=(p=p.defaultView)?p.getComputedStyle(h,null):h.currentStyle;for(var C=h.offsetTop,I=h.offsetLeft;(h=h.parentNode)&&h!==J&&h!==z;){if(i.offset.supportsFixedPosition&&q.position===
"fixed")break;y=p?p.getComputedStyle(h,null):h.currentStyle;C-=h.scrollTop;I-=h.scrollLeft;if(h===m){C+=h.offsetTop;I+=h.offsetLeft;if(i.offset.doesNotAddBorder&&!(i.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(h.nodeName))){C+=parseFloat(y.borderTopWidth)||0;I+=parseFloat(y.borderLeftWidth)||0}q=m;m=h.offsetParent}if(i.offset.subtractsBorderForOverflowNotVisible&&y.overflow!=="visible"){C+=parseFloat(y.borderTopWidth)||0;I+=parseFloat(y.borderLeftWidth)||0}q=y}if(q.position==="relative"||
q.position==="static"){C+=J.offsetTop;I+=J.offsetLeft}if(i.offset.supportsFixedPosition&&q.position==="fixed"){C+=Math.max(z.scrollTop,J.scrollTop);I+=Math.max(z.scrollLeft,J.scrollLeft)}return{top:C,left:I}};i.offset={initialize:function(){var e=N.body,h=N.createElement("div"),m,q,p,y=parseFloat(i.curCSS(e,"marginTop",true))||0;i.extend(h.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});h.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
e.insertBefore(h,e.firstChild);m=h.firstChild;q=m.firstChild;p=m.nextSibling.firstChild.firstChild;this.doesNotAddBorder=q.offsetTop!==5;this.doesAddBorderForTableAndCells=p.offsetTop===5;q.style.position="fixed";q.style.top="20px";this.supportsFixedPosition=q.offsetTop===20||q.offsetTop===15;q.style.position=q.style.top="";m.style.overflow="hidden";m.style.position="relative";this.subtractsBorderForOverflowNotVisible=q.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=e.offsetTop!==y;e.removeChild(h);
i.offset.initialize=i.noop},bodyOffset:function(e){var h=e.offsetTop,m=e.offsetLeft;i.offset.initialize();if(i.offset.doesNotIncludeMarginInBodyOffset){h+=parseFloat(i.curCSS(e,"marginTop",true))||0;m+=parseFloat(i.curCSS(e,"marginLeft",true))||0}return{top:h,left:m}},setOffset:function(e,h,m){if(/static/.test(i.curCSS(e,"position")))e.style.position="relative";var q=i(e),p=q.offset(),y=parseInt(i.curCSS(e,"top",true),10)||0,z=parseInt(i.curCSS(e,"left",true),10)||0;if(i.isFunction(h))h=h.call(e,
m,p);m={top:h.top-p.top+y,left:h.left-p.left+z};"using"in h?h.using.call(e,m):q.css(m)}};i.fn.extend({position:function(){if(!this[0])return null;var e=this[0],h=this.offsetParent(),m=this.offset(),q=/^body|html$/i.test(h[0].nodeName)?{top:0,left:0}:h.offset();m.top-=parseFloat(i.curCSS(e,"marginTop",true))||0;m.left-=parseFloat(i.curCSS(e,"marginLeft",true))||0;q.top+=parseFloat(i.curCSS(h[0],"borderTopWidth",true))||0;q.left+=parseFloat(i.curCSS(h[0],"borderLeftWidth",true))||0;return{top:m.top-
q.top,left:m.left-q.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||N.body;e&&!/^body|html$/i.test(e.nodeName)&&i.css(e,"position")==="static";)e=e.offsetParent;return e})}});i.each(["Left","Top"],function(e,h){var m="scroll"+h;i.fn[m]=function(q){var p=this[0],y;if(!p)return null;if(q!==c)return this.each(function(){if(y=K(this))y.scrollTo(!e?q:i(y).scrollLeft(),e?q:i(y).scrollTop());else this[m]=q});else return(y=K(p))?"pageXOffset"in y?y[e?"pageYOffset":"pageXOffset"]:
i.support.boxModel&&y.document.documentElement[m]||y.document.body[m]:p[m]}});i.each(["Height","Width"],function(e,h){var m=h.toLowerCase();i.fn["inner"+h]=function(){return this[0]?i.css(this[0],m,false,"padding"):null};i.fn["outer"+h]=function(q){return this[0]?i.css(this[0],m,false,q?"margin":"border"):null};i.fn[m]=function(q){var p=this[0];if(!p)return q==null?null:this;if(i.isFunction(q))return this.each(function(y){var z=i(this);z[m](q.call(this,y,z[m]()))});return"scrollTo"in p&&p.document?
p.document.compatMode==="CSS1Compat"&&p.document.documentElement["client"+h]||p.document.body["client"+h]:p.nodeType===9?Math.max(p.documentElement["client"+h],p.body["scroll"+h],p.documentElement["scroll"+h],p.body["offset"+h],p.documentElement["offset"+h]):q===c?i.css(p,m):this.css(m,typeof q==="string"?q:q+"px")}});b.jQuery=b.$=i})(window);jQuery.ui||function(b){function c(r,k,j,w){function E(F){F=b[r][k][F]||[];return typeof F=="string"?F.split(/,?\s+/):F}var B=E("getter");if(w.length==1&&typeof w[0]=="string")B=B.concat(E("getterSetter"));return b.inArray(j,B)!=-1}var f=b.fn.remove,g=b.browser.mozilla&&parseFloat(b.browser.version)<1.9;b.ui={version:"1.7.2",plugin:{add:function(r,k,j){r=b.ui[r].prototype;for(var w in j){r.plugins[w]=r.plugins[w]||[];r.plugins[w].push([k,j[w]])}},call:function(r,k,j){if((k=r.plugins[k])&&r.element[0].parentNode)for(var w=
0;w<k.length;w++)r.options[k[w][0]]&&k[w][1].apply(r.element,j)}},contains:function(r,k){return document.compareDocumentPosition?r.compareDocumentPosition(k)&16:r!==k&&r.contains(k)},hasScroll:function(r,k){if(b(r).css("overflow")=="hidden")return false;k=k&&k=="left"?"scrollLeft":"scrollTop";var j=false;if(r[k]>0)return true;r[k]=1;j=r[k]>0;r[k]=0;return j},isOverAxis:function(r,k,j){return r>k&&r<k+j},isOver:function(r,k,j,w,E,B){return b.ui.isOverAxis(r,j,E)&&b.ui.isOverAxis(k,w,B)},keyCode:{BACKSPACE:8,
CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(g){var o=b.attr,l=b.fn.removeAttr,d=/^aria-/,s=/^wairole:/;b.attr=function(r,k,j){var w=j!==undefined;return k=="role"?w?o.call(this,r,k,"wairole:"+j):(o.apply(this,arguments)||"").replace(s,""):d.test(k)?w?r.setAttributeNS("http://www.w3.org/2005/07/aaa",
k.replace(d,"aaa:"),j):o.call(this,r,k.replace(d,"aaa:")):o.apply(this,arguments)};b.fn.removeAttr=function(r){return d.test(r)?this.each(function(){this.removeAttributeNS("http://www.w3.org/2005/07/aaa",r.replace(d,""))}):l.call(this,r)}}b.fn.extend({remove:function(){b("*",this).add(this).each(function(){b(this).triggerHandler("remove")});return f.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var r;r=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,
"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!r.length?b(document):r}});b.extend(b.expr[":"],{data:function(r,k,j){return!!b.data(r,j[3])},focusable:function(r){var k=r.nodeName.toLowerCase(),j=b.attr(r,"tabindex");return(/input|select|textarea|button|object/.test(k)?!r.disabled:"a"==k||"area"==k?r.href||!isNaN(j):!isNaN(j))&&!b(r)["area"==k?"parents":"closest"](":hidden").length},tabbable:function(r){var k=b.attr(r,"tabindex");
return(isNaN(k)||k>=0)&&b(r).is(":focusable")}});b.widget=function(r,k){var j=r.split(".")[0];r=r.split(".")[1];b.fn[r]=function(w){var E=typeof w=="string",B=Array.prototype.slice.call(arguments,1);if(E&&w.substring(0,1)=="_")return this;if(E&&c(j,r,w,B)){var F=b.data(this[0],r);return F?F[w].apply(F,B):undefined}return this.each(function(){var K=b.data(this,r);!K&&!E&&b.data(this,r,new b[j][r](this,w))._init();K&&E&&b.isFunction(K[w])&&K[w].apply(K,B)})};b[j]=b[j]||{};b[j][r]=function(w,E){var B=
this;this.namespace=j;this.widgetName=r;this.widgetEventPrefix=b[j][r].eventPrefix||r;this.widgetBaseClass=j+"-"+r;this.options=b.extend({},b.widget.defaults,b[j][r].defaults,b.metadata&&b.metadata.get(w)[r],E);this.element=b(w).bind("setData."+r,function(F,K,i){if(F.target==w)return B._setData(K,i)}).bind("getData."+r,function(F,K){if(F.target==w)return B._getData(K)}).bind("remove",function(){return B.destroy()})};b[j][r].prototype=b.extend({},b.widget.prototype,k);b[j][r].getterSetter="option"};
b.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(r,k){var j=r,w=this;if(typeof r=="string"){if(k===undefined)return this._getData(r);j={};j[r]=k}b.each(j,function(E,B){w._setData(E,B)})},_getData:function(r){return this.options[r]},_setData:function(r,k){this.options[r]=k;if(r=="disabled")this.element[k?"addClass":"removeClass"](this.widgetBaseClass+
"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",k)},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(r,k,j){var w=this.options[r];r=r==this.widgetEventPrefix?r:this.widgetEventPrefix+r;k=b.Event(k);k.type=r;if(k.originalEvent){r=b.event.props.length;for(var E;r;){E=b.event.props[--r];k[E]=k.originalEvent[E]}}this.element.trigger(k,j);return!(b.isFunction(w)&&w.call(this.element[0],k,j)===false||k.isDefaultPrevented())}};
b.widget.defaults={disabled:false};b.ui.mouse={_mouseInit:function(){var r=this;this.element.bind("mousedown."+this.widgetName,function(k){return r._mouseDown(k)}).bind("click."+this.widgetName,function(k){if(r._preventClickEvent){r._preventClickEvent=false;k.stopImmediatePropagation();return false}});if(b.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);
b.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(r){r.originalEvent=r.originalEvent||{};if(!r.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(r);this._mouseDownEvent=r;var k=this,j=r.which==1,w=typeof this.options.cancel=="string"?b(r.target).parents().add(r.target).filter(this.options.cancel).length:false;if(!j||w||!this._mouseCapture(r))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){k.mouseDelayMet=
true},this.options.delay);if(this._mouseDistanceMet(r)&&this._mouseDelayMet(r)){this._mouseStarted=this._mouseStart(r)!==false;if(!this._mouseStarted){r.preventDefault();return true}}this._mouseMoveDelegate=function(E){return k._mouseMove(E)};this._mouseUpDelegate=function(E){return k._mouseUp(E)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.browser.safari||r.preventDefault();return r.originalEvent.mouseHandled=true}},
_mouseMove:function(r){if(b.browser.msie&&!r.button)return this._mouseUp(r);if(this._mouseStarted){this._mouseDrag(r);return r.preventDefault()}if(this._mouseDistanceMet(r)&&this._mouseDelayMet(r))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,r)!==false)?this._mouseDrag(r):this._mouseUp(r);return!this._mouseStarted},_mouseUp:function(r){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;this._preventClickEvent=r.target==this._mouseDownEvent.target;this._mouseStop(r)}return false},_mouseDistanceMet:function(r){return Math.max(Math.abs(this._mouseDownEvent.pageX-r.pageX),Math.abs(this._mouseDownEvent.pageY-r.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}};b.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery);
(function(b){b.widget("ui.draggable",b.extend({},b.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
this._mouseDestroy()}},_mouseCapture:function(c){var f=this.options;if(this.helper||f.disabled||b(c.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(c);if(!this.handle)return false;return true},_mouseStart:function(c){var f=this.options;this.helper=this._createHelper(c);this._cacheHelperProportions();if(b.ui.ddmanager)b.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();
this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);f.containment&&this._setContainment();this._trigger("start",c);this._cacheHelperProportions();b.ui.ddmanager&&
!f.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(c,true);return true},_mouseDrag:function(c,f){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!f){f=this._uiHash();this._trigger("drag",c,f);this.position=f.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+
"px";b.ui.ddmanager&&b.ui.ddmanager.drag(this,c);return false},_mouseStop:function(c){var f=false;if(b.ui.ddmanager&&!this.options.dropBehaviour)f=b.ui.ddmanager.drop(this,c);if(this.dropped){f=this.dropped;this.dropped=false}if(this.options.revert=="invalid"&&!f||this.options.revert=="valid"&&f||this.options.revert===true||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)){var g=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){g._trigger("stop",
c);g._clear()})}else{this._trigger("stop",c);this._clear()}return false},_getHandle:function(c){var f=!this.options.handle||!b(this.options.handle,this.element).length?true:false;b(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target)f=true});return f},_createHelper:function(c){var f=this.options;c=b.isFunction(f.helper)?b(f.helper.apply(this.element[0],[c])):f.helper=="clone"?this.element.clone():this.element;c.parents("body").length||c.appendTo(f.appendTo=="parent"?
this.element[0].parentNode:f.appendTo);c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){if(c.left!=undefined)this.offset.click.left=c.left+this.margins.left;if(c.right!=undefined)this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;if(c.top!=undefined)this.offset.click.top=c.top+this.margins.top;if(c.bottom!=undefined)this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment=="parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(c.containment=="document"?document:window).width()-this.helperProportions.width-
this.margins.left,(b(c.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){var f=b(c.containment)[0];if(f){c=b(c.containment).offset();var g=b(f).css("overflow")!="hidden";this.containment=[c.left+(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(f).css("borderTopWidth"),
10)||0)+(parseInt(b(f).css("paddingTop"),10)||0)-this.margins.top,c.left+(g?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(g?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(c.containment.constructor==
Array)this.containment=c.containment},_convertPositionTo:function(c,f){if(!f)f=this.position;c=c=="absolute"?1:-1;var g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(g[0].tagName);return{top:f.top+this.offset.relative.top*c+this.offset.parent.top*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:g.scrollTop())*
c),left:f.left+this.offset.relative.left*c+this.offset.parent.left*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:g.scrollLeft())*c)}},_generatePosition:function(c){var f=this.options,g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(g[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=
document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var l=c.pageX,d=c.pageY;if(this.originalPosition){if(this.containment){if(c.pageX-this.offset.click.left<this.containment[0])l=this.containment[0]+this.offset.click.left;if(c.pageY-this.offset.click.top<this.containment[1])d=this.containment[1]+this.offset.click.top;if(c.pageX-this.offset.click.left>this.containment[2])l=this.containment[2]+this.offset.click.left;if(c.pageY-this.offset.click.top>this.containment[3])d=
this.containment[3]+this.offset.click.top}if(f.grid){d=this.originalPageY+Math.round((d-this.originalPageY)/f.grid[1])*f.grid[1];d=this.containment?!(d-this.offset.click.top<this.containment[1]||d-this.offset.click.top>this.containment[3])?d:!(d-this.offset.click.top<this.containment[1])?d-f.grid[1]:d+f.grid[1]:d;l=this.originalPageX+Math.round((l-this.originalPageX)/f.grid[0])*f.grid[0];l=this.containment?!(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?
l:!(l-this.offset.click.left<this.containment[0])?l-f.grid[0]:l+f.grid[0]:l}}return{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:g.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:g.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,f,g){g=g||this._uiHash();b.ui.plugin.call(this,c,[f,g]);if(c=="drag")this.positionAbs=this._convertPositionTo("absolute");return b.widget.prototype._trigger.call(this,c,f,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));b.extend(b.ui.draggable,{version:"1.7.2",
eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});b.ui.plugin.add("draggable","connectToSortable",{start:function(c,
f){var g=b(this).data("draggable"),o=g.options,l=b.extend({},f,{item:g.element});g.sortables=[];b(o.connectToSortable).each(function(){var d=b.data(this,"sortable");if(d&&!d.options.disabled){g.sortables.push({instance:d,shouldRevert:d.options.revert});d._refreshItems();d._trigger("activate",c,l)}})},stop:function(c,f){var g=b(this).data("draggable"),o=b.extend({},f,{item:g.element});b.each(g.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;g.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=
false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;g.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",c,o)}})},drag:function(c,f){var g=b(this).data("draggable"),o=this;b.each(g.sortables,function(){this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;
this.instance.offset.click=g.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=b(o).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};c.target=this.instance.currentItem[0];this.instance._mouseCapture(c,true);this.instance._mouseStart(c,true,true);this.instance.offset.click.top=
g.offset.click.top;this.instance.offset.click.left=g.offset.click.left;this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top;g._trigger("toSortable",c);g.dropped=this.instance.element;g.currentItem=g.element;this.instance.fromOutside=g}this.instance.currentItem&&this.instance._mouseDrag(c)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;
this.instance.options.revert=false;this.instance._trigger("out",c,this.instance._uiHash(this.instance));this.instance._mouseStop(c,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();g._trigger("fromSortable",c);g.dropped=false}})}});b.ui.plugin.add("draggable","cursor",{start:function(){var c=b("body"),f=b(this).data("draggable").options;if(c.css("cursor"))f._cursor=c.css("cursor");c.css("cursor",
f.cursor)},stop:function(){var c=b(this).data("draggable").options;c._cursor&&b("body").css("cursor",c._cursor)}});b.ui.plugin.add("draggable","iframeFix",{start:function(){var c=b(this).data("draggable").options;b(c.iframeFix===true?"iframe":c.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")})},stop:function(){b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});
b.ui.plugin.add("draggable","opacity",{start:function(c,f){c=b(f.helper);f=b(this).data("draggable").options;if(c.css("opacity"))f._opacity=c.css("opacity");c.css("opacity",f.opacity)},stop:function(c,f){c=b(this).data("draggable").options;c._opacity&&b(f.helper).css("opacity",c._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var c=b(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML")c.overflowOffset=c.scrollParent.offset()},drag:function(c){var f=
b(this).data("draggable"),g=f.options,o=false;if(f.scrollParent[0]!=document&&f.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x")if(f.overflowOffset.top+f.scrollParent[0].offsetHeight-c.pageY<g.scrollSensitivity)f.scrollParent[0].scrollTop=o=f.scrollParent[0].scrollTop+g.scrollSpeed;else if(c.pageY-f.overflowOffset.top<g.scrollSensitivity)f.scrollParent[0].scrollTop=o=f.scrollParent[0].scrollTop-g.scrollSpeed;if(!g.axis||g.axis!="y")if(f.overflowOffset.left+f.scrollParent[0].offsetWidth-c.pageX<
g.scrollSensitivity)f.scrollParent[0].scrollLeft=o=f.scrollParent[0].scrollLeft+g.scrollSpeed;else if(c.pageX-f.overflowOffset.left<g.scrollSensitivity)f.scrollParent[0].scrollLeft=o=f.scrollParent[0].scrollLeft-g.scrollSpeed}else{if(!g.axis||g.axis!="x")if(c.pageY-b(document).scrollTop()<g.scrollSensitivity)o=b(document).scrollTop(b(document).scrollTop()-g.scrollSpeed);else if(b(window).height()-(c.pageY-b(document).scrollTop())<g.scrollSensitivity)o=b(document).scrollTop(b(document).scrollTop()+
g.scrollSpeed);if(!g.axis||g.axis!="y")if(c.pageX-b(document).scrollLeft()<g.scrollSensitivity)o=b(document).scrollLeft(b(document).scrollLeft()-g.scrollSpeed);else if(b(window).width()-(c.pageX-b(document).scrollLeft())<g.scrollSensitivity)o=b(document).scrollLeft(b(document).scrollLeft()+g.scrollSpeed)}o!==false&&b.ui.ddmanager&&!g.dropBehaviour&&b.ui.ddmanager.prepareOffsets(f,c)}});b.ui.plugin.add("draggable","snap",{start:function(){var c=b(this).data("draggable"),f=c.options;c.snapElements=
[];b(f.snap.constructor!=String?f.snap.items||":data(draggable)":f.snap).each(function(){var g=b(this),o=g.offset();this!=c.element[0]&&c.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:o.top,left:o.left})})},drag:function(c,f){for(var g=b(this).data("draggable"),o=g.options,l=o.snapTolerance,d=f.offset.left,s=d+g.helperProportions.width,r=f.offset.top,k=r+g.helperProportions.height,j=g.snapElements.length-1;j>=0;j--){var w=g.snapElements[j].left,E=w+g.snapElements[j].width,
B=g.snapElements[j].top,F=B+g.snapElements[j].height;if(w-l<d&&d<E+l&&B-l<r&&r<F+l||w-l<d&&d<E+l&&B-l<k&&k<F+l||w-l<s&&s<E+l&&B-l<r&&r<F+l||w-l<s&&s<E+l&&B-l<k&&k<F+l){if(o.snapMode!="inner"){var K=Math.abs(B-k)<=l,i=Math.abs(F-r)<=l,ha=Math.abs(w-s)<=l,ja=Math.abs(E-d)<=l;if(K)f.position.top=g._convertPositionTo("relative",{top:B-g.helperProportions.height,left:0}).top-g.margins.top;if(i)f.position.top=g._convertPositionTo("relative",{top:F,left:0}).top-g.margins.top;if(ha)f.position.left=g._convertPositionTo("relative",
{top:0,left:w-g.helperProportions.width}).left-g.margins.left;if(ja)f.position.left=g._convertPositionTo("relative",{top:0,left:E}).left-g.margins.left}var N=K||i||ha||ja;if(o.snapMode!="outer"){K=Math.abs(B-r)<=l;i=Math.abs(F-k)<=l;ha=Math.abs(w-d)<=l;ja=Math.abs(E-s)<=l;if(K)f.position.top=g._convertPositionTo("relative",{top:B,left:0}).top-g.margins.top;if(i)f.position.top=g._convertPositionTo("relative",{top:F-g.helperProportions.height,left:0}).top-g.margins.top;if(ha)f.position.left=g._convertPositionTo("relative",
{top:0,left:w}).left-g.margins.left;if(ja)f.position.left=g._convertPositionTo("relative",{top:0,left:E-g.helperProportions.width}).left-g.margins.left}if(!g.snapElements[j].snapping&&(K||i||ha||ja||N))g.options.snap.snap&&g.options.snap.snap.call(g.element,c,b.extend(g._uiHash(),{snapItem:g.snapElements[j].item}));g.snapElements[j].snapping=K||i||ha||ja||N}else{g.snapElements[j].snapping&&g.options.snap.release&&g.options.snap.release.call(g.element,c,b.extend(g._uiHash(),{snapItem:g.snapElements[j].item}));
g.snapElements[j].snapping=false}}}});b.ui.plugin.add("draggable","stack",{start:function(){var c=b(this).data("draggable").options,f=b.makeArray(b(c.stack.group)).sort(function(g,o){return(parseInt(b(g).css("zIndex"),10)||c.stack.min)-(parseInt(b(o).css("zIndex"),10)||c.stack.min)});b(f).each(function(g){this.style.zIndex=c.stack.min+g});this[0].style.zIndex=c.stack.min+f.length}});b.ui.plugin.add("draggable","zIndex",{start:function(c,f){c=b(f.helper);f=b(this).data("draggable").options;if(c.css("zIndex"))f._zIndex=
c.css("zIndex");c.css("zIndex",f.zIndex)},stop:function(c,f){c=b(this).data("draggable").options;c._zIndex&&b(f.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(b){b.widget("ui.droppable",{_init:function(){var c=this.options.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&b.isFunction(this.options.accept)?this.options.accept:function(f){return f.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[this.options.scope]=b.ui.ddmanager.droppables[this.options.scope]||[];b.ui.ddmanager.droppables[this.options.scope].push(this);this.options.addClasses&&this.element.addClass("ui-droppable")},
destroy:function(){for(var c=b.ui.ddmanager.droppables[this.options.scope],f=0;f<c.length;f++)c[f]==this&&c.splice(f,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(c,f){if(c=="accept")this.options.accept=f&&b.isFunction(f)?f:function(g){return g.is(f)};else b.widget.prototype._setData.apply(this,arguments)},_activate:function(c){var f=b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);
f&&this._trigger("activate",c,this.ui(f))},_deactivate:function(c){var f=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",c,this.ui(f))},_over:function(c){var f=b.ui.ddmanager.current;if(!(!f||(f.currentItem||f.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],f.currentItem||f.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",c,this.ui(f))}},
_out:function(c){var f=b.ui.ddmanager.current;if(!(!f||(f.currentItem||f.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],f.currentItem||f.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",c,this.ui(f))}},_drop:function(c,f){var g=f||b.ui.ddmanager.current;if(!g||(g.currentItem||g.element)[0]==this.element[0])return false;var o=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var l=
b.data(this,"droppable");if(l.options.greedy&&b.ui.intersect(g,b.extend(l,{offset:l.element.offset()}),l.options.tolerance)){o=true;return false}});if(o)return false;if(this.options.accept.call(this.element[0],g.currentItem||g.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",c,this.ui(g));return this.element}return false},ui:function(c){return{draggable:c.currentItem||
c.element,helper:c.helper,position:c.position,absolutePosition:c.positionAbs,offset:c.positionAbs}}});b.extend(b.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});b.ui.intersect=function(c,f,g){if(!f.offset)return false;var o=(c.positionAbs||c.position.absolute).left,l=o+c.helperProportions.width,d=(c.positionAbs||c.position.absolute).top,s=d+c.helperProportions.height,r=f.offset.left,
k=r+f.proportions.width,j=f.offset.top,w=j+f.proportions.height;switch(g){case "fit":return r<o&&l<k&&j<d&&s<w;case "intersect":return r<o+c.helperProportions.width/2&&l-c.helperProportions.width/2<k&&j<d+c.helperProportions.height/2&&s-c.helperProportions.height/2<w;case "pointer":return b.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,j,r,f.proportions.height,f.proportions.width);
case "touch":return(d>=j&&d<=w||s>=j&&s<=w||d<j&&s>w)&&(o>=r&&o<=k||l>=r&&l<=k||o<r&&l>k);default:return false}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,f){var g=b.ui.ddmanager.droppables[c.options.scope],o=f?f.type:null,l=(c.currentItem||c.element).find(":data(droppable)").andSelf(),d=0;a:for(;d<g.length;d++)if(!(g[d].options.disabled||c&&!g[d].options.accept.call(g[d].element[0],c.currentItem||c.element))){for(var s=0;s<l.length;s++)if(l[s]==g[d].element[0]){g[d].proportions.height=
0;continue a}g[d].visible=g[d].element.css("display")!="none";if(g[d].visible){g[d].offset=g[d].element.offset();g[d].proportions={width:g[d].element[0].offsetWidth,height:g[d].element[0].offsetHeight};o=="mousedown"&&g[d]._activate.call(g[d],f)}}},drop:function(c,f){var g=false;b.each(b.ui.ddmanager.droppables[c.options.scope],function(){if(this.options){if(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance))g=this._drop.call(this,f);if(!this.options.disabled&&this.visible&&
this.options.accept.call(this.element[0],c.currentItem||c.element)){this.isout=1;this.isover=0;this._deactivate.call(this,f)}}});return g},drag:function(c,f){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,f);b.each(b.ui.ddmanager.droppables[c.options.scope],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var g=b.ui.intersect(c,this,this.options.tolerance);if(g=!g&&this.isover==1?"isout":g&&this.isover==0?"isover":null){var o;if(this.options.greedy){var l=this.element.parents(":data(droppable):eq(0)");
if(l.length){o=b.data(l[0],"droppable");o.greedyChild=g=="isover"?1:0}}if(o&&g=="isover"){o.isover=0;o.isout=1;o._out.call(o,f)}this[g]=1;this[g=="isout"?"isover":"isout"]=0;this[g=="isover"?"_over":"_out"].call(this,f);if(o&&g=="isout"){o.isout=0;o.isover=1;o._over.call(o,f)}}}})}}})(jQuery);
(function(b){b.widget("ui.sortable",b.extend({},b.ui.mouse,{_init:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--)this.items[c].item.removeData("sortable-item")},
_mouseCapture:function(c,f){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(c);var g=null,o=this;b(c.target).parents().each(function(){if(b.data(this,"sortable-item")==o){g=b(this);return false}});if(b.data(c.target,"sortable-item")==o)g=b(c.target);if(!g)return false;if(this.options.handle&&!f){var l=false;b(this.options.handle,g).find("*").andSelf().each(function(){if(this==c.target)l=true});if(!l)return false}this.currentItem=
g;this._removeCurrentsFromItems();return true},_mouseStart:function(c,f,g){f=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");b.extend(this.offset,
{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();f.containment&&this._setContainment();
if(f.cursor){if(b("body").css("cursor"))this._storedCursor=b("body").css("cursor");b("body").css("cursor",f.cursor)}if(f.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",f.opacity)}if(f.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",f.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",
c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!g)for(g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",c,this._uiHash(this));if(b.ui.ddmanager)b.ui.ddmanager.current=this;b.ui.ddmanager&&!f.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(c);return true},_mouseDrag:function(c){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");
if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var f=this.options,g=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<f.scrollSensitivity)this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+f.scrollSpeed;else if(c.pageY-this.overflowOffset.top<f.scrollSensitivity)this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-f.scrollSpeed;if(this.overflowOffset.left+
this.scrollParent[0].offsetWidth-c.pageX<f.scrollSensitivity)this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+f.scrollSpeed;else if(c.pageX-this.overflowOffset.left<f.scrollSensitivity)this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(c.pageY-b(document).scrollTop()<f.scrollSensitivity)g=b(document).scrollTop(b(document).scrollTop()-f.scrollSpeed);else if(b(window).height()-(c.pageY-b(document).scrollTop())<f.scrollSensitivity)g=b(document).scrollTop(b(document).scrollTop()+
f.scrollSpeed);if(c.pageX-b(document).scrollLeft()<f.scrollSensitivity)g=b(document).scrollLeft(b(document).scrollLeft()-f.scrollSpeed);else if(b(window).width()-(c.pageX-b(document).scrollLeft())<f.scrollSensitivity)g=b(document).scrollLeft(b(document).scrollLeft()+f.scrollSpeed)}g!==false&&b.ui.ddmanager&&!f.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+
"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(f=this.items.length-1;f>=0;f--){g=this.items[f];var o=g.item[0],l=this._intersectsWithPointer(g);if(l)if(o!=this.currentItem[0]&&this.placeholder[l==1?"next":"prev"]()[0]!=o&&!b.ui.contains(this.placeholder[0],o)&&(this.options.type=="semi-dynamic"?!b.ui.contains(this.element[0],o):true)){this.direction=l==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(g))this._rearrange(c,
g);else break;this._trigger("change",c,this._uiHash());break}}this._contactContainers(c);b.ui.ddmanager&&b.ui.ddmanager.drag(this,c);this._trigger("sort",c,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(c,f){if(c){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,c);if(this.options.revert){var g=this;f=g.placeholder.offset();g.reverting=true;b(this.helper).animate({left:f.left-this.offset.parent.left-g.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-g.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){g._clear(c)})}else this._clear(c,f);return false}},cancel:function(){if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",
null,this._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,this._uiHash(this));this.containers[c].containerCache.over=0}}}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem);return true},serialize:function(c){var f=this._getItemsAsjQuery(c&&c.connected),g=[];c=c||{};b(f).each(function(){var o=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);if(o)g.push((c.key||o[1]+"[]")+"="+(c.key&&c.expression?o[1]:o[2]))});return g.join("&")},toArray:function(c){var f=this._getItemsAsjQuery(c&&c.connected),g=[];c=c||{};f.each(function(){g.push(b(c.item||this).attr(c.attribute||"id")||"")});return g},
_intersectsWith:function(c){var f=this.positionAbs.left,g=f+this.helperProportions.width,o=this.positionAbs.top,l=o+this.helperProportions.height,d=c.left,s=d+c.width,r=c.top,k=r+c.height,j=this.offset.click.top,w=this.offset.click.left;j=o+j>r&&o+j<k&&f+w>d&&f+w<s;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?j:d<f+this.helperProportions.width/
2&&g-this.helperProportions.width/2<s&&r<o+this.helperProportions.height/2&&l-this.helperProportions.height/2<k},_intersectsWithPointer:function(c){var f=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);f=f&&c;c=this._getDragVerticalDirection();var g=this._getDragHorizontalDirection();if(!f)return false;return this.floating?g&&g=="right"||c=="down"?2:1:c&&(c=="down"?2:1)},_intersectsWithSides:function(c){var f=
b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var g=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?o=="right"&&c||o=="left"&&!c:g&&(g=="down"&&f||g=="up"&&!f)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=
this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions()},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){var f=[],g=[],o=this._connectWith();if(o&&c)for(c=o.length-1;c>=0;c--)for(var l=b(o[c]),d=l.length-1;d>=0;d--){var s=b.data(l[d],"sortable");if(s&&s!=this&&!s.options.disabled)g.push([b.isFunction(s.options.items)?
s.options.items.call(s.element):b(s.options.items,s.element).not(".ui-sortable-helper"),s])}g.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper"),this]);for(c=g.length-1;c>=0;c--)g[c][0].each(function(){f.push(this)});return b(f)},_removeCurrentsFromItems:function(){for(var c=this.currentItem.find(":data(sortable-item)"),f=0;f<this.items.length;f++)for(var g=0;g<
c.length;g++)c[g]==this.items[f].item[0]&&this.items.splice(f,1)},_refreshItems:function(c){this.items=[];this.containers=[this];var f=this.items,g=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):b(this.options.items,this.element),this]],o=this._connectWith();if(o)for(var l=o.length-1;l>=0;l--)for(var d=b(o[l]),s=d.length-1;s>=0;s--){var r=b.data(d[s],"sortable");if(r&&r!=this&&!r.options.disabled){g.push([b.isFunction(r.options.items)?r.options.items.call(r.element[0],
c,{item:this.currentItem}):b(r.options.items,r.element),r]);this.containers.push(r)}}for(l=g.length-1;l>=0;l--){c=g[l][1];o=g[l][0];s=0;for(d=o.length;s<d;s++){r=b(o[s]);r.data("sortable-item",c);f.push({item:r,instance:c,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var f=this.items.length-1;f>=0;f--){var g=this.items[f];if(!(g.instance!=this.currentContainer&&this.currentContainer&&g.item[0]!=this.currentItem[0])){var o=
this.options.toleranceElement?b(this.options.toleranceElement,g.item):g.item;if(!c){g.width=o.outerWidth();g.height=o.outerHeight()}o=o.offset();g.left=o.left;g.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(f=this.containers.length-1;f>=0;f--){o=this.containers[f].element.offset();this.containers[f].containerCache.left=o.left;this.containers[f].containerCache.top=o.top;this.containers[f].containerCache.width=this.containers[f].element.outerWidth();
this.containers[f].containerCache.height=this.containers[f].element.outerHeight()}},_createPlaceholder:function(c){var f=c||this,g=f.options;if(!g.placeholder||g.placeholder.constructor==String){var o=g.placeholder;g.placeholder={element:function(){var l=b(document.createElement(f.currentItem[0].nodeName)).addClass(o||f.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!o)l.style.visibility="hidden";return l},update:function(l,d){if(!(o&&!g.forcePlaceholderSize)){d.height()||
d.height(f.currentItem.innerHeight()-parseInt(f.currentItem.css("paddingTop")||0,10)-parseInt(f.currentItem.css("paddingBottom")||0,10));d.width()||d.width(f.currentItem.innerWidth()-parseInt(f.currentItem.css("paddingLeft")||0,10)-parseInt(f.currentItem.css("paddingRight")||0,10))}}}}f.placeholder=b(g.placeholder.element.call(f.element,f.currentItem));f.currentItem.after(f.placeholder);g.placeholder.update(f,f.placeholder)},_contactContainers:function(c){for(var f=this.containers.length-1;f>=0;f--)if(this._intersectsWith(this.containers[f].containerCache)){if(!this.containers[f].containerCache.over){if(this.currentContainer!=
this.containers[f]){for(var g=1E4,o=null,l=this.positionAbs[this.containers[f].floating?"left":"top"],d=this.items.length-1;d>=0;d--)if(b.ui.contains(this.containers[f].element[0],this.items[d].item[0])){var s=this.items[d][this.containers[f].floating?"left":"top"];if(Math.abs(s-l)<g){g=Math.abs(s-l);o=this.items[d]}}if(!o&&!this.options.dropOnEmpty)continue;this.currentContainer=this.containers[f];o?this._rearrange(c,o,null,true):this._rearrange(c,null,this.containers[f].element,true);this._trigger("change",
c,this._uiHash());this.containers[f]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder)}this.containers[f]._trigger("over",c,this._uiHash(this));this.containers[f].containerCache.over=1}}else if(this.containers[f].containerCache.over){this.containers[f]._trigger("out",c,this._uiHash(this));this.containers[f].containerCache.over=0}},_createHelper:function(c){var f=this.options;c=b.isFunction(f.helper)?b(f.helper.apply(this.element[0],[c,
this.currentItem])):f.helper=="clone"?this.currentItem.clone():this.currentItem;c.parents("body").length||b(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]);if(c[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(c[0].style.width==""||f.forceHelperSize)c.width(this.currentItem.width());
if(c[0].style.height==""||f.forceHelperSize)c.height(this.currentItem.height());return c},_adjustOffsetFromHelper:function(c){if(c.left!=undefined)this.offset.click.left=c.left+this.margins.left;if(c.right!=undefined)this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;if(c.top!=undefined)this.offset.click.top=c.top+this.margins.top;if(c.bottom!=undefined)this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment=="parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(c.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(c.containment=="document"?document:window).height()||
document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)){var f=b(c.containment)[0];c=b(c.containment).offset();var g=b(f).css("overflow")!="hidden";this.containment=[c.left+(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(f).css("borderTopWidth"),10)||0)+(parseInt(b(f).css("paddingTop"),10)||0)-this.margins.top,c.left+(g?Math.max(f.scrollWidth,
f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(g?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(c,f){if(!f)f=this.position;c=c=="absolute"?1:-1;var g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=
document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(g[0].tagName);return{top:f.top+this.offset.relative.top*c+this.offset.parent.top*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:g.scrollTop())*c),left:f.left+this.offset.relative.left*c+this.offset.parent.left*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
o?0:g.scrollLeft())*c)}},_generatePosition:function(c){var f=this.options,g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(g[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var l=c.pageX,d=c.pageY;if(this.originalPosition){if(this.containment){if(c.pageX-
this.offset.click.left<this.containment[0])l=this.containment[0]+this.offset.click.left;if(c.pageY-this.offset.click.top<this.containment[1])d=this.containment[1]+this.offset.click.top;if(c.pageX-this.offset.click.left>this.containment[2])l=this.containment[2]+this.offset.click.left;if(c.pageY-this.offset.click.top>this.containment[3])d=this.containment[3]+this.offset.click.top}if(f.grid){d=this.originalPageY+Math.round((d-this.originalPageY)/f.grid[1])*f.grid[1];d=this.containment?!(d-this.offset.click.top<
this.containment[1]||d-this.offset.click.top>this.containment[3])?d:!(d-this.offset.click.top<this.containment[1])?d-f.grid[1]:d+f.grid[1]:d;l=this.originalPageX+Math.round((l-this.originalPageX)/f.grid[0])*f.grid[0];l=this.containment?!(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l:!(l-this.offset.click.left<this.containment[0])?l-f.grid[0]:l+f.grid[0]:l}}return{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&
this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:g.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:g.scrollLeft())}},_rearrange:function(c,f,g,o){g?g[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?f.item[0]:f.item[0].nextSibling);this.counter=
this.counter?++this.counter:1;var l=this,d=this.counter;window.setTimeout(function(){d==l.counter&&l.refreshPositions(!o)},0)},_clear:function(c,f){this.reverting=false;var g=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var o in this._storedCSS)if(this._storedCSS[o]=="auto"||this._storedCSS[o]=="static")this._storedCSS[o]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!f&&g.push(function(l){this._trigger("receive",l,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!f)g.push(function(l){this._trigger("update",l,this._uiHash())});if(!b.ui.contains(this.element[0],this.currentItem[0])){f||g.push(function(l){this._trigger("remove",l,this._uiHash())});for(o=this.containers.length-1;o>=0;o--)if(b.ui.contains(this.containers[o].element[0],
this.currentItem[0])&&!f){g.push(function(l){return function(d){l._trigger("receive",d,this._uiHash(this))}}.call(this,this.containers[o]));g.push(function(l){return function(d){l._trigger("update",d,this._uiHash(this))}}.call(this,this.containers[o]))}}for(o=this.containers.length-1;o>=0;o--){f||g.push(function(l){return function(d){l._trigger("deactivate",d,this._uiHash(this))}}.call(this,this.containers[o]));if(this.containers[o].containerCache.over){g.push(function(l){return function(d){l._trigger("out",
d,this._uiHash(this))}}.call(this,this.containers[o]));this.containers[o].containerCache.over=0}}this._storedCursor&&b("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",c,this._uiHash());for(o=0;o<g.length;o++)g[o].call(this,c);this._trigger("stop",c,this._uiHash())}return false}f||
this._trigger("beforeStop",c,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!f){for(o=0;o<g.length;o++)g[o].call(this,c);this._trigger("stop",c,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){b.widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(c){var f=c||this;return{helper:f.helper,placeholder:f.placeholder||b([]),position:f.position,
absolutePosition:f.positionAbs,offset:f.positionAbs,item:f.currentItem,sender:c?c.element:null}}}));b.extend(b.ui.sortable,{getter:"serialize toArray",version:"1.7.2",eventPrefix:"sort",defaults:{appendTo:"parent",axis:false,cancel:":input,option",connectWith:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,
scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3}})})(jQuery);
(function(b){var c={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"};b.widget("ui.dialog",{_init:function(){this.originalTitle=this.element.attr("title");var f=this,g=this.options,o=g.title||this.originalTitle||"&nbsp;",l=b.ui.dialog.getTitleId(this.element),d=(this.uiDialog=
b("<div/>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+g.dialogClass).css({position:"absolute",overflow:"hidden",zIndex:g.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(k){g.closeOnEscape&&k.keyCode&&k.keyCode==b.ui.keyCode.ESCAPE&&f.close(k)}).attr({role:"dialog","aria-labelledby":l}).mousedown(function(k){f.moveToTop(false,k)});this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(d);
var s=(this.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(d),r=b('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){r.addClass("ui-state-hover")},function(){r.removeClass("ui-state-hover")}).focus(function(){r.addClass("ui-state-focus")}).blur(function(){r.removeClass("ui-state-focus")}).mousedown(function(k){k.stopPropagation()}).click(function(k){f.close(k);return false}).appendTo(s);
(this.uiDialogTitlebarCloseText=b("<span/>")).addClass("ui-icon ui-icon-closethick").text(g.closeText).appendTo(r);b("<span/>").addClass("ui-dialog-title").attr("id",l).html(o).prependTo(s);s.find("*").add(s).disableSelection();g.draggable&&b.fn.draggable&&this._makeDraggable();g.resizable&&b.fn.resizable&&this._makeResizable();this._createButtons(g.buttons);this._isOpen=false;g.bgiframe&&b.fn.bgiframe&&d.bgiframe();g.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();
this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle)},close:function(f){var g=this;if(false!==g._trigger("beforeclose",f)){g.overlay&&g.overlay.destroy();g.uiDialog.unbind("keypress.ui-dialog");g.options.hide?g.uiDialog.hide(g.options.hide,function(){g._trigger("close",f)}):g.uiDialog.hide()&&g._trigger("close",f);b.ui.dialog.overlay.resize();
g._isOpen=false;if(g.options.modal){var o=0;b(".ui-dialog").each(function(){if(this!=g.uiDialog[0])o=Math.max(o,b(this).css("z-index"))});b.ui.dialog.maxZ=o}}},isOpen:function(){return this._isOpen},moveToTop:function(f,g){if(this.options.modal&&!f||!this.options.stack&&!this.options.modal)return this._trigger("focus",g);if(this.options.zIndex>b.ui.dialog.maxZ)b.ui.dialog.maxZ=this.options.zIndex;this.overlay&&this.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=++b.ui.dialog.maxZ);f={scrollTop:this.element.attr("scrollTop"),
scrollLeft:this.element.attr("scrollLeft")};this.uiDialog.css("z-index",++b.ui.dialog.maxZ);this.element.attr(f);this._trigger("focus",g)},open:function(){if(!this._isOpen){var f=this.options,g=this.uiDialog;this.overlay=f.modal?new b.ui.dialog.overlay(this):null;g.next().length&&g.appendTo("body");this._size();this._position(f.position);g.show(f.show);this.moveToTop(true);f.modal&&g.bind("keypress.ui-dialog",function(o){if(o.keyCode==b.ui.keyCode.TAB){var l=b(":tabbable",this),d=l.filter(":first")[0],
s=l.filter(":last")[0];if(o.target==s&&!o.shiftKey)setTimeout(function(){d.focus()},1);else o.target==d&&o.shiftKey&&setTimeout(function(){s.focus()},1)}});b([]).add(g.find(".ui-dialog-content :tabbable:first")).add(g.find(".ui-dialog-buttonpane :tabbable:first")).add(g).filter(":first").focus();this._trigger("open");this._isOpen=true}},_createButtons:function(f){var g=this,o=false,l=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiDialog.find(".ui-dialog-buttonpane").remove();
typeof f=="object"&&f!==null&&b.each(f,function(){return!(o=true)});if(o){b.each(f,function(d,s){b('<button type="button"></button>').addClass("ui-state-default ui-corner-all").text(d).click(function(){s.apply(g.element[0],arguments)}).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}).focus(function(){b(this).addClass("ui-state-focus")}).blur(function(){b(this).removeClass("ui-state-focus")}).appendTo(l)});l.appendTo(this.uiDialog)}},_makeDraggable:function(){var f=
this,g=this.options,o;this.uiDialog.draggable({cancel:".ui-dialog-content",handle:".ui-dialog-titlebar",containment:"document",start:function(){o=g.height;b(this).height(b(this).height()).addClass("ui-dialog-dragging");g.dragStart&&g.dragStart.apply(f.element[0],arguments)},drag:function(){g.drag&&g.drag.apply(f.element[0],arguments)},stop:function(){b(this).removeClass("ui-dialog-dragging").height(o);g.dragStop&&g.dragStop.apply(f.element[0],arguments);b.ui.dialog.overlay.resize()}})},_makeResizable:function(f){f=
f===undefined?this.options.resizable:f;var g=this,o=this.options;this.uiDialog.resizable({cancel:".ui-dialog-content",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:o.minHeight,start:function(){b(this).addClass("ui-dialog-resizing");o.resizeStart&&o.resizeStart.apply(g.element[0],arguments)},resize:function(){o.resize&&o.resize.apply(g.element[0],arguments)},handles:typeof f=="string"?f:"n,e,s,w,se,sw,ne,nw",stop:function(){b(this).removeClass("ui-dialog-resizing");
o.height=b(this).height();o.width=b(this).width();o.resizeStop&&o.resizeStop.apply(g.element[0],arguments);b.ui.dialog.overlay.resize()}}).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_position:function(f){var g=b(window),o=b(document),l=o.scrollTop();o=o.scrollLeft();var d=l;if(b.inArray(f,["center","top","right","bottom","left"])>=0)f=[f=="right"||f=="left"?f:"center",f=="top"||f=="bottom"?f:"middle"];if(f.constructor!=Array)f=["center","middle"];if(f[0].constructor==Number)o+=
f[0];else switch(f[0]){case "left":o+=0;break;case "right":o+=g.width()-this.uiDialog.outerWidth();break;default:case "center":o+=(g.width()-this.uiDialog.outerWidth())/2}if(f[1].constructor==Number)l+=f[1];else switch(f[1]){case "top":l+=0;break;case "bottom":l+=g.height()-this.uiDialog.outerHeight();break;default:case "middle":l+=(g.height()-this.uiDialog.outerHeight())/2}l=Math.max(l,d);this.uiDialog.css({top:l,left:o})},_setData:function(f,g){c[f]&&this.uiDialog.data(c[f],g);switch(f){case "buttons":this._createButtons(g);
break;case "closeText":this.uiDialogTitlebarCloseText.text(g);break;case "dialogClass":this.uiDialog.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+g);break;case "draggable":g?this._makeDraggable():this.uiDialog.draggable("destroy");break;case "height":this.uiDialog.height(g);break;case "position":this._position(g);break;case "resizable":var o=this.uiDialog,l=this.uiDialog.is(":data(resizable)");l&&!g&&o.resizable("destroy");l&&typeof g=="string"&&
o.resizable("option","handles",g);l||this._makeResizable(g);break;case "title":b(".ui-dialog-title",this.uiDialogTitlebar).html(g||"&nbsp;");break;case "width":this.uiDialog.width(g);break}b.widget.prototype._setData.apply(this,arguments)},_size:function(){var f=this.options;this.element.css({height:0,minHeight:0,width:"auto"});var g=this.uiDialog.css({height:"auto",width:f.width}).height();this.element.css({minHeight:Math.max(f.minHeight-g,0),height:f.height=="auto"?"auto":Math.max(f.height-g,0)})}});
b.extend(b.ui.dialog,{version:"1.7.2",defaults:{autoOpen:true,bgiframe:false,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:"center",resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},getter:"isOpen",uuid:0,maxZ:0,getTitleId:function(f){return"ui-dialog-title-"+(f.attr("id")||++this.uuid)},overlay:function(f){this.$el=b.ui.dialog.overlay.create(f)}});
b.extend(b.ui.dialog.overlay,{instances:[],maxZ:0,events:b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(f){return f+".dialog-overlay"}).join(" "),create:function(f){if(this.instances.length===0){setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,function(o){return(b(o.target).parents(".ui-dialog").css("zIndex")||0)>b.ui.dialog.overlay.maxZ})},1);b(document).bind("keydown.dialog-overlay",function(o){f.options.closeOnEscape&&
o.keyCode&&o.keyCode==b.ui.keyCode.ESCAPE&&f.close(o)});b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize)}var g=b("<div></div>").appendTo(document.body).addClass("ui-widget-overlay").css({width:this.width(),height:this.height()});f.options.bgiframe&&b.fn.bgiframe&&g.bgiframe();this.instances.push(g);return g},destroy:function(f){this.instances.splice(b.inArray(this.instances,f),1);this.instances.length===0&&b([document,window]).unbind(".dialog-overlay");f.remove();var g=0;b.each(this.instances,
function(){g=Math.max(g,this.css("z-index"))});this.maxZ=g},height:function(){if(b.browser.msie&&b.browser.version<7){var f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),g=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return f<g?b(window).height()+"px":f+"px"}else return b(document).height()+"px"},width:function(){if(b.browser.msie&&b.browser.version<7){var f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),g=Math.max(document.documentElement.offsetWidth,
document.body.offsetWidth);return f<g?b(window).width()+"px":f+"px"}else return b(document).width()+"px"},resize:function(){var f=b([]);b.each(b.ui.dialog.overlay.instances,function(){f=f.add(this)});f.css({width:0,height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function(b){b.widget("ui.tabs",{_init:function(){if(this.options.deselectable!==undefined)this.options.collapsible=this.options.deselectable;this._tabify(true)},_setData:function(c,f){if(c=="selected")this.options.collapsible&&f==this.options.selected||this.select(f);else{this.options[c]=f;if(c=="deselectable")this.options.collapsible=f;this._tabify()}},_tabId:function(c){return c.title&&c.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+b.data(c)},_sanitizeSelector:function(c){return c.replace(/:/g,
"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+b.data(this.list[0]));return b.cookie.apply(null,[c].concat(b.makeArray(arguments)))},_ui:function(c,f){return{tab:c,panel:f,index:this.anchors.index(c)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var c=b(this);c.html(c.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function f(B,F){B.css({display:""});
b.browser.msie&&F.opacity&&B[0].style.removeAttribute("filter")}this.list=this.element.children("ul:first");this.lis=b("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return b("a",this)[0]});this.panels=b([]);var g=this,o=this.options,l=/^#.+/;this.anchors.each(function(B,F){var K=b(F).attr("href"),i=K.split("#")[0],ha;if(i&&(i===location.toString().split("#")[0]||(ha=b("base")[0])&&i===ha.href)){K=F.hash;F.href=K}if(l.test(K))g.panels=g.panels.add(g._sanitizeSelector(K));else if(K!=
"#"){b.data(F,"href.tabs",K);b.data(F,"load.tabs",K.replace(/#.*$/,""));K=g._tabId(F);F.href="#"+K;F=b("#"+K);if(!F.length){F=b(o.panelTemplate).attr("id",K).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(g.panels[B-1]||g.list);F.data("destroy.tabs",true)}g.panels=g.panels.add(F)}else o.disabled.push(B)});if(c){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");
this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(o.selected===undefined){location.hash&&this.anchors.each(function(B,F){if(F.hash==location.hash){o.selected=B;return false}});if(typeof o.selected!="number"&&o.cookie)o.selected=parseInt(g._cookie(),10);if(typeof o.selected!="number"&&this.lis.filter(".ui-tabs-selected").length)o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));o.selected=o.selected||0}else if(o.selected===
null)o.selected=-1;o.selected=o.selected>=0&&this.anchors[o.selected]||o.selected<0?o.selected:0;o.disabled=b.unique(o.disabled.concat(b.map(this.lis.filter(".ui-state-disabled"),function(B){return g.lis.index(B)}))).sort();b.inArray(o.selected,o.disabled)!=-1&&o.disabled.splice(b.inArray(o.selected,o.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(o.selected>=0&&this.anchors.length){this.panels.eq(o.selected).removeClass("ui-tabs-hide");
this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active");g.element.queue("tabs",function(){g._trigger("show",null,g._ui(g.anchors[o.selected],g.panels[o.selected]))});this.load(o.selected)}b(window).bind("unload",function(){g.lis.add(g.anchors).unbind(".tabs");g.lis=g.anchors=g.panels=null})}else o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");o.cookie&&this._cookie(o.selected,o.cookie);c=0;for(var d;d=
this.lis[c];c++)b(d)[b.inArray(c,o.disabled)!=-1&&!b(d).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");o.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(o.event!="mouseover"){var s=function(B,F){F.is(":not(.ui-state-disabled)")&&F.addClass("ui-state-"+B)},r=function(B,F){F.removeClass("ui-state-"+B)};this.lis.bind("mouseover.tabs",function(){s("hover",b(this))});this.lis.bind("mouseout.tabs",function(){r("hover",b(this))});
this.anchors.bind("focus.tabs",function(){s("focus",b(this).closest("li"))});this.anchors.bind("blur.tabs",function(){r("focus",b(this).closest("li"))})}var k,j;if(o.fx)if(b.isArray(o.fx)){k=o.fx[0];j=o.fx[1]}else k=j=o.fx;var w=j?function(B,F){b(B).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");F.hide().removeClass("ui-tabs-hide").animate(j,j.duration||"normal",function(){f(F,j);g._trigger("show",null,g._ui(B,F[0]))})}:function(B,F){b(B).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");
F.removeClass("ui-tabs-hide");g._trigger("show",null,g._ui(B,F[0]))},E=k?function(B,F){F.animate(k,k.duration||"normal",function(){g.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");F.addClass("ui-tabs-hide");f(F,k);g.element.dequeue("tabs")})}:function(B,F){g.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");F.addClass("ui-tabs-hide");g.element.dequeue("tabs")};this.anchors.bind(o.event+".tabs",function(){var B=this,F=b(this).closest("li"),
K=g.panels.filter(":not(.ui-tabs-hide)"),i=b(g._sanitizeSelector(this.hash));if(F.hasClass("ui-tabs-selected")&&!o.collapsible||F.hasClass("ui-state-disabled")||F.hasClass("ui-state-processing")||g._trigger("select",null,g._ui(this,i[0]))===false){this.blur();return false}o.selected=g.anchors.index(this);g.abort();if(o.collapsible)if(F.hasClass("ui-tabs-selected")){o.selected=-1;o.cookie&&g._cookie(o.selected,o.cookie);g.element.queue("tabs",function(){E(B,K)}).dequeue("tabs");this.blur();return false}else if(!K.length){o.cookie&&
g._cookie(o.selected,o.cookie);g.element.queue("tabs",function(){w(B,i)});g.load(g.anchors.index(this));this.blur();return false}o.cookie&&g._cookie(o.selected,o.cookie);if(i.length){K.length&&g.element.queue("tabs",function(){E(B,K)});g.element.queue("tabs",function(){w(B,i)});g.load(g.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";b.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},destroy:function(){var c=this.options;this.abort();
this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var f=b.data(this,"href.tabs");if(f)this.href=f;var g=b(this).unbind(".tabs");b.each(["href","load","cache"],function(o,l){g.removeData(l+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){b.data(this,"destroy.tabs")?
b(this).remove():b(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});c.cookie&&this._cookie(null,c.cookie)},add:function(c,f,g){if(g===undefined)g=this.anchors.length;var o=this,l=this.options;f=b(l.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,f));c=!c.indexOf("#")?c.replace("#",""):this._tabId(b("a",f)[0]);f.addClass("ui-state-default ui-corner-top").data("destroy.tabs",
true);var d=b("#"+c);d.length||(d=b(l.panelTemplate).attr("id",c).data("destroy.tabs",true));d.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(g>=this.lis.length){f.appendTo(this.list);d.appendTo(this.list[0].parentNode)}else{f.insertBefore(this.lis[g]);d.insertBefore(this.panels[g])}l.disabled=b.map(l.disabled,function(s){return s>=g?++s:s});this._tabify();if(this.anchors.length==1){f.addClass("ui-tabs-selected ui-state-active");d.removeClass("ui-tabs-hide");this.element.queue("tabs",
function(){o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[g],this.panels[g]))},remove:function(c){var f=this.options,g=this.lis.eq(c).remove(),o=this.panels.eq(c).remove();if(g.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(c+(c+1<this.anchors.length?1:-1));f.disabled=b.map(b.grep(f.disabled,function(l){return l!=c}),function(l){return l>=c?--l:l});this._tabify();this._trigger("remove",null,this._ui(g.find("a")[0],
o[0]))},enable:function(c){var f=this.options;if(b.inArray(c,f.disabled)!=-1){this.lis.eq(c).removeClass("ui-state-disabled");f.disabled=b.grep(f.disabled,function(g){return g!=c});this._trigger("enable",null,this._ui(this.anchors[c],this.panels[c]))}},disable:function(c){var f=this.options;if(c!=f.selected){this.lis.eq(c).addClass("ui-state-disabled");f.disabled.push(c);f.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c]))}},select:function(c){if(typeof c=="string")c=
this.anchors.index(this.anchors.filter("[href$="+c+"]"));else if(c===null)c=-1;if(c==-1&&this.options.collapsible)c=this.options.selected;this.anchors.eq(c).trigger(this.options.event+".tabs")},load:function(c){var f=this,g=this.options,o=this.anchors.eq(c)[0],l=b.data(o,"load.tabs");this.abort();if(!l||this.element.queue("tabs").length!==0&&b.data(o,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(c).addClass("ui-state-processing");if(g.spinner){var d=b("span",o);d.data("label.tabs",d.html()).html(g.spinner)}this.xhr=
b.ajax(b.extend({},g.ajaxOptions,{url:l,success:function(s,r){b(f._sanitizeSelector(o.hash)).html(s);f._cleanup();g.cache&&b.data(o,"cache.tabs",true);f._trigger("load",null,f._ui(f.anchors[c],f.panels[c]));try{g.ajaxOptions.success(s,r)}catch(k){}f.element.dequeue("tabs")}}))}},abort:function(){this.element.queue([]);this.panels.stop(false,true);if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup()},url:function(c,f){this.anchors.eq(c).removeData("cache.tabs").data("load.tabs",f)},length:function(){return this.anchors.length}});
b.extend(b.ui.tabs,{version:"1.7.2",getter:"length",defaults:{ajaxOptions:null,cache:false,cookie:null,collapsible:false,disabled:[],event:"click",fx:null,idPrefix:"ui-tabs-",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'}});b.extend(b.ui.tabs.prototype,{rotation:null,rotate:function(c,f){var g=this,o=this.options,l=g._rotate||(g._rotate=function(d){clearTimeout(g.rotation);g.rotation=setTimeout(function(){var s=o.selected;
g.select(++s<g.anchors.length?s:0)},c);d&&d.stopPropagation()});f=g._unrotate||(g._unrotate=!f?function(d){d.clientX&&g.rotate(null)}:function(){t=o.selected;l()});if(c){this.element.bind("tabsshow",l);this.anchors.bind(o.event+".tabs",f);l()}else{clearTimeout(g.rotation);this.element.unbind("tabsshow",l);this.anchors.unbind(o.event+".tabs",f);delete this._rotate;delete this._unrotate}}})})(jQuery);
jQuery.effects||function(b){function c(l,d){var s=l[1]&&l[1].constructor==Object?l[1]:{};if(d)s.mode=d;d=l[1]&&l[1].constructor!=Object?l[1]:s.duration?s.duration:l[2];d=b.fx.off?0:typeof d==="number"?d:b.fx.speeds[d]||b.fx.speeds._default;var r=s.callback||b.isFunction(l[1])&&l[1]||b.isFunction(l[2])&&l[2]||b.isFunction(l[3])&&l[3];return[l[0],s,d,r]}function f(l){var d;if(l&&l.constructor==Array&&l.length==3)return l;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(l))return[parseInt(d[1],
10),parseInt(d[2],10),parseInt(d[3],10)];if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(l))return[parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55];if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(l))return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)];if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(l))return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(l))return o.transparent;
return o[b.trim(l).toLowerCase()]}function g(l,d){var s;do{s=b.curCSS(l,d);if(s!=""&&s!="transparent"||b.nodeName(l,"body"))break;d="backgroundColor"}while(l=l.parentNode);return f(s)}b.effects={version:"1.7.2",save:function(l,d){for(var s=0;s<d.length;s++)d[s]!==null&&l.data("ec.storage."+d[s],l[0].style[d[s]])},restore:function(l,d){for(var s=0;s<d.length;s++)d[s]!==null&&l.css(d[s],l.data("ec.storage."+d[s]))},setMode:function(l,d){if(d=="toggle")d=l.is(":hidden")?"show":"hide";return d},getBaseline:function(l,
d){var s;switch(l[0]){case "top":s=0;break;case "middle":s=0.5;break;case "bottom":s=1;break;default:s=l[0]/d.height}switch(l[1]){case "left":l=0;break;case "center":l=0.5;break;case "right":l=1;break;default:l=l[1]/d.width}return{x:l,y:s}},createWrapper:function(l){if(l.parent().is(".ui-effects-wrapper"))return l.parent();var d={width:l.outerWidth(true),height:l.outerHeight(true),"float":l.css("float")};l.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');
var s=l.parent();if(l.css("position")=="static"){s.css({position:"relative"});l.css({position:"relative"})}else{var r=l.css("top");if(isNaN(parseInt(r,10)))r="auto";var k=l.css("left");if(isNaN(parseInt(k,10)))k="auto";s.css({position:l.css("position"),top:r,left:k,zIndex:l.css("z-index")}).show();l.css({position:"relative",top:0,left:0})}s.css(d);return s},removeWrapper:function(l){if(l.parent().is(".ui-effects-wrapper"))return l.parent().replaceWith(l);return l},setTransition:function(l,d,s,r){r=
r||{};b.each(d,function(k,j){unit=l.cssUnit(j);if(unit[0]>0)r[j]=unit[0]*s+unit[1]});return r},animateClass:function(l,d,s,r){var k=typeof s=="function"?s:r?r:null,j=typeof s=="string"?s:null;return this.each(function(){var w={},E=b(this),B=E.attr("style")||"";if(typeof B=="object")B=B.cssText;if(l.toggle)E.hasClass(l.toggle)?(l.remove=l.toggle):(l.add=l.toggle);var F=b.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);l.add&&E.addClass(l.add);l.remove&&
E.removeClass(l.remove);var K=b.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);l.add&&E.removeClass(l.add);l.remove&&E.addClass(l.remove);for(var i in K)if(typeof K[i]!="function"&&K[i]&&i.indexOf("Moz")==-1&&i.indexOf("length")==-1&&K[i]!=F[i]&&(i.match(/color/i)||!i.match(/color/i)&&!isNaN(parseInt(K[i],10)))&&(F.position!="static"||F.position=="static"&&!i.match(/left|top|bottom|right/)))w[i]=K[i];E.animate(w,d,j,function(){if(typeof b(this).attr("style")==
"object"){b(this).attr("style").cssText="";b(this).attr("style").cssText=B}else b(this).attr("style",B);l.add&&b(this).addClass(l.add);l.remove&&b(this).removeClass(l.remove);k&&k.apply(this,arguments)})})}};b.fn.extend({_show:b.fn.show,_hide:b.fn.hide,__toggle:b.fn.toggle,_addClass:b.fn.addClass,_removeClass:b.fn.removeClass,_toggleClass:b.fn.toggleClass,effect:function(l,d,s,r){return b.effects[l]?b.effects[l].call(this,{method:l,options:d||{},duration:s,callback:r}):null},show:function(){return!arguments[0]||
arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._show.apply(this,arguments):this.effect.apply(this,c(arguments,"show"))},hide:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._hide.apply(this,arguments):this.effect.apply(this,c(arguments,"hide"))},toggle:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])||b.isFunction(arguments[0])||typeof arguments[0]==
"boolean"?this.__toggle.apply(this,arguments):this.effect.apply(this,c(arguments,"toggle"))},addClass:function(l,d,s,r){return d?b.effects.animateClass.apply(this,[{add:l},d,s,r]):this._addClass(l)},removeClass:function(l,d,s,r){return d?b.effects.animateClass.apply(this,[{remove:l},d,s,r]):this._removeClass(l)},toggleClass:function(l,d,s,r){return typeof d!=="boolean"&&d?b.effects.animateClass.apply(this,[{toggle:l},d,s,r]):this._toggleClass(l,d)},morph:function(l,d,s,r,k){return b.effects.animateClass.apply(this,
[{add:d,remove:l},s,r,k])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(l){var d=this.css(l),s=[];b.each(["em","px","%","pt"],function(r,k){if(d.indexOf(k)>0)s=[parseFloat(d),k]});return s}});b.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(l,d){b.fx.step[d]=function(s){if(s.state==0){s.start=g(s.elem,d);s.end=f(s.end)}s.elem.style[d]="rgb("+[Math.max(Math.min(parseInt(s.pos*(s.end[0]-
s.start[0])+s.start[0],10),255),0),Math.max(Math.min(parseInt(s.pos*(s.end[1]-s.start[1])+s.start[1],10),255),0),Math.max(Math.min(parseInt(s.pos*(s.end[2]-s.start[2])+s.start[2],10),255),0)].join(",")+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,
140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,
0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};b.easing.jswing=b.easing.swing;b.extend(b.easing,{def:"easeOutQuad",swing:function(l,d,s,r,k){return b.easing[b.easing.def](l,d,s,r,k)},easeInQuad:function(l,d,s,r,k){return r*(d/=k)*d+s},easeOutQuad:function(l,d,s,r,k){return-r*(d/=k)*(d-2)+s},easeInOutQuad:function(l,d,s,r,k){if((d/=k/2)<1)return r/2*d*d+s;return-r/2*(--d*(d-2)-1)+s},easeInCubic:function(l,d,s,r,k){return r*(d/=k)*d*d+s},easeOutCubic:function(l,
d,s,r,k){return r*((d=d/k-1)*d*d+1)+s},easeInOutCubic:function(l,d,s,r,k){if((d/=k/2)<1)return r/2*d*d*d+s;return r/2*((d-=2)*d*d+2)+s},easeInQuart:function(l,d,s,r,k){return r*(d/=k)*d*d*d+s},easeOutQuart:function(l,d,s,r,k){return-r*((d=d/k-1)*d*d*d-1)+s},easeInOutQuart:function(l,d,s,r,k){if((d/=k/2)<1)return r/2*d*d*d*d+s;return-r/2*((d-=2)*d*d*d-2)+s},easeInQuint:function(l,d,s,r,k){return r*(d/=k)*d*d*d*d+s},easeOutQuint:function(l,d,s,r,k){return r*((d=d/k-1)*d*d*d*d+1)+s},easeInOutQuint:function(l,
d,s,r,k){if((d/=k/2)<1)return r/2*d*d*d*d*d+s;return r/2*((d-=2)*d*d*d*d+2)+s},easeInSine:function(l,d,s,r,k){return-r*Math.cos(d/k*(Math.PI/2))+r+s},easeOutSine:function(l,d,s,r,k){return r*Math.sin(d/k*(Math.PI/2))+s},easeInOutSine:function(l,d,s,r,k){return-r/2*(Math.cos(Math.PI*d/k)-1)+s},easeInExpo:function(l,d,s,r,k){return d==0?s:r*Math.pow(2,10*(d/k-1))+s},easeOutExpo:function(l,d,s,r,k){return d==k?s+r:r*(-Math.pow(2,-10*d/k)+1)+s},easeInOutExpo:function(l,d,s,r,k){if(d==0)return s;if(d==
k)return s+r;if((d/=k/2)<1)return r/2*Math.pow(2,10*(d-1))+s;return r/2*(-Math.pow(2,-10*--d)+2)+s},easeInCirc:function(l,d,s,r,k){return-r*(Math.sqrt(1-(d/=k)*d)-1)+s},easeOutCirc:function(l,d,s,r,k){return r*Math.sqrt(1-(d=d/k-1)*d)+s},easeInOutCirc:function(l,d,s,r,k){if((d/=k/2)<1)return-r/2*(Math.sqrt(1-d*d)-1)+s;return r/2*(Math.sqrt(1-(d-=2)*d)+1)+s},easeInElastic:function(l,d,s,r,k){l=1.70158;var j=0,w=r;if(d==0)return s;if((d/=k)==1)return s+r;j||(j=k*0.3);if(w<Math.abs(r)){w=r;l=j/4}else l=
j/(2*Math.PI)*Math.asin(r/w);return-(w*Math.pow(2,10*(d-=1))*Math.sin((d*k-l)*2*Math.PI/j))+s},easeOutElastic:function(l,d,s,r,k){l=1.70158;var j=0,w=r;if(d==0)return s;if((d/=k)==1)return s+r;j||(j=k*0.3);if(w<Math.abs(r)){w=r;l=j/4}else l=j/(2*Math.PI)*Math.asin(r/w);return w*Math.pow(2,-10*d)*Math.sin((d*k-l)*2*Math.PI/j)+r+s},easeInOutElastic:function(l,d,s,r,k){l=1.70158;var j=0,w=r;if(d==0)return s;if((d/=k/2)==2)return s+r;j||(j=k*0.3*1.5);if(w<Math.abs(r)){w=r;l=j/4}else l=j/(2*Math.PI)*Math.asin(r/
w);if(d<1)return-0.5*w*Math.pow(2,10*(d-=1))*Math.sin((d*k-l)*2*Math.PI/j)+s;return w*Math.pow(2,-10*(d-=1))*Math.sin((d*k-l)*2*Math.PI/j)*0.5+r+s},easeInBack:function(l,d,s,r,k,j){if(j==undefined)j=1.70158;return r*(d/=k)*d*((j+1)*d-j)+s},easeOutBack:function(l,d,s,r,k,j){if(j==undefined)j=1.70158;return r*((d=d/k-1)*d*((j+1)*d+j)+1)+s},easeInOutBack:function(l,d,s,r,k,j){if(j==undefined)j=1.70158;if((d/=k/2)<1)return r/2*d*d*(((j*=1.525)+1)*d-j)+s;return r/2*((d-=2)*d*(((j*=1.525)+1)*d+j)+2)+s},
easeInBounce:function(l,d,s,r,k){return r-b.easing.easeOutBounce(l,k-d,0,r,k)+s},easeOutBounce:function(l,d,s,r,k){return(d/=k)<1/2.75?r*7.5625*d*d+s:d<2/2.75?r*(7.5625*(d-=1.5/2.75)*d+0.75)+s:d<2.5/2.75?r*(7.5625*(d-=2.25/2.75)*d+0.9375)+s:r*(7.5625*(d-=2.625/2.75)*d+0.984375)+s},easeInOutBounce:function(l,d,s,r,k){if(d<k/2)return b.easing.easeInBounce(l,d*2,0,r,k)*0.5+s;return b.easing.easeOutBounce(l,d*2-k,0,r,k)*0.5+r*0.5+s}})}(jQuery);var SWFUpload,swfobject;if(SWFUpload==undefined)SWFUpload=function(b){this.initSWFUpload(b)};SWFUpload.prototype.initSWFUpload=function(b){try{this.customSettings={};this.settings={};this.eventQueue=[];this.movieName="SWFUpload_"+SWFUpload.movieCount++;this.movieElement=null;SWFUpload.instances[this.movieName]=this;this.initSettings(b);this.loadSupport();this.swfuploadPreload()&&this.loadFlash();this.displayDebugInfo()}catch(c){delete SWFUpload.instances[this.movieName];throw c;}};
SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.5.0 2010-01-15 Beta 2";SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290,RESIZE:-300};
SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2};SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.RESIZE_ENCODING={JPEG:-1,PNG:-2};
SWFUpload.completeURL=function(b){try{var c="",f=-1;if(typeof b!=="string"||b.match(/^https?:\/\//i)||b.match(/^\//)||b==="")return b;f=window.location.pathname.lastIndexOf("/");c=f<=0?"/":window.location.pathname.substr(0,f)+"/";return c+b}catch(g){return b}};SWFUpload.onload=function(){};a=SWFUpload.prototype;
a.initSettings=function(b){this.ensureDefault=function(c,f){var g=b[c];this.settings[c]=g!=undefined?g:f};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",false);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",false);this.ensureDefault("requeue_on_error",false);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description",
"All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("flash9_url","swfupload_fp9.swf");this.ensureDefault("prevent_swf_caching",true);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");
this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",false);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",false);this.settings.debug_enabled=this.settings.debug;
this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_preload_handler",null);this.ensureDefault("swfupload_load_failed_handler",null);this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_resize_start_handler",null);this.ensureDefault("upload_start_handler",
null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("mouse_click_handler",null);this.ensureDefault("mouse_out_handler",null);this.ensureDefault("mouse_over_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(this.settings.prevent_swf_caching){this.settings.flash_url=
this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime();this.settings.flash9_url=this.settings.flash9_url+(this.settings.flash9_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()}if(!this.settings.preserve_relative_urls){this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url);this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)}delete this.ensureDefault};
a.loadSupport=function(){this.support={loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}};
a.loadFlash=function(){var b,c,f;if(this.support.loading)if(document.getElementById(this.movieName)!==null){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"])}else{b=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(b==undefined){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["button place holder not found"])}else{c=(b.currentStyle&&b.currentStyle.display||window.getComputedStyle&&
document.defaultView.getComputedStyle(b,null).getPropertyValue("display"))!=="block"?"span":"div";c=document.createElement(c);f=this.getFlashHTML();try{c.innerHTML=f}catch(g){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"]);return}f=c.getElementsByTagName("object");if(!f||f.length>1||f.length===0){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"])}else{if(f.length===
1)this.movieElement=f[0];b.parentNode.replaceChild(c.firstChild,b);if(window[this.movieName]==undefined)window[this.movieName]=this.getMovieElement()}}}else this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"])};
a.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload"><param name="wmode" value="',this.settings.button_window_mode,'" /><param name="movie" value="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" />',
'<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};
a.getFlashVars=function(){var b,c;c=this.buildParamString();b=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(b),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",
encodeURIComponent(c),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),
"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),
"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};a.getMovieElement=function(){if(this.movieElement==undefined)this.movieElement=document.getElementById(this.movieName);if(this.movieElement===null)throw"Could not find Flash element";return this.movieElement};
a.buildParamString=function(){var b,c,f=[];c=this.settings.post_params;if(typeof c==="object")for(b in c)c.hasOwnProperty(b)&&f.push(encodeURIComponent(b.toString())+"="+encodeURIComponent(c[b].toString()));return f.join("&amp;")};
a.destroy=function(){var b;try{this.cancelUpload(null,false);if(b=this.cleanUp())try{b.parentNode.removeChild(b)}catch(c){}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return true}catch(f){return false}};
a.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\nVersion: ",SWFUpload.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",this.settings.upload_url,"\n\tflash_url:                ",this.settings.flash_url,"\n\tflash9_url:                ",this.settings.flash9_url,"\n\tuse_query_string:         ",this.settings.use_query_string.toString(),"\n\trequeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n\thttp_success:             ",
this.settings.http_success.join(", "),"\n\tassume_success_timeout:   ",this.settings.assume_success_timeout,"\n\tfile_post_name:           ",this.settings.file_post_name,"\n\tpost_params:              ",this.settings.post_params.toString(),"\n\tfile_types:               ",this.settings.file_types,"\n\tfile_types_description:   ",this.settings.file_types_description,"\n\tfile_size_limit:          ",this.settings.file_size_limit,"\n\tfile_upload_limit:        ",this.settings.file_upload_limit,"\n\tfile_queue_limit:         ",
this.settings.file_queue_limit,"\n\tdebug:                    ",this.settings.debug.toString(),"\n\tprevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",this.settings.button_image_url.toString(),"\n\tbutton_width:             ",this.settings.button_width.toString(),"\n\tbutton_height:            ",
this.settings.button_height.toString(),"\n\tbutton_text:              ",this.settings.button_text.toString(),"\n\tbutton_text_style:        ",this.settings.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n\tbutton_action:            ",this.settings.button_action.toString(),"\n\tbutton_cursor:            ",this.settings.button_cursor.toString(),"\n\tbutton_disabled:          ",
this.settings.button_disabled.toString(),"\n\tcustom_settings:          ",this.settings.custom_settings.toString(),"\nEvent Handlers:\n\tswfupload_preload_handler assigned:  ",(typeof this.settings.swfupload_preload_handler==="function").toString(),"\n\tswfupload_load_failed_handler assigned:  ",(typeof this.settings.swfupload_load_failed_handler==="function").toString(),"\n\tswfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n\tmouse_click_handler assigned:       ",
(typeof this.settings.mouse_click_handler==="function").toString(),"\n\tmouse_over_handler assigned:        ",(typeof this.settings.mouse_over_handler==="function").toString(),"\n\tmouse_out_handler assigned:         ",(typeof this.settings.mouse_out_handler==="function").toString(),"\n\tfile_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n\tfile_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),
"\n\tfile_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n\tupload_resize_start_handler assigned:      ",(typeof this.settings.upload_resize_start_handler==="function").toString(),"\n\tupload_start_handler assigned:      ",(typeof this.settings.upload_start_handler==="function").toString(),"\n\tupload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n\tupload_error_handler assigned:      ",
(typeof this.settings.upload_error_handler==="function").toString(),"\n\tupload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n\tupload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n\tdebug_handler assigned:             ",(typeof this.settings.debug_handler==="function").toString(),"\nSupport:\n\tLoad:                     ",this.support.loading?"Yes":"No","\n\tImage Resize:             ",
this.support.imageResize?"Yes":"No","\n"].join(""))};a.addSetting=function(b,c,f){return c==undefined?(this.settings[b]=f):(this.settings[b]=c)};a.getSetting=function(b){if(this.settings[b]!=undefined)return this.settings[b];return""};
a.callFlash=function(b,c){var f,g,o;c=c||[];f=this.getMovieElement();try{if(f!=undefined){o=f.CallFunction('<invoke name="'+b+'" returntype="javascript">'+__flash__argumentsToXML(c,0)+"</invoke>");g=eval(o)}else this.debug("Can't call flash because the movie wasn't found.")}catch(l){this.debug("Exception calling flash function '"+b+"': "+l.message)}if(g!=undefined&&typeof g.post==="object")g=this.unescapeFilePostParams(g);return g};a.selectFile=function(){this.callFlash("SelectFile")};
a.selectFiles=function(){this.callFlash("SelectFiles")};a.startUpload=function(b){this.callFlash("StartUpload",[b])};a.startResizedUpload=function(b,c,f,g,o,l){this.callFlash("StartUpload",[b,{width:c,height:f,encoding:g,quality:o,allowEnlarging:l}])};a.cancelUpload=function(b,c){if(c!==false)c=true;this.callFlash("CancelUpload",[b,c])};a.stopUpload=function(){this.callFlash("StopUpload")};a.requeueUpload=function(b){return this.callFlash("RequeueUpload",[b])};a.getStats=function(){return this.callFlash("GetStats")};
a.setStats=function(b){this.callFlash("SetStats",[b])};a.getFile=function(b){return typeof b==="number"?this.callFlash("GetFileByIndex",[b]):this.callFlash("GetFile",[b])};a.getQueueFile=function(b){return typeof b==="number"?this.callFlash("GetFileByQueueIndex",[b]):this.callFlash("GetFile",[b])};a.addFileParam=function(b,c,f){return this.callFlash("AddFileParam",[b,c,f])};a.removeFileParam=function(b,c){this.callFlash("RemoveFileParam",[b,c])};
a.setUploadURL=function(b){this.settings.upload_url=b.toString();this.callFlash("SetUploadURL",[b])};a.setPostParams=function(b){this.settings.post_params=b;this.callFlash("SetPostParams",[b])};a.addPostParam=function(b,c){this.settings.post_params[b]=c;this.callFlash("SetPostParams",[this.settings.post_params])};a.removePostParam=function(b){delete this.settings.post_params[b];this.callFlash("SetPostParams",[this.settings.post_params])};
a.setFileTypes=function(b,c){this.settings.file_types=b;this.settings.file_types_description=c;this.callFlash("SetFileTypes",[b,c])};a.setFileSizeLimit=function(b){this.settings.file_size_limit=b;this.callFlash("SetFileSizeLimit",[b])};a.setFileUploadLimit=function(b){this.settings.file_upload_limit=b;this.callFlash("SetFileUploadLimit",[b])};a.setFileQueueLimit=function(b){this.settings.file_queue_limit=b;this.callFlash("SetFileQueueLimit",[b])};
a.setFilePostName=function(b){this.settings.file_post_name=b;this.callFlash("SetFilePostName",[b])};a.setUseQueryString=function(b){this.settings.use_query_string=b;this.callFlash("SetUseQueryString",[b])};a.setRequeueOnError=function(b){this.settings.requeue_on_error=b;this.callFlash("SetRequeueOnError",[b])};a.setHTTPSuccess=function(b){if(typeof b==="string")b=b.replace(" ","").split(",");this.settings.http_success=b;this.callFlash("SetHTTPSuccess",[b])};
a.setAssumeSuccessTimeout=function(b){this.settings.assume_success_timeout=b;this.callFlash("SetAssumeSuccessTimeout",[b])};a.setDebugEnabled=function(b){this.settings.debug_enabled=b;this.callFlash("SetDebugEnabled",[b])};a.setButtonImageURL=function(b){if(b==undefined)b="";this.settings.button_image_url=b;this.callFlash("SetButtonImageURL",[b])};
a.setButtonDimensions=function(b,c){this.settings.button_width=b;this.settings.button_height=c;var f=this.getMovieElement();if(f!=undefined){f.style.width=b+"px";f.style.height=c+"px"}this.callFlash("SetButtonDimensions",[b,c])};a.setButtonText=function(b){this.settings.button_text=b;this.callFlash("SetButtonText",[b])};a.setButtonTextPadding=function(b,c){this.settings.button_text_top_padding=c;this.settings.button_text_left_padding=b;this.callFlash("SetButtonTextPadding",[b,c])};
a.setButtonTextStyle=function(b){this.settings.button_text_style=b;this.callFlash("SetButtonTextStyle",[b])};a.setButtonDisabled=function(b){this.settings.button_disabled=b;this.callFlash("SetButtonDisabled",[b])};a.setButtonAction=function(b){this.settings.button_action=b;this.callFlash("SetButtonAction",[b])};a.setButtonCursor=function(b){this.settings.button_cursor=b;this.callFlash("SetButtonCursor",[b])};
a.queueEvent=function(b,c){var f=this;if(c==undefined)c=[];else c instanceof Array||(c=[c]);if(typeof this.settings[b]==="function"){this.eventQueue.push(function(){this.settings[b].apply(this,c)});setTimeout(function(){f.executeNextEvent()},0)}else if(this.settings[b]!==null)throw"Event handler "+b+" is unknown or is not a function";};a.executeNextEvent=function(){var b=this.eventQueue?this.eventQueue.shift():null;typeof b==="function"&&b.apply(this)};
a.unescapeFilePostParams=function(b){var c=/[$]([0-9a-f]{4})/i,f={},g,o,l;if(b!=undefined){for(o in b.post)if(b.post.hasOwnProperty(o)){for(g=o;(l=c.exec(g))!==null;)g=g.replace(l[0],String.fromCharCode(parseInt("0x"+l[1],16)));f[g]=b.post[o]}b.post=f}return b};
a.swfuploadPreload=function(){var b;if(typeof this.settings.swfupload_preload_handler==="function")b=this.settings.swfupload_preload_handler.call(this);else if(this.settings.swfupload_preload_handler!=undefined)throw"upload_start_handler must be a function";if(b===undefined)b=true;return!!b};a.flashReady=function(){this.cleanUp()?this.queueEvent("swfupload_loaded_handler"):this.debug("Flash called back ready but the flash movie can't be found.")};
a.cleanUp=function(){var b,c=this.getMovieElement();try{if(c&&typeof c.CallFunction==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(b in c)try{if(typeof c[b]==="function")c[b]=null}catch(f){}}}catch(g){}window.__flash__removeCallback=function(o,l){try{if(o)o[l]=null}catch(d){}};return c};a.mouseClick=function(){this.queueEvent("mouse_click_handler")};a.mouseOver=function(){this.queueEvent("mouse_over_handler")};
a.mouseOut=function(){this.queueEvent("mouse_out_handler")};a.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};a.fileQueued=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("file_queued_handler",b)};a.fileQueueError=function(b,c,f){b=this.unescapeFilePostParams(b);this.queueEvent("file_queue_error_handler",[b,c,f])};a.fileDialogComplete=function(b,c,f){this.queueEvent("file_dialog_complete_handler",[b,c,f])};
a.uploadResizeStart=function(b,c){b=this.unescapeFilePostParams(b);this.queueEvent("upload_resize_start_handler",[b,c.width,c.height,c.encoding,c.quality])};a.uploadStart=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("return_upload_start_handler",b)};
a.returnUploadStart=function(b){var c;if(typeof this.settings.upload_start_handler==="function"){b=this.unescapeFilePostParams(b);c=this.settings.upload_start_handler.call(this,b)}else if(this.settings.upload_start_handler!=undefined)throw"upload_start_handler must be a function";if(c===undefined)c=true;c=!!c;this.callFlash("ReturnUploadStart",[c])};a.uploadProgress=function(b,c,f){b=this.unescapeFilePostParams(b);this.queueEvent("upload_progress_handler",[b,c,f])};
a.uploadError=function(b,c,f){b=this.unescapeFilePostParams(b);this.queueEvent("upload_error_handler",[b,c,f])};a.uploadSuccess=function(b,c,f){b=this.unescapeFilePostParams(b);this.queueEvent("upload_success_handler",[b,c,f])};a.uploadComplete=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("upload_complete_handler",b)};a.debug=function(b){this.queueEvent("debug_handler",b)};
a.debugMessage=function(b){var c,f;if(this.settings.debug){c=[];if(typeof b==="object"&&typeof b.name==="string"&&typeof b.message==="string"){for(f in b)b.hasOwnProperty(f)&&c.push(f+": "+b[f]);b=c.join("\n")||"";c=b.split("\n");b="EXCEPTION: "+c.join("\nEXCEPTION: ");SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(b)}};SWFUpload.Console={};
SWFUpload.Console.writeLine=function(b){var c,f;try{c=document.getElementById("SWFUpload_Console");if(!c){f=document.createElement("form");document.getElementsByTagName("body")[0].appendChild(f);c=document.createElement("textarea");c.id="SWFUpload_Console";c.style.fontFamily="monospace";c.setAttribute("wrap","off");c.wrap="off";c.style.overflow="auto";c.style.width="700px";c.style.height="350px";c.style.margin="5px";f.appendChild(c)}c.value+=b+"\n";c.scrollTop=c.scrollHeight-c.clientHeight}catch(g){alert("Exception: "+
g.name+" Message: "+g.message)}};
swfobject=function(){function b(){if(!wa){try{var A=Z.getElementsByTagName("body")[0].appendChild(i("span"));A.parentNode.removeChild(A)}catch(G){return}wa=true;A=ya.length;for(var O=0;O<A;O++)ya[O]()}}function c(A){if(wa)A();else ya[ya.length]=A}function f(A){if(typeof ia.addEventListener!=da)ia.addEventListener("load",A,false);else if(typeof Z.addEventListener!=da)Z.addEventListener("load",A,false);else if(typeof ia.attachEvent!=da)ha(ia,"onload",A);else if(typeof ia.onload=="function"){var G=ia.onload;
ia.onload=function(){G();A()}}else ia.onload=A}function g(){xa?o():l()}function o(){var A=Z.getElementsByTagName("body")[0],G=i(sa);G.setAttribute("type",Ga);var O=A.appendChild(G);if(O){var Q=0;(function(){if(typeof O.GetVariable!=da){var R=O.GetVariable("$version");if(R){R=R.split(" ")[1].split(",");S.pv=[parseInt(R[0],10),parseInt(R[1],10),parseInt(R[2],10)]}}else if(Q<10){Q++;setTimeout(arguments.callee,10);return}A.removeChild(G);O=null;l()})()}else l()}function l(){var A=qa.length;if(A>0)for(var G=
0;G<A;G++){var O=qa[G].id,Q=qa[G].callbackFn,R={success:false,id:O};if(S.pv[0]>0){var X=K(O);if(X)if(ja(qa[G].swfVersion)&&!(S.wk&&S.wk<312)){pa(O,true);if(Q){R.success=true;R.ref=d(O);Q(R)}}else if(qa[G].expressInstall&&s()){R={};R.data=qa[G].expressInstall;R.width=X.getAttribute("width")||"0";R.height=X.getAttribute("height")||"0";if(X.getAttribute("class"))R.styleclass=X.getAttribute("class");if(X.getAttribute("align"))R.align=X.getAttribute("align");var Y={};X=X.getElementsByTagName("param");
for(var ea=X.length,ga=0;ga<ea;ga++)if(X[ga].getAttribute("name").toLowerCase()!="movie")Y[X[ga].getAttribute("name")]=X[ga].getAttribute("value");r(R,Y,O,Q)}else{k(X);Q&&Q(R)}}else{pa(O,true);if(Q){if((O=d(O))&&typeof O.SetVariable!=da){R.success=true;R.ref=O}Q(R)}}}}function d(A){var G=null;if((A=K(A))&&A.nodeName=="OBJECT")if(typeof A.SetVariable!=da)G=A;else if(A=A.getElementsByTagName(sa)[0])G=A;return G}function s(){return!Ba&&ja("6.0.65")&&(S.win||S.mac)&&!(S.wk&&S.wk<312)}function r(A,G,O,
Q){Ba=true;La=Q||null;Ma={success:false,id:O};var R=K(O);if(R){if(R.nodeName=="OBJECT"){Aa=j(R);la=null}else{Aa=R;la=O}A.id=Qa;if(typeof A.width==da||!/%$/.test(A.width)&&parseInt(A.width,10)<310)A.width="310";if(typeof A.height==da||!/%$/.test(A.height)&&parseInt(A.height,10)<137)A.height="137";Z.title=Z.title.slice(0,47)+" - Flash Player Installation";Q=S.ie&&S.win?"ActiveX":"PlugIn";Q="MMredirectURL="+ia.location.toString().replace(/&/g,"%26")+"&MMplayerType="+Q+"&MMdoctitle="+Z.title;if(typeof G.flashvars!=
da)G.flashvars+="&"+Q;else G.flashvars=Q;if(S.ie&&S.win&&R.readyState!=4){Q=i("div");O+="SWFObjectNew";Q.setAttribute("id",O);R.parentNode.insertBefore(Q,R);R.style.display="none";(function(){R.readyState==4?R.parentNode.removeChild(R):setTimeout(arguments.callee,10)})()}w(A,G,O)}}function k(A){if(S.ie&&S.win&&A.readyState!=4){var G=i("div");A.parentNode.insertBefore(G,A);G.parentNode.replaceChild(j(A),G);A.style.display="none";(function(){A.readyState==4?A.parentNode.removeChild(A):setTimeout(arguments.callee,
10)})()}else A.parentNode.replaceChild(j(A),A)}function j(A){var G=i("div");if(S.win&&S.ie)G.innerHTML=A.innerHTML;else if(A=A.getElementsByTagName(sa)[0])if(A=A.childNodes)for(var O=A.length,Q=0;Q<O;Q++)!(A[Q].nodeType==1&&A[Q].nodeName=="PARAM")&&A[Q].nodeType!=8&&G.appendChild(A[Q].cloneNode(true));return G}function w(A,G,O){var Q,R=K(O);if(S.wk&&S.wk<312)return Q;if(R){if(typeof A.id==da)A.id=O;if(S.ie&&S.win){var X="";for(var Y in A)if(A[Y]!=Object.prototype[Y])if(Y.toLowerCase()=="data")G.movie=
A[Y];else if(Y.toLowerCase()=="styleclass")X+=' class="'+A[Y]+'"';else if(Y.toLowerCase()!="classid")X+=" "+Y+'="'+A[Y]+'"';Y="";for(var ea in G)if(G[ea]!=Object.prototype[ea])Y+='<param name="'+ea+'" value="'+G[ea]+'" />';R.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+X+">"+Y+"</object>";za[za.length]=A.id;Q=K(A.id)}else{ea=i(sa);ea.setAttribute("type",Ga);for(X in A)if(A[X]!=Object.prototype[X])if(X.toLowerCase()=="styleclass")ea.setAttribute("class",A[X]);else X.toLowerCase()!=
"classid"&&ea.setAttribute(X,A[X]);for(var ga in G)G[ga]!=Object.prototype[ga]&&ga.toLowerCase()!="movie"&&E(ea,ga,G[ga]);R.parentNode.replaceChild(ea,R);Q=ea}}return Q}function E(A,G,O){var Q=i("param");Q.setAttribute("name",G);Q.setAttribute("value",O);A.appendChild(Q)}function B(A){var G=K(A);if(G&&G.nodeName=="OBJECT")if(S.ie&&S.win){G.style.display="none";(function(){G.readyState==4?F(A):setTimeout(arguments.callee,10)})()}else G.parentNode.removeChild(G)}function F(A){if(A=K(A)){for(var G in A)if(typeof A[G]==
"function")A[G]=null;A.parentNode.removeChild(A)}}function K(A){var G=null;try{G=Z.getElementById(A)}catch(O){}return G}function i(A){return Z.createElement(A)}function ha(A,G,O){A.attachEvent(G,O);ra[ra.length]=[A,G,O]}function ja(A){var G=S.pv;A=A.split(".");A[0]=parseInt(A[0],10);A[1]=parseInt(A[1],10)||0;A[2]=parseInt(A[2],10)||0;return G[0]>A[0]||G[0]==A[0]&&G[1]>A[1]||G[0]==A[0]&&G[1]==A[1]&&G[2]>=A[2]?true:false}function N(A,G,O,Q){if(!(S.ie&&S.mac)){var R=Z.getElementsByTagName("head")[0];
if(R){O=O&&typeof O=="string"?O:"screen";if(Q)Na=ta=null;if(!ta||Na!=O){Q=i("style");Q.setAttribute("type","text/css");Q.setAttribute("media",O);ta=R.appendChild(Q);if(S.ie&&S.win&&typeof Z.styleSheets!=da&&Z.styleSheets.length>0)ta=Z.styleSheets[Z.styleSheets.length-1];Na=O}if(S.ie&&S.win)ta&&typeof ta.addRule==sa&&ta.addRule(A,G);else ta&&typeof Z.createTextNode!=da&&ta.appendChild(Z.createTextNode(A+" {"+G+"}"))}}}function pa(A,G){if(Ra){G=G?"visible":"hidden";if(wa&&K(A))K(A).style.visibility=
G;else N("#"+A,"visibility:"+G)}}function Pa(A){return/[\\\"<>\.;]/.exec(A)!=null&&typeof encodeURIComponent!=da?encodeURIComponent(A):A}var da="undefined",sa="object",Ga="application/x-shockwave-flash",Qa="SWFObjectExprInst",ia=window,Z=document,ka=navigator,xa=false,ya=[g],qa=[],za=[],ra=[],Aa,la,La,Ma,wa=false,Ba=false,ta,Na,Ra=true,S=function(){var A=typeof Z.getElementById!=da&&typeof Z.getElementsByTagName!=da&&typeof Z.createElement!=da,G=ka.userAgent.toLowerCase(),O=ka.platform.toLowerCase(),
Q=O?/win/.test(O):/win/.test(G);O=O?/mac/.test(O):/mac/.test(G);G=/webkit/.test(G)?parseFloat(G.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;var R=!+"\u000b1",X=[0,0,0],Y=null;if(typeof ka.plugins!=da&&typeof ka.plugins["Shockwave Flash"]==sa){if((Y=ka.plugins["Shockwave Flash"].description)&&!(typeof ka.mimeTypes!=da&&ka.mimeTypes[Ga]&&!ka.mimeTypes[Ga].enabledPlugin)){xa=true;R=false;Y=Y.replace(/^.*\s+(\S+\s+\S+$)/,"$1");X[0]=parseInt(Y.replace(/^(.*)\..*$/,"$1"),10);X[1]=parseInt(Y.replace(/^.*\.(.*)\s.*$/,
"$1"),10);X[2]=/[a-zA-Z]/.test(Y)?parseInt(Y.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof ia.ActiveXObject!=da)try{var ea=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(ea)if(Y=ea.GetVariable("$version")){R=true;Y=Y.split(" ")[1].split(",");X=[parseInt(Y[0],10),parseInt(Y[1],10),parseInt(Y[2],10)]}}catch(ga){}return{w3:A,pv:X,wk:G,ie:R,win:Q,mac:O}}();(function(){if(S.w3){if(typeof Z.readyState!=da&&Z.readyState=="complete"||typeof Z.readyState==da&&(Z.getElementsByTagName("body")[0]||
Z.body))b();if(!wa){typeof Z.addEventListener!=da&&Z.addEventListener("DOMContentLoaded",b,false);if(S.ie&&S.win){Z.attachEvent("onreadystatechange",function(){if(Z.readyState=="complete"){Z.detachEvent("onreadystatechange",arguments.callee);b()}});ia==top&&function(){if(!wa){try{Z.documentElement.doScroll("left")}catch(A){setTimeout(arguments.callee,0);return}b()}}()}S.wk&&function(){wa||(/loaded|complete/.test(Z.readyState)?b():setTimeout(arguments.callee,0))}();f(b)}}})();(function(){S.ie&&S.win&&
window.attachEvent("onunload",function(){for(var A=ra.length,G=0;G<A;G++)ra[G][0].detachEvent(ra[G][1],ra[G][2]);A=za.length;for(G=0;G<A;G++)B(za[G]);for(var O in S)S[O]=null;S=null;for(var Q in swfobject)swfobject[Q]=null;swfobject=null})})();return{registerObject:function(A,G,O,Q){if(S.w3&&A&&G){var R={};R.id=A;R.swfVersion=G;R.expressInstall=O;R.callbackFn=Q;qa[qa.length]=R;pa(A,false)}else Q&&Q({success:false,id:A})},getObjectById:function(A){if(S.w3)return d(A)},embedSWF:function(A,G,O,Q,R,X,
Y,ea,ga,Ca){var Da={success:false,id:G};if(S.w3&&!(S.wk&&S.wk<312)&&A&&G&&O&&Q&&R){pa(G,false);c(function(){O+="";Q+="";var ua={};if(ga&&typeof ga===sa)for(var va in ga)ua[va]=ga[va];ua.data=A;ua.width=O;ua.height=Q;va={};if(ea&&typeof ea===sa)for(var Ia in ea)va[Ia]=ea[Ia];if(Y&&typeof Y===sa)for(var Ja in Y)if(typeof va.flashvars!=da)va.flashvars+="&"+Ja+"="+Y[Ja];else va.flashvars=Ja+"="+Y[Ja];if(ja(R)){Ia=w(ua,va,G);ua.id==G&&pa(G,true);Da.success=true;Da.ref=Ia}else if(X&&s()){ua.data=X;r(ua,
va,G,Ca);return}else pa(G,true);Ca&&Ca(Da)})}else Ca&&Ca(Da)},switchOffAutoHideShow:function(){Ra=false},ua:S,getFlashPlayerVersion:function(){return{major:S.pv[0],minor:S.pv[1],release:S.pv[2]}},hasFlashPlayerVersion:ja,createSWF:function(A,G,O){if(S.w3)return w(A,G,O)},showExpressInstall:function(A,G,O,Q){S.w3&&s()&&r(A,G,O,Q)},removeSWF:function(A){S.w3&&B(A)},createCSS:function(A,G,O,Q){S.w3&&N(A,G,O,Q)},addDomLoadEvent:c,addLoadEvent:f,getQueryParamValue:function(A){var G=Z.location.search||
Z.location.hash;if(G){if(/\?/.test(G))G=G.split("?")[1];if(A==null)return Pa(G);G=G.split("&");for(var O=0;O<G.length;O++)if(G[O].substring(0,G[O].indexOf("="))==A)return Pa(G[O].substring(G[O].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Ba){var A=K(Qa);if(A&&Aa){A.parentNode.replaceChild(Aa,A);if(la){pa(la,true);if(S.ie&&S.win)Aa.style.display="block"}La&&La(Ma)}Ba=false}}}}();swfobject.addDomLoadEvent(function(){typeof SWFUpload.onload==="function"&&SWFUpload.onload.call(window)});if(typeof SWFUpload==="function"){SWFUpload.prototype.initSettings=function(b){return function(c){typeof b==="function"&&b.call(this,c);this.refreshCookies(false)}}(SWFUpload.prototype.initSettings);SWFUpload.prototype.refreshCookies=function(b){if(b===undefined)b=true;b=!!b;var c=this.settings.post_params,f,g=document.cookie.split(";"),o=g.length,l,d,s;for(f=0;f<o;f++){for(l=g[f];l.charAt(0)===" ";)l=l.substring(1,l.length);d=l.indexOf("=");if(d>0){s=l.substring(0,d);l=l.substring(d+1);c[s]=l}}b&&
this.setPostParams(c)}};(function(b){b.fn.modalTabs=function(c){var f={attr:"href",history:true};c&&b.extend(f,c);this.each(function(){var g=this;b(".modal-toolbar a",g).live("click",function(l){l.preventDefault();b("a",g).removeClass("selected");b(this).addClass("selected");l=b(this).attr(f.attr);if(f.attr=="href")l=l.replace(/^.*#/,"");b(".modal-tab-view").hide();b("#"+l+"-pane").show();if(f.history)document.location.href=document.location.href.replace(/^.*/,"#"+anchor);return true});var o=function(){var l=document.location.hash.replace("#",
"");if(l=="")l="edit";return l};if(f.history){b(window).hashchange(function(){b("a[href=#"+o()+"]",g).click()});b(window).trigger("hashchange");b("a[href=#"+o()+"]").click();history.navigationMode="compatible"}b(".modal-tab-view",g).each(function(){var l=this;b("a.swap-form",l).live("click",function(){b("a.swap-form, fieldset",l).toggle();return false})})})}})(jQuery);jQuery.cookie=function(b,c,f){if(typeof c!="undefined"){f=f||{};if(c===null){c="";f.expires=-1}var g="";if(f.expires&&(typeof f.expires=="number"||f.expires.toUTCString)){if(typeof f.expires=="number"){g=new Date;g.setTime(g.getTime()+f.expires*24*60*60*1E3)}else g=f.expires;g="; expires="+g.toUTCString()}var o=f.path?"; path="+f.path:"",l=f.domain?"; domain="+f.domain:"";f=f.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(c),g,o,l,f].join("")}else{c=null;if(document.cookie&&document.cookie!=
""){f=document.cookie.split(";");for(g=0;g<f.length;g++){o=jQuery.trim(f[g]);if(o.substring(0,b.length+1)==b+"="){c=decodeURIComponent(o.substring(b.length+1));break}}}return c}};if(!this.JSON)this.JSON={};
(function(){function b(k){return k<10?"0"+k:k}function c(k){o.lastIndex=0;return o.test(k)?'"'+k.replace(o,function(j){var w=s[j];return typeof w==="string"?w:"\\u"+("0000"+j.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+k+'"'}function f(k,j){var w,E,B=l,F,K=j[k];if(K&&typeof K==="object"&&typeof K.toJSON==="function")K=K.toJSON(k);if(typeof r==="function")K=r.call(j,k,K);switch(typeof K){case "string":return c(K);case "number":return isFinite(K)?String(K):"null";case "boolean":case "null":return String(K);case "object":if(!K)return"null";
l+=d;F=[];if(Object.prototype.toString.apply(K)==="[object Array]"){E=K.length;for(k=0;k<E;k+=1)F[k]=f(k,K)||"null";j=F.length===0?"[]":l?"[\n"+l+F.join(",\n"+l)+"\n"+B+"]":"["+F.join(",")+"]";l=B;return j}if(r&&typeof r==="object"){E=r.length;for(k=0;k<E;k+=1){w=r[k];if(typeof w==="string")if(j=f(w,K))F.push(c(w)+(l?": ":":")+j)}}else for(w in K)if(Object.hasOwnProperty.call(K,w))if(j=f(w,K))F.push(c(w)+(l?": ":":")+j);j=F.length===0?"{}":l?"{\n"+l+F.join(",\n"+l)+"\n"+B+"}":"{"+F.join(",")+"}";
l=B;return j}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,d,s={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;if(typeof JSON.stringify!=="function")JSON.stringify=function(k,j,w){var E;d=l="";if(typeof w==="number")for(E=0;E<w;E+=1)d+=" ";else if(typeof w==="string")d=w;if((r=j)&&typeof j!=="function"&&(typeof j!=="object"||typeof j.length!=="number"))throw new Error("JSON.stringify");return f("",
{"":k})};if(typeof JSON.parse!=="function")JSON.parse=function(k,j){function w(E,B){var F,K,i=E[B];if(i&&typeof i==="object")for(F in i)if(Object.hasOwnProperty.call(i,F)){K=w(i,F);if(K!==undefined)i[F]=K;else delete i[F]}return j.call(E,B,i)}g.lastIndex=0;if(g.test(k))k=k.replace(g,function(E){return"\\u"+("0000"+E.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(k.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){k=eval("("+k+")");return typeof j==="function"?w({"":k},""):k}throw new SyntaxError("JSON.parse");}})();(function(b){b.extend(b.fn,{validate:function(c){if(this.length){var f=b.data(this[0],"validator");if(f)return f;f=new b.validator(c,this[0]);b.data(this[0],"validator",f);if(f.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){f.cancelSubmit=true});this.submit(function(g){function o(){if(f.settings.submitHandler){f.settings.submitHandler.call(f,f.currentForm);return false}return true}f.settings.debug&&g.preventDefault();if(f.cancelSubmit){f.cancelSubmit=false;return o()}if(f.form()){if(f.pendingRequest){f.formSubmitted=
true;return false}return o()}else{f.focusInvalid();return false}})}return f}else c&&c.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(b(this[0]).is("form"))return this.validate().form();else{var c=false,f=b(this[0].form).validate();this.each(function(){c|=f.element(this)});return c}},removeAttrs:function(c){var f={},g=this;b.each(c.split(/\s/),function(o,l){f[l]=g.attr(l);g.removeAttr(l)});return f},rules:function(c,f){var g=this[0];
if(c){var o=b.data(g.form,"validator").settings,l=o.rules,d=b.validator.staticRules(g);switch(c){case "add":b.extend(d,b.validator.normalizeRule(f));l[g.name]=d;if(f.messages)o.messages[g.name]=b.extend(o.messages[g.name],f.messages);break;case "remove":if(!f){delete l[g.name];return d}var s={};b.each(f.split(/\s/),function(r,k){s[k]=d[k];delete d[k]});return s}}c=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(g),b.validator.classRules(g),b.validator.attributeRules(g),b.validator.staticRules(g)),
g);if(c.required){f=c.required;delete c.required;c=b.extend({required:f},c)}return c}});b.extend(b.expr[":"],{blank:function(c){return!b.trim(c.value)},filled:function(c){return!!b.trim(c.value)},unchecked:function(c){return!c.checked}});b.format=function(c,f){if(arguments.length==1)return function(){var g=b.makeArray(arguments);g.unshift(c);return b.format.apply(this,g)};if(arguments.length>2&&f.constructor!=Array)f=b.makeArray(arguments).slice(1);if(f.constructor!=Array)f=[f];b.each(f,function(g,
o){c=c.replace(new RegExp("\\{"+g+"\\}","g"),o)});return c};b.validator=function(c,f){this.settings=b.extend({},b.validator.defaults,c);this.currentForm=f;this.init()};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(c){this.lastActive=c;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&
this.settings.unhighlight.call(this,c,this.settings.errorClass);this.errorsFor(c).hide()}},onfocusout:function(c){if(!this.checkable(c)&&(c.name in this.submitted||!this.optional(c)))this.element(c)},onkeyup:function(c){if(c.name in this.submitted||c==this.lastElement)this.element(c)},onclick:function(c){c.name in this.submitted&&this.element(c)},highlight:function(c,f){b(c).addClass(f)},unhighlight:function(c,f){b(c).removeClass(f)}},setDefaults:function(c){b.extend(b.validator.defaults,c)},messages:{required:"This field is required.",
remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",dateDE:"Bitte geben Sie ein g\u00fcltiges Datum ein.",number:"Please enter a valid number.",numberDE:"Bitte geben Sie eine Nummer ein.",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",
maxlength:b.format("Please enter no more than {0} characters."),minlength:b.format("Please enter at least {0} characters."),rangelength:b.format("Please enter a value between {0} and {1} characters long."),range:b.format("Please enter a value between {0} and {1}."),max:b.format("Please enter a value less than or equal to {0}."),min:b.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function c(o){var l=b.data(this[0].form,"validator");
l.settings["on"+o.type]&&l.settings["on"+o.type].call(l,this[0])}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var f=this.groups={};b.each(this.settings.groups,function(o,l){b.each(l.split(/\s/),function(d,s){f[s]=
o})});var g=this.settings.rules;b.each(g,function(o,l){g[o]=b.validator.normalizeRule(l)});b(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",c).delegate("click",":radio, :checkbox",c);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",
[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var c=0,f=this.currentElements=this.elements();f[c];c++)this.check(f[c]);return this.valid()},element:function(c){this.lastElement=c=this.clean(c);this.prepareElement(c);this.currentElements=b(c);var f=this.check(c);if(f)delete this.invalid[c.name];else this.invalid[c.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return f},showErrors:function(c){if(c){b.extend(this.errorMap,
c);this.errorList=[];for(var f in c)this.errorList.push({message:c[f],element:this.findByName(f)[0]});this.successList=b.grep(this.successList,function(g){return!(g.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},
objectLength:function(c){var f=0;for(var g in c)f++;return f},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus()}catch(c){}},findLastActive:function(){var c=this.lastActive;return c&&b.grep(this.errorList,function(f){return f.element.name==c.name}).length==
1&&c},elements:function(){var c=this,f={};return b([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in f||!c.objectLength(b(this).rules()))return false;return f[this.name]=true})},clean:function(c){return b(c)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},
reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.formSubmitted=false;this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(c){this.reset();this.toHide=this.errorsFor(c)},check:function(c){c=this.clean(c);if(this.checkable(c))c=this.findByName(c.name)[0];var f=b(c).rules(),g=false;for(method in f){var o={method:method,parameters:f[method]};try{var l=b.validator.methods[method].call(this,
c.value.replace(/\r/g,""),c,o.parameters);if(l=="dependency-mismatch")g=true;else{g=false;if(l=="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!l){this.formatAndAdd(c,o);return false}}}catch(d){this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+o.method+"' method");throw d;}}if(!g){this.objectLength(f)&&this.successList.push(c);return true}},customMetaMessage:function(c,f){if(b.metadata)return(c=this.settings.meta?
b(c).metadata()[this.settings.meta]:b(c).metadata())&&c.messages&&c.messages[f]},customMessage:function(c,f){return(c=this.settings.messages[c])&&(c.constructor==String?c:c[f])},findDefined:function(){for(var c=0;c<arguments.length;c++)if(arguments[c]!==undefined)return arguments[c]},defaultMessage:function(c,f){return this.findDefined(this.customMessage(c.name,f),this.customMetaMessage(c,f),!this.settings.ignoreTitle&&c.title||undefined,b.validator.messages[f],"<strong>Warning: No message defined for "+
c.name+"</strong>")},formatAndAdd:function(c,f){var g=this.defaultMessage(c,f.method);if(typeof g=="function")g=g.call(this,f.parameters,c);this.errorList.push({message:g,element:c});this.errorMap[c.name]=g;this.submitted[c.name]=g},addWrapper:function(c){if(this.settings.wrapper)c=c.add(c.parents(this.settings.wrapper));return c},defaultShowErrors:function(){for(var c=0;this.errorList[c];c++){var f=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,f.element,this.settings.errorClass);
this.showLabel(f.element,f.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(c=0;this.successList[c];c++)this.showLabel(this.successList[c]);if(this.settings.unhighlight){c=0;for(f=this.validElements();f[c];c++)this.settings.unhighlight.call(this,f[c],this.settings.errorClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},
invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(c,f){var g=this.errorsFor(c);if(g.length){g.removeClass().addClass(this.settings.errorClass);g.attr("generated")&&g.html(f)}else{g=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:true}).addClass(this.settings.errorClass).html(f||"");if(this.settings.wrapper)g=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(g).length||(this.settings.errorPlacement?
this.settings.errorPlacement(g,b(c)):g.insertAfter(c))}if(!f&&this.settings.success){g.text("");typeof this.settings.success=="string"?g.addClass(this.settings.success):this.settings.success(g)}this.toShow=this.toShow.add(g)},errorsFor:function(c){return this.errors().filter("[for='"+this.idOrName(c)+"']")},idOrName:function(c){return this.groups[c.name]||(this.checkable(c)?c.name:c.id||c.name)},checkable:function(c){return/radio|checkbox/i.test(c.type)},findByName:function(c){var f=this.currentForm;
return b(document.getElementsByName(c)).map(function(g,o){return o.form==f&&o.name==c&&o||null})},getLength:function(c,f){switch(f.nodeName.toLowerCase()){case "select":return b("option:selected",f).length;case "input":if(this.checkable(f))return this.findByName(f.name).filter(":checked").length}return c.length},depend:function(c,f){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,f):true},dependTypes:{"boolean":function(c){return c},string:function(c,f){return!!b(c,f.form).length},
"function":function(c,f){return c(f)}},optional:function(c){return!b.validator.methods.required.call(this,b.trim(c.value),c)&&"dependency-mismatch"},startRequest:function(c){if(!this.pending[c.name]){this.pendingRequest++;this.pending[c.name]=true}},stopRequest:function(c,f){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[c.name];if(f&&this.pendingRequest==0&&this.formSubmitted&&this.form())b(this.currentForm).submit();else!f&&this.pendingRequest==0&&this.formSubmitted&&
b(this.currentForm).triggerHandler("invalid-form",[this])},previousValue:function(c){return b.data(c,"previousValue")||b.data(c,"previousValue",previous={old:null,valid:true,message:this.defaultMessage(c,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(c,f){c.constructor==String?
(this.classRuleSettings[c]=f):b.extend(this.classRuleSettings,c)},classRules:function(c){var f={};(c=b(c).attr("class"))&&b.each(c.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(f,b.validator.classRuleSettings[this])});return f},attributeRules:function(c){var f={};c=b(c);for(method in b.validator.methods){var g=c.attr(method);if(g)f[method]=g}f.maxlength&&/-1|2147483647|524288/.test(f.maxlength)&&delete f.maxlength;return f},metadataRules:function(c){if(!b.metadata)return{};
var f=b.data(c.form,"validator").settings.meta;return f?b(c).metadata()[f]:b(c).metadata()},staticRules:function(c){var f={},g=b.data(c.form,"validator");if(g.settings.rules)f=b.validator.normalizeRule(g.settings.rules[c.name])||{};return f},normalizeRules:function(c,f){b.each(c,function(g,o){if(o===false)delete c[g];else if(o.param||o.depends){var l=true;switch(typeof o.depends){case "string":l=!!b(o.depends,f.form).length;break;case "function":l=o.depends.call(f,f);break}if(l)c[g]=o.param!==undefined?
o.param:true;else delete c[g]}});b.each(c,function(g,o){c[g]=b.isFunction(o)?o(f):o});b.each(["minlength","maxlength","min","max"],function(){if(c[this])c[this]=Number(c[this])});b.each(["rangelength","range"],function(){if(c[this])c[this]=[Number(c[this][0]),Number(c[this][1])]});if(b.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}c.messages&&delete c.messages;
return c},normalizeRule:function(c){if(typeof c=="string"){var f={};b.each(c.split(/\s/),function(){f[this]=true});c=f}return c},addMethod:function(c,f,g){b.validator.methods[c]=f;b.validator.messages[c]=g;f.length<3&&b.validator.addClassRules(c,b.validator.normalizeRule(c))},methods:{required:function(c,f,g){if(!this.depend(g,f))return"dependency-mismatch";switch(f.nodeName.toLowerCase()){case "select":c=b("option:selected",f);return c.length>0&&(f.type=="select-multiple"||(b.browser.msie&&!c[0].attributes.value.specified?
c[0].text:c[0].value).length>0);case "input":if(this.checkable(f))return this.getLength(c,f)>0;default:return b.trim(c).length>0}},remote:function(c,f,g){if(this.optional(f))return"dependency-mismatch";var o=this.previousValue(f);this.settings.messages[f.name]||(this.settings.messages[f.name]={});this.settings.messages[f.name].remote=typeof o.message=="function"?o.message(c):o.message;g=typeof g=="string"&&{url:g}||g;if(o.old!==c){o.old=c;var l=this;this.startRequest(f);var d={};d[f.name]=c;b.ajax(b.extend(true,
{url:g,mode:"abort",port:"validate"+f.name,dataType:"json",data:d,success:function(s){if(s){var r=l.formSubmitted;l.prepareElement(f);l.formSubmitted=r;l.successList.push(f);l.showErrors()}else{r={};r[f.name]=s||l.defaultMessage(f,"remote");l.showErrors(r)}o.valid=s;l.stopRequest(f,s)}},g));return"pending"}else if(this.pending[f.name])return"pending";return o.valid},minlength:function(c,f,g){return this.optional(f)||this.getLength(b.trim(c),f)>=g},maxlength:function(c,f,g){return this.optional(f)||
this.getLength(b.trim(c),f)<=g},rangelength:function(c,f,g){c=this.getLength(b.trim(c),f);return this.optional(f)||c>=g[0]&&c<=g[1]},min:function(c,f,g){return this.optional(f)||c>=g},max:function(c,f,g){return this.optional(f)||c<=g},range:function(c,f,g){return this.optional(f)||c>=g[0]&&c<=g[1]},email:function(c,f){return this.optional(f)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(c)},
url:function(c,f){return this.optional(f)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},
date:function(c,f){return this.optional(f)||!/Invalid|NaN/.test(new Date(c))},dateISO:function(c,f){return this.optional(f)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},dateDE:function(c,f){return this.optional(f)||/^\d\d?\.\d\d?\.\d\d\d?\d?$/.test(c)},number:function(c,f){return this.optional(f)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(c)},numberDE:function(c,f){return this.optional(f)||/^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(c)},digits:function(c,f){return this.optional(f)||/^\d+$/.test(c)},
creditcard:function(c,f){if(this.optional(f))return"dependency-mismatch";if(/[^0-9-]+/.test(c))return false;var g=f=0,o=false;c=c.replace(/\D/g,"");for(n=c.length-1;n>=0;n--){g=c.charAt(n);g=parseInt(g,10);if(o)if((g*=2)>9)g-=9;f+=g;o=!o}return f%10==0},accept:function(c,f,g){g=typeof g=="string"?g:"png|jpe?g|gif";return this.optional(f)||c.match(new RegExp(".("+g+")$","i"))},equalTo:function(c,f,g){return c==b(g).val()}}})})(jQuery);
(function(b){var c=b.ajax,f={};b.ajax=function(g){g=b.extend(g,b.extend({},b.ajaxSettings,g));var o=g.port;if(g.mode=="abort"){f[o]&&f[o].abort();return f[o]=c.apply(this,arguments)}return c.apply(this,arguments)}})(jQuery);
(function(b){b.each({focus:"focusin",blur:"focusout"},function(c,f){b.event.special[f]={setup:function(){if(b.browser.msie)return false;this.addEventListener(c,b.event.special[f].handler,true)},teardown:function(){if(b.browser.msie)return false;this.removeEventListener(c,b.event.special[f].handler,true)},handler:function(g){arguments[0]=b.event.fix(g);arguments[0].type=f;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{delegate:function(c,f,g){return this.bind(c,function(o){var l=b(o.target);
if(l.is(f))return g.apply(l,arguments)})},triggerEvent:function(c,f){return this.triggerHandler(c,[b.event.fix({type:c,target:f})])}})})(jQuery);var currentDialogHideFunction=null,currentDialogType=null;
$(function(){var b=false,c=null,f=$(".call-dialog").css("opacity",0);$("form",f).live("submit",function(o){o.preventDefault()});var g=function(o,l){c&&clearTimeout(c);l.shown=false;$(".call-button").data("link",l);c=setTimeout(function(){c=null;f.animate({top:"-=35px",opacity:0},250,"swing",function(){b=false;f.css("display","none")})},100);$(".screen").hide();$(".invoke-call-button span").text("Call");$(".call-dialing").hide();currentDialogType=currentDialogHideFunction=null;return false};$(".twilio-call").each(function(){var o=
false,l=this;l.shown=false;var d=$(this),s=function(r,k){currentDialogType=="sms"&&currentDialogHideFunction();c&&clearTimeout(c);if(o||k.shown)return false;if(b){b=false;$(".call-button").data("link").shown=false;$(".call-dialog").hide()}r="";if(k){r=$(k).text()!="Call"?$(k).text():"";target=$(k).attr("href")}b=o=true;f.css({position:"absolute",left:d.get(0).offsetLeft,top:d.get(0).offsetTop,display:"block"}).animate({top:"+=35px",opacity:1},250,"swing",function(){o=false;k.shown=true});$(".call-button").data("link",
k);$("input[name=to]",f).val(r);$("input[name=target]",f).val(target);$(".screen").show();currentDialogType="call";currentDialogHideFunction=function(){g(null,k)};return true};$(window).keypress(function(r){r.keyCode==27&&g(r,l)});$(this).hasClass("hover")?$([d.get(0),f.get(0)]).mouseover(function(r){s(r,l)}).mouseout(function(r){g(r,l)}):$(d).click(function(r){return s(r,l)?false:g(r,l)});$(".close",f).live("click",function(r){g(r,l);r.preventDefault()})});$(".call-button",f).live("click",function(o){$(".invoke-call-button span").text("Calling...");
$(".call-dialing").show();var l=$(this).data("link");$(this).attr("disabled","disabled");var d=$(this);$.ajax({url:OpenVBX.home+"/messages/call",data:$("form input, form select",f),dataType:"json",type:"POST",success:function(s){d.removeAttr("disabled");g(o,l);if(s.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Unable to complete call. Message from server: "+s.message);$(".error-dialog").dialog("open")}else $.notify("You are now being connected to "+
$("input[name=to]",f).val())}});o.preventDefault()});$(".screen").live("click",function(o){o.preventDefault();b&&$(".close",f).click()})});
$(function(){var b=false,c=null,f=$(".sms-dialog").css("opacity",0);$("form",f).live("submit",function(l){l.preventDefault()});var g=function(l,d){$(".send-sms-button").removeAttr("disabled");c&&clearTimeout(c);d||(d=$(".sms-button").data("link"));d.shown=false;$(".sms-button").data("link",d);c=setTimeout(function(){c=null;f.animate({top:"-=35px",opacity:0},250,"swing",function(){b=false;f.css("display","none")})},100);$(".screen").hide();$(".send-sms-button span").text("Send SMS");$(".sms-sending").hide();
currentDialogType=currentDialogHideFunction=null;return false};$(".twilio-sms").each(function(){var l=false,d=this;d.shown=false;var s=$(this),r=function(k,j){$(".send-sms-button").attr("rel",$(j).attr("rel"));$(".send-sms-button").removeAttr("disabled");currentDialogType=="call"&&currentDialogHideFunction();c&&clearTimeout(c);if(l||j.shown)return false;if(b){b=false;$(".sms-button").data("link").shown=false;$(".sms-dialog").hide()}k="";if(j){k=$(j).text().match(/sms/i)?"":$(j).text();target=$(j).attr("href")}b=
l=true;f.css({position:"absolute",left:s.get(0).offsetLeft,top:s.get(0).offsetTop,display:"block"}).animate({top:"+=35px",opacity:1},250,"swing",function(){l=false;j.shown=true});$(".sms-button").data("link",j);$("input[name=to]",f).val(k);$("input[name=target]",f).val(target);$(".screen").show();currentDialogType="sms";currentDialogHideFunction=function(){g(null,j)};return true};$(window).keypress(function(k){k.keyCode==27&&g(k,d)});$(this).hasClass("hover")?$([s.get(0),f.get(0)]).mouseover(function(k){r(k,
d)}).mouseout(function(k){g(k,d)}):$(s).click(function(k){return r(k,d)?false:g(k,d)});$(".close",f).live("click",function(k){g(k,d);k.preventDefault()})});$(".send-sms-button",f).click(function(l){$(".send-sms-button span").text("Sending...");$(".send-sms-button .sms-sending").show();var d=$(this).data("link");$(this).attr("disabled","disabled");var s=$(l.target).attr("rel"),r=$(this);$.ajax({url:OpenVBX.home+"/messages/sms"+(s?"/"+s:""),data:$("form input, form select, form textarea",f),dataType:"json",
type:"POST",success:function(k){r.removeAttr("disabled");g(l,d);if(k.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Unable to send sms. Message from server: "+k.message);$(".error-dialog").dialog("open")}else{$.notify("SMS sent to "+$("input[name=to]",f).val());$("textarea",f).val("");$("input",f).val("")}}});return false});var o=function(){var l=$(this).val().length;$(".count",
f).text(160-l)};$("textarea",f).live("keypress",o);$("textarea",f).live("keyup",o);$("textarea",f).live("load",o);$(".screen").live("click",function(l){l.preventDefault();b&&$(".close",f).click()})});jQuery.fn.flicker=function(b){var c=jQuery.extend({color:"#FEEEBD",speed:"slow"},b),f=function(g){if(!g.flickerLocked){g.flickerLocked=true;var o=$(g).css("background-color");$(g).animate({backgroundColor:c.color,queue:true},c.speed).animate({backgroundColor:o,queue:true},c.speed,function(){g.flickerLocked=false})}};return this.each(function(){f(this);return $(this)})};(function(b){function c(){var d=location.hash;if(d!=o){o=d;b.event.trigger("hashchange")}}function f(){var d=(l.contentDocument||l.contentWindow.document).location.hash;if(d=="")d="#";if(d!=o){if(location.hash!=d)location.hash=d;o=d;b.event.trigger("hashchange")}}function g(d){if(d=="#")d="";var s=l.contentWindow.document;s.open();s.close();if(s.location.hash!=d)s.location.hash=d}b.fn.extend({hashchange:function(d){this.bind("hashchange",d)},openOnClick:function(d){if(d===undefined||d.length==0)d=
"#";return this.click(function(s){d&&d.charAt(0)=="#"?window.setTimeout(function(){b.locationHash(d)},0):window.location(d);s.stopPropagation();return false})}});if(b.browser.msie&&document.documentMode&&document.documentMode>=8)b.extend({locationHash:function(d){if(d){if(d.charAt(0)!="#")d="#"+d}else d="#";location.hash=d}});else{var o,l;b.extend({locationHash:function(d){if(o!==undefined){if(d){if(d.charAt(0)!="#")d="#"+d}else d="#";location.hash=d;if(o!=d){o=d;b.browser.msie&&g(d);b.event.trigger("hashchange")}}}});
b(document).ready(function(){o=location.hash;if(b.browser.msie){if(o=="")o="#";l=b("<iframe />").hide().get(0);b("body").prepend(l);g(location.hash);setInterval(f,100)}else setInterval(c,100)});b(window).unload(function(){l=null});b.browser.msie&&b("a[href^=#]").live("click",function(){var d=b(this).attr("href");if(b(d).length==0&&b("a[name="+d.slice(1)+"]").length==0){b.locationHash(d);return false}})}})(jQuery);jQuery.fn.buttonista=function(b){var c=jQuery.extend({menu:"ul",toggler:".toggler"},b),f=function(){$(this).parent().children(c.menu).toggleClass("open");return false};$(window).keypress(function(g){g.keyCode=="27"&&$(c.menu).removeClass("open")});return this.each(function(){var g=$(this);g.click(f);$(c.toggler,g.parent()).click(function(o){o.preventDefault();g.click()})})};(function(b){function c(o){for(var l=0;l<document.styleSheets.length;l++){v=document.styleSheets[l];attrClass=f(o,v);if(attrClass!=false)break}attrClass||(attrClass=Array());objStyle={};if(attrClass=="")return false;attrClass=attrClass.match(";")?attrClass.split(";"):[attrClass];b(attrClass).each(function(d,s){if(s!=""){s=s.split(":");s[0]=g(s[0]);objStyle[s[0]]=b.trim(s[1])}});return objStyle}function f(o,l){attrClass=false;if(b.browser.msie)if(l.rules.length>0)b(l.rules).each(function(d,s){if(o==
s.selectorText)attrClass=s.style.cssText});else l.imports.length>0&&b(l.imports).each(function(d,s){if(o==s.selectorText)attrClass=s.style.cssText;else if(s=="[object]"||s=="[Object CSSStyleSheet]"||s=="[object CSSImportRule]")return f(o,s)});else b(l.cssRules).each(function(d,s){if(o==s.selectorText)attrClass=s.style.cssText;else if(s=="[object CSSImportRule]")return f(o,s.styleSheet)});return attrClass}function g(o){o=b.trim(o);o=o.replace(/-/g," ");o=o.toLowerCase();strArr=o.split(" ");var l="";
b(strArr).each(function(d,s){if(d==0)l+=s;else{l+=s.substr(0,1).toUpperCase();l+=s.substr(1,s.length)}});return l}b.fn.extend({animateToClass:function(o,l,d,s){if(!o)return this;o=c(o);if(!o)return this;b(this).data("animated",true);return this.animate(o,l,d,s)},toggleAnimateToClass:function(o,l,d,s,r){o=o;if(b(this).data("animated")){b(this).data("animated",false);o=l}else b(this).data("animated",true);l=c(o);if(!l)return this;return this.animate(l,d,s,r)}})})(jQuery);$.notify=function(b,c){var f="";if(c)f=' <a href="'+c+'">Learn more</a>';$(".notify").addClass("hide");setTimeout(function(){$(".notify .message").text(b).append(f).append('<a href="" class="close action"><span class="replace">Close</span></a>');$(".notify").removeClass("hide").fadeIn("slow");$(".notify").delay(1E4).fadeOut("slow")},500);return $(".notify")};$(document).ready(function(){$(".notify .message .close.action").live("click",function(b){b.preventDefault();$(".notify").dequeue().fadeOut("fast")})});(function(b){var c=["swfupload_loaded_handler","file_queued_handler","file_queue_error_handler","file_dialog_start_handler","file_dialog_complete_handler","upload_start_handler","upload_progress_handler","upload_error_handler","upload_success_handler","upload_complete_handler","queue_complete_handler"],f=[];b.fn.swfupload=function(){var g=b.makeArray(arguments);return this.each(function(){var o;if(g.length==1&&typeof g[0]=="object"){o=b(this).data("__swfu");if(!o){var l=g[0],d=b(this);o=[];b.merge(o,
c);b.merge(o,f);b.each(o,function(r,k){var j=k.replace(/_handler$/,"").replace(/_([a-z])/g,function(w,E){return E.toUpperCase()});l[k]=function(){var w=b.Event(j);d.trigger(w,b.makeArray(arguments));return!w.isDefaultPrevented()}});b(this).data("__swfu",new SWFUpload(l))}}else if(g.length>0&&typeof g[0]=="string"){var s=g.shift();(o=b(this).data("__swfu"))&&o[s]&&o[s].apply(o,g)}})};b.fn.swfuploadUnload=function(){return this.each(function(){var g;g=b(this).data("__swfu");if(g!=null){var o=g.settings.button_placeholder,
l=b("#"+g.movieName).parent();g.destroy();l.append(o);b(this).data("__swfu",null);b(this).unbind()}})};b.swfupload={additionalHandlers:function(){if(arguments.length===0)return f.slice();else b(arguments).each(function(g,o){b.merge(f,b.makeArray(o))})},defaultHandlers:function(){return c.slice()},getInstance:function(g){return b(g).data("__swfu")}}})(jQuery);jQuery.fn.tabify=function(b){settings=jQuery.extend({selector:"#tab-",view:".vbx-tab-view",defaultView:""},b);return $(this).each(function(){var c=this;$("li",this).click(function(){$("li",c).removeClass("selected");$(this).addClass("selected");var g=$("a",this).attr("href").replace(/^.*#/,"");$(settings.view).hide();$(settings.selector+g).show();document.location.href=document.location.href.replace(/^.*/,"#"+g);return true});var f=function(){var g=document.location.hash.replace("#","");if(g=="")g=
settings.defaultView;return g};$(window).hashchange(function(){$("a[href=#"+f()+"]").click()});$(window).trigger("hashchange");$("a[href=#"+f()+"]").click();history.navigationMode="compatible"})};var _st=window.setTimeout;window.setTimeout=function(b,c){if(typeof b=="function"){var f=Array.prototype.slice.call(arguments,2);return _st(function(){b.apply(null,f)},c)}return _st(b,c)};
$.fn.extend({left:function(b){if(b===undefined)return $(this).offset().left;else $(this).css("left",b)},top:function(b){if(b===undefined)return $(this).offset().top;else $(this).css("top",b)},right:function(b){if(b===undefined)return $(this).offset().left+$(this).outerWidth(true);else $(this).css("left",b-$(this).outerWidth(true))},bottom:function(b){if(b===undefined)return $(this).offset().top+$(this).outerHeight(true);else $(this).css("top",b-$(this).outerHeight(true))},frame:function(){return"{ "+
$(this).left()+", "+$(this).top()+", "+$(this).outerWidth(true)+", "+$(this).outerHeight(true)+" }"}});function preventDefault(b){b.preventDefault()}
function convertTimeToString(b,c,f){if(!c||!f){var g=new Date;c=(new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0)).getTime();f=(new Date(g.getFullYear(),0,1,0,0,0)).getTime()}var o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];g=new Date(b);if(b>c){b=g.getHours();g=g.getMinutes();c=b<12?"am":"pm";if(b>12)b-=12;if(b==0)b=12;return b+":"+(g<10?"0":"")+g+" "+c}else if(b>f)return o[g.getMonth()]+" "+g.getDate();else{b=g.getYear()-100;return g.getMonth()+"/"+g.getDay()+
"/"+(b<10?"0":"")+b}}OpenVBX={home:null,assets:null};
$(document).ready(function(){OpenVBX.home=$("#openvbx-logo a").eq(0).attr("href");OpenVBX.assets=$("#openvbx-assets a").eq(0).attr("href");$("button").mouseover(function(){$(this).addClass("ui-state-hover")}).mouseout(function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-focus")}).mouseup(function(){$(this).removeClass("ui-state-focus")});$.fn.values=function(b){var c=$(this).find(":input").get();if(typeof b!="object"){b={};$.each(c,function(){if(this.name&&
!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type)))b[this.name]=$(this).val()});return b}else{$.each(c,function(){if(this.name&&b[this.name])if(this.type=="checkbox"||this.type=="radio")this.checked=b[this.name]==$(this).val();else $(this).val(b[this.name])});return $(this)}};$.fn.fadeRemove=function(b){return $(this).fadeOut(b,function(){$(this).remove()})};$.postJSON=function(b,c,f){if(b.indexOf("http://")<0)b=OpenVBX.home+"/"+b;$.post(b,
c,f,"json")};$.extend($.ui.dialog.defaults,{autoOpen:false,closeOnEscape:true,closeText:"",draggable:true,height:"auto",modal:true,position:"center",resizable:false,open:function(){$("button").each(function(){$(this).text().match(/cancel/i)&&$(this).addClass("cancel")})}});$(".tabs").tabs();$.each([{name:"tabs",selector:".tabs",css:"c/ui.tabs.css"}],function(){$(this.selector).length>0&&this.css&&$("<link>").appendTo("head").attr({rel:"stylesheet",type:"text/css",href:OpenVBX.assets+"/"+this.css})});
$(":radio, :checkbox").live("click",function(){var b=$(this).hasClass("checked");if(this.checked){this.name&&$(this).attr("type")=="radio"&&$(this).siblings(".checked").removeClass("checked");$(this).addClass("checked");$("label[for="+this.id+"]").addClass("checked")}else if(b){$(this).removeClass("checked");$("label[for="+this.id+"]").removeClass("checked")}});$(".error-dialog").dialog({bgiframe:true,resizable:false,modal:true,buttons:{Okay:function(){$(this).dialog("close")}}});$.ajaxSetup({dataType:"json",
cache:false});$(document).ajaxError(function(b,c,f){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("An unknown error occurred.  Please contact your OpenVBX provider.  Unable to complete request: "+f.url);$(".error-dialog").dialog("open")})});
$(document).ready(function(){if($.browser.msie&&$.browser.version<7){$(".error-dialog").attr("title","Unsupported Browser");$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Microsoft Internet Explorer is not currently supported.  It is currently under development and will be supported in the near future.  We recommend you use Mozilla Firefox, Safari, or Chrome at this time");$(".error-dialog").dialog("open")}});function convertMsecsToMinutesAndSeconds(b){var c=Math.floor(b/1E3/60);b=Math.floor(b/1E3%60);return(c<10?"0":"")+c+":"+(b<10?"0":"")+b}
$(document).ready(function(){window.soundManager=new SoundManager;soundManager.debugMode=false;soundManager.consoleOnly=true;soundManager.url=OpenVBX.assets+"assets/j/soundmanager2/soundmanager2.swf";soundManager.beginDelayedInit();soundManager.onload=function(){$(".audio-choice input[name=show_player_with_url]").each(function(b,c){b=$(c).closest(".audio-choice");c=$(c).val();Pickers.audio.showPlayer(b,"current",c,false)})}});var swfu,Pickers={audio:{picker:null,saveValue:function(b,c,f,g){b.find("input[name$=_mode]").val(c);b.find("input[name$=_say]").val(f==null?"":f);b.find("input[name$=_play]").val(g==null?"":g);var o;if(c=="say")o=f;else if(c=="play")o=g;else alert("Unexpected mode: "+c);b.trigger("save",[c,o])},cancelDeviceRecordingIfActive:function(b){(b=b.data("cancel_recording_function"))&&b()},startDeviceRecording:function(b){b.preventDefault();var c=$(this).closest(".audio-choice");b=c.find("input[name$=_tag]").val();
var f=$("select[name=callerid] option:first"),g=$("input[name=callerid]");f=f.length>0?f.val():g.val();g=c.find(".audio-choice-record").find("input[name=number]").val();var o=function(){c.find(".audio-choice-editor .audio-choice-record .input").show();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").hide();c.find(".audio-choice-editor .audio-choice-record .status.in-call").hide()},l=function(){c.find(".audio-choice-editor .audio-choice-record .input").hide();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").hide();
c.find(".audio-choice-editor .audio-choice-record .status.in-call").show()},d=false,s=null;c.data("cancel_recording_function",function(){if(!d){d=true;o();s!=null&&$.ajax({url:OpenVBX.home+"/audiofiles/cancel_recording",type:"POST",dataType:"json",data:{id:s},success:function(){}})}});(function(){c.find(".audio-choice-editor .audio-choice-record .input").hide();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").show();c.find(".audio-choice-editor .audio-choice-record .status.in-call").hide()})();
$.ajax({url:OpenVBX.home+"/audiofiles/add_from_twilio_recording",data:{to:g,callerid:f,tag:b},success:function(r){if(r.error){o();$(".audio-choice-record .error",c).html(r.message).removeClass("hide")}else{s=r.id;if(d&&r.id)$.ajax({url:OpenVBX.home+"audiofiles/cancel_recording",type:"POST",dataType:"json",data:{id:s},success:function(){}});else{l();var k=function(E){c.data("cancel_recording_function",null);o();Pickers.audio.saveValue(c,"play",null,E.url);Pickers.audio.insertRecordingIntoLibrary(c,
E.url,E.label);Pickers.audio.closeEditorAndShowPlayValue(c,E.url,true)},j=0,w=function(E){if(!d){if(E)if(E.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){o();$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("There was a problem checking to see if the recording had finished: "+E.message);$(".error-dialog").dialog("open");return}else if(E.finished)return k(E);if(j<=25){j++;return setTimeout(function(){$.ajax({url:OpenVBX.home+
"/audiofiles/check_if_recording_is_finished",type:"POST",dataType:"json",data:{id:s},success:w,error:function(){},global:false})},6E3)}}};w()}}},type:"POST",dataType:"json"})},insertRecordingIntoLibrary:function(b,c,f){var g=b.find("select[name=library]");$("<option value='"+c+"' title='"+(new Date).getTime()/1E3+"'>"+f+"</option>").insertAfter(g.find("option[value=]"));b.find(".audio-choice-library .empty-container").hide();b.find(".audio-choice-library .chooser-container").show()},chooseRecordingFromLibrary:function(b){b.preventDefault();
b=$(this).closest(".audio-choice");Pickers.audio.showPlayer(b,"library",$(this).val(),true)},setRecordingFromLibarary:function(b){b.preventDefault();b=$(this).closest(".audio-choice");var c=b.find("select[name=library]").val();if(c!=""){Pickers.audio.saveValue(b,"play",null,c);Pickers.audio.closeEditorAndShowPlayValue(b,c,true)}},hidePlayer:function(b,c){var f=b.data("soundId");if(f){soundManager.destroySound(f);b.data("soundId",null)}b.find("."+c+"-player").hide()},showPlayer:function(b,c,f,g){if(matches=
f.match(/^vbx-audio-upload:\/\/(.*)$/))f=OpenVBX.assets+"/audio-uploads/"+matches[1];var o=b.find("."+c+"-player");o.show();var l=o.find("."+c+"-play-button"),d=o.find("."+c+"-pause-button"),s=o.find("."+c+"-load-bar"),r=o.find("."+c+"-play-bar"),k=o.find("."+c+"-play-time");l.show();d.hide();s.css("width","0px");r.css("width","0px");k.html('<img src="'+OpenVBX.assets+'assets/i/ajax-loader.gif" alt="..." />');var j=function(B,F){s.css("width","100%");r.css("width",F+"%");k.text(convertMsecsToMinutesAndSeconds(B.position))};
c=function(){l.show();d.hide()};o=function(){l.hide();d.show()};var w=b.data("soundId");w!=null&&soundManager.getSoundById(w)!=null&&soundManager.destroySound(w);w="sound-"+Math.round(Math.random()*1E6).toString(16);b.data("soundId",w);var E=soundManager.createSound({id:w,url:f,onplay:o,onresume:o,onpause:c,onfinish:c,onload:function(){k.html("");s.css("width","100%")},whileloading:function(){var B=Math.round(this.bytesLoaded/this.bytesTotal*100);s.css("width",B+"%")},whileplaying:function(){var B=
Math.round(this.position/this.duration*100);j(this,B)}});l.unbind();l.click(function(B){B.preventDefault();E.paused?E.resume():E.play()});d.unbind();d.click(function(B){B.preventDefault();E.pause()});s.unbind();s.click(function(B){var F=s.offset();B=B.pageX-F.left;F=s.width();E.setPosition(B/F*E.durationEstimate);j(E,Math.round(B/F*100))});g?E.play():E.load()},selectAction:function(b){b.preventDefault();b=$(this).attr("href");var c=$(this).closest(".audio-choice");c.trigger("editor-open",[c]);c.find(".audio-choice-selector").hide();
c.find(".audio-choice-editor").show();c.find(".audio-choice-editor .audio-choice-"+b).show();if(b=="read-text"){var f=c.find("input[name$=_say]").val();c.find(".audio-choice-editor .audio-choice-"+b).find("textarea").val(f)}else if(b=="library"){b=c.find(".audio-choice-library").find("select[name=library]");b.unbind("change",Pickers.audio.chooseRecordingFromLibrary);b.change(Pickers.audio.chooseRecordingFromLibrary);b.find("option").each(function(o,l){l=$(l);if((o=l.attr("title"))&&o!=""){l.attr("title",
"");o=parseInt(o)*1E3;l.text(l.text()+" ("+convertTimeToString(o)+")")}})}else if(b=="upload"){swfControl=c.find(".swfupload-control");b=c.find(".button");var g=function(o){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text(o);$(".error-dialog").dialog("open")};swfControl.swfupload({upload_url:OpenVBX.home+"/audiofiles/add_file",file_size_limit:"10240",file_types:"*.mp3",file_types_description:"Audio Files",
file_upload_limit:"0",flash_url:OpenVBX.assets+"assets/j/swfupload/swfupload.swf",button_image_url:OpenVBX.assets+"assets/j/swfupload/transparent_538x68.png",button_width:"100%",button_height:68,button_placeholder:b[0],button_window_mode:"transparent",debug:false,post_params:{tag:c.find("input[name$=_tag]").val()}}).bind("fileQueued",function(){$(this).swfupload("startUpload");c.find(".audio-choice-editor .audio-choice-upload .upload-bar-container").show();c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("visibility",
"hidden");c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("height","0px")}).bind("uploadSuccess",function(o,l,d){o=JSON.parse(d);if(o.error)g(o.message);else{Pickers.audio.saveValue(c,"play",null,o.url);Pickers.audio.insertRecordingIntoLibrary(c,o.url,o.label);Pickers.audio.closeEditorAndShowPlayValue(c,o.url,true)}c.find(".audio-choice-editor .audio-choice-upload .upload-progress-bar").css("width","0px");c.find(".audio-choice-editor .audio-choice-upload .upload-bar-container").hide();
c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("visibility","visible");c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("height","68px")}).bind("uploadProgress",function(o,l,d,s){c.find(".audio-choice-editor .audio-choice-upload .upload-progress-bar").css("width",d/s*100+"%")}).bind("uploadComplete",function(){}).bind("uploadError",function(o,l,d,s){g("Upload failed: "+s)})}},closeEditor:function(b){b.trigger("editor-close",[b]);b.find(".audio-choice-upload").is(":visible")&&
b.find(".swfupload-control").swfuploadUnload();b.find(".audio-choice-record").is(":visible")&&Pickers.audio.cancelDeviceRecordingIfActive(b);b.find("select[name=library]").attr("selectedIndex",0);Pickers.audio.hidePlayer(b,"library");b.find(".audio-choice-editor-padding").children().each(function(){$(this).hide()});b.find(".audio-choice-editor").hide()},closeEditorsAndShowSelector:function(b){b.preventDefault();b=$(this).closest(".audio-choice");Pickers.audio.closeEditor(b);b.find(".error").text("").addClass("hide");
b.find(".audio-choice-selector").show()},closeEditorAndShowSayValue:function(b,c){Pickers.audio.closeEditor(b);b.find(".audio-choice-current-value").show();b.find(".audio-choice-current-value .audio-choice-play-audio").hide();b.find(".audio-choice-current-value .audio-choice-read-text").show();b.find(".audio-choice-current-value .audio-choice-read-text").find(".read-text").text(c)},closeEditorAndShowPlayValue:function(b,c,f){Pickers.audio.closeEditor(b);b.find(".audio-choice-current-value").show();
b.find(".audio-choice-current-value .audio-choice-play-audio").show();b.find(".audio-choice-current-value .audio-choice-read-text").hide();b.find(".audio-choice-current-value .audio-choice-read-text").find(".read-text").text();Pickers.audio.showPlayer(b,"current",c,f)},showInputSelector:function(b){b.preventDefault();b=$(this).closest(".audio-choice");var c=b.find(".audio-choice-current-value");c.children().each(function(){$(this).hide()});c.hide();b.find(".audio-choice-selector").show();b.find(".audio-choice-close-button").show()},
closeSelectorAndShowCurrentValue:function(b){b.preventDefault();b=$(this).closest(".audio-choice");b.find(".audio-choice-editor").hide();b.find(".audio-choice-selector").hide();b.find(".audio-choice-current-value").show();var c=b.find("input[name$=_mode]").val();if(c=="say")b.find(".audio-choice-current-value .audio-choice-read-text").show();else c=="play"?b.find(".audio-choice-current-value .audio-choice-play-audio").show():alert("Unexpected mode: "+c)},saveReadText:function(b,c){b.preventDefault();
b=$(this).closest(".audio-choice-read-text");if($(c).length){b=$(c).closest(".audio-choice-read-text");c=$(c).closest(".audio-choice")}else c=$(this).closest(".audio-choice");if(b=b.find(".voicemail-text").val()){Pickers.audio.saveValue(c,"say",b,null);Pickers.audio.closeEditorAndShowSayValue(c,b)}}},usergroup:{picker:null,open:function(b){$(".usergroup-dialog").length>0&&$(".usergroup-dialog").remove();$("body").append($(b));$(".usergroup-dialog").dialog({bgiframe:true,resizable:false,height:480,
width:500,modal:true,title:"Choose a user or group",overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Cancel:function(){$(this).dialog("close")},"Add User":Pickers.usergroup.addUser,"Add Group":Pickers.usergroup.addGroup}});$(".usergroup-dialog").dialog("open")},dialog:function(b){b.preventDefault();Pickers.usergroup.picker=b.target;$.ajax({url:OpenVBX.home+"/dialog/usergroup",cache:false,data:{barebones:1},success:function(c){Pickers.usergroup.open(c)},dataType:"html"});return false},hoverIn:function(b){$(b.target).parents("tr").addClass("hover")},
hoverOut:function(b){$(b.target).parents("tr").removeClass("hover")},select:function(b){var c=$(b.target).parents("tr"),f=c.attr("rel").replace(/^(user|group)_/,"");c=c.hasClass("user")?"user":"group";var g="";b=$(b.target).parents("tr").children("td");g=c=="user"?$(b[1]).text()+" ("+$(b[2]).text()+")":$(b[1]).text();Pickers.usergroup.setPickerValue(f,c,g)},setPickerValue:function(b,c,f){var g=$(Pickers.usergroup.picker).parents(".usergroup-container");$(g).find("p").addClass("selected-usergroup").removeClass("placeholder");
$("input.usergroup-id",g).val(b);$("input.usergroup-type",g).val(c);$(".selected-usergroup",g).text(f);$(".usergroup-dialog").dialog("close");$(g).trigger("usergroup-selected",[f,c,b])},editUser:function(b){b.preventDefault();b.stopPropagation();b=$(b.target).closest("tr").attr("rel").replace(/^user_/,"");$.postJSON("accounts/user/get",{id:b},showUserEdit);$(document).unbind("user-edited",Pickers.usergroup.userEdited);$(document).bind("user-edited",Pickers.usergroup.userEdited);return false},editGroup:function(b){b.preventDefault();
b.stopPropagation();b=$(b.target).closest("tr").attr("rel").replace(/^group_/,"");$.postJSON("accounts/group/get",{id:b},showGroupEdit);$(document).unbind("group-edited",Pickers.usergroup.groupEdited);$(document).bind("group-edited",Pickers.usergroup.groupEdited);return false},addUser:function(){showUserAdd(null);$(document).unbind("user-added",Pickers.usergroup.userAdded);$(document).bind("user-added",Pickers.usergroup.userAdded)},addGroup:function(){showGroupEdit(null);$(document).unbind("group-added",
Pickers.usergroup.groupAdded);$(document).bind("group-added",Pickers.usergroup.groupAdded)},userAdded:function(b,c){Pickers.usergroup.setPickerValue(c.id,"user",c.first_name+" "+c.last_name+" ("+c.email+")")},userEdited:function(b,c){b=$(".usergroup-dialog .users-and-groups-table tr[rel=user_"+c.id+"]").find("td");$(b[1]).text(c.first_name+" "+c.last_name);$(b[2]).text(c.email)},groupAdded:function(b,c){Pickers.usergroup.setPickerValue(c.id,"group",c.name)},groupEdited:function(b,c){b=$(".usergroup-dialog .users-and-groups-table tr[rel=group_"+
c.id+"]").find("td");$(b[1]).text(c.name)}}};
$(document).ready(function(){$(".audio-choice-selector a").live("click",Pickers.audio.selectAction);$(".audio-choice-editor .audio-choice-close-button").live("click",Pickers.audio.closeEditorsAndShowSelector);$(".audio-choice-editor .audio-choice-read-text button[type=submit]").live("click",Pickers.audio.saveReadText);$(".audio-choice-current-value .change").live("click",Pickers.audio.showInputSelector);$(".audio-choice-selector .audio-choice-close-button").live("click",Pickers.audio.closeSelectorAndShowCurrentValue);
$(".audio-choice-editor .audio-choice-record button[type=submit]").live("click",Pickers.audio.startDeviceRecording);$(".audio-choice-editor .audio-choice-library button[type=submit]").live("click",Pickers.audio.setRecordingFromLibarary);$(".audio-choice-editor .swfupload-control").live("mouseenter",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").addClass("hover")});$(".audio-choice-editor .swfupload-control").live("mouseleave",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").removeClass("hover")});
$(".usergroup-picker").live("click",Pickers.usergroup.dialog);$(".usergroup-dialog td").live("mouseover",Pickers.usergroup.hoverIn).live("mouseout",Pickers.usergroup.hoverOut);$(".usergroup-dialog td").live("click",Pickers.usergroup.select);$(".usergroup-dialog a.edit-user").live("click",Pickers.usergroup.editUser);$(".usergroup-dialog a.edit-group").live("click",Pickers.usergroup.editGroup)});var Message={};
Message.Select={select_all:function(b){$("input[type=checkbox]",b).attr("checked","checked").trigger("checked")},select_none:function(b){$("input[type=checkbox]",b).removeAttr("checked").trigger("unchecked")},select_unread:function(b){$("input[type=checkbox]",b.filter(".read")).removeAttr("checked").trigger("unchecked");$("input[type=checkbox]",b.filter(".unread")).attr("checked","checked").trigger("checked")},select_read:function(b){$("input[type=checkbox]",b.filter(".unread")).removeAttr("checked").trigger("unchecked");$("input[type=checkbox]",
b.filter(".read")).attr("checked","checked").trigger("checked")}};
Message.Detail={update:function(b,c,f){b=typeof b=="object"?b.join(","):b;$.ajax({url:OpenVBX.home+"messages/details/"+b,success:function(g){if(!g.error){f(g);$.ajax({url:OpenVBX.home+"messages/inbox",success:function(o){o.error||$.each(o.folders,function(){$(".count[rel="+this.id+"]").text(this["new"])})},type:"GET",dataType:"json"})}},error:function(){},data:c,dataType:"json",type:"POST"})},archive:function(b,c){this.update(b,{archived:true},c)},assign:function(b,c,f){this.update(b,{assigned:c},
f)}};
Message.Player={getRecordingUrls:function(b){if(Message.Player.messageIdsToRecordingURLs)return b();$.ajax({success:function(c){if(!c.error){Message.Player.messageIdsToRecordingURLs={};if("recording_url"in c)Message.Player.messageIdsToRecordingURLs[c.id]=c.recording_url+".mp3";if("messages"in c)for(var f in Message.Player.messages){var g=c.messages[f];Message.Player.messageIdsToRecordingURLs[g.id]=g.recording_url+".mp3"}Message.Player.allowPause=true;return b()}},type:"GET",dataType:"json"})},messageIdsToRecordingURLs:null,
currentSoundObject:null,currentMessageAnchor:null,lastLoadBarHandler:null,allowPause:false,nextMessageToPlayAnchor:null,togglePlayForMessage:function(b){var c=function(f){if(Message.Player.currentMessageAnchor!=null&&Message.Player.currentMessageAnchor!=f){Message.Player.nextMessageToPlayAnchor=f;Message.Player.currentSoundObject.stop()}else if(Message.Player.currentMessageAnchor!=null&&Message.Player.currentMessageAnchor==f)if(Message.Player.currentSoundObject.paused)Message.Player.currentSoundObject.resume();
else Message.Player.allowPause?Message.Player.currentSoundObject.pause():Message.Player.currentSoundObject.stop();else Message.Player.playMessage(f)};Message.Player.getRecordingUrls(function(){c(b)})},playMessage:function(b){Message.Player.currentMessageAnchor=b;b=$(b);var c=b.attr("id").replace("play-","");Message.Player.currentSoundId="message-"+c;if(!(c in Message.Player.messageIdsToRecordingURLs))throw"Unable to find the recording URL for id '"+c+"'";c=Message.Player.messageIdsToRecordingURLs[c];
b=b.closest(".message-row");var f=b.find(".playback-button"),g=b.find(".player"),o=b.find(".transcript");g=b.find(".player");var l=b.find(".load-bar"),d=b.find(".play-bar"),s=b.find(".play-time"),r=function(k,j){l.css("width","100%");d.css("width",j+"%");s.text(convertMsecsToMinutesAndSeconds(k.position))};b=function(){f.removeClass("pause").removeClass("stop").addClass("play");g.removeClass("current-player").hide();o.show();Message.Player.currentMessageAnchor=null;Message.Player.currentSoundObject.destruct();
Message.Player.currentSoundObject=null;if(Message.Player.nextMessageToPlayAnchor!=null){var k=Message.Player.nextMessageToPlayAnchor;Message.Player.nextMessageToPlayAnchor=null;Message.Player.togglePlayForMessage(k)}};Message.Player.currentSoundObject=soundManager.createSound({id:Message.Player.currentSoundId,url:c,onplay:function(){f.removeClass("play");Message.Player.allowPause?f.addClass("pause"):f.addClass("stop");g.addClass("current-player").show();o.hide()},onresume:function(){f.removeClass("play").addClass("pause")},
onpause:function(){f.removeClass("pause").addClass("play")},onstop:b,onfinish:b,onload:function(){s.html("");l.css("width","100%")},whileloading:function(){var k=Math.round(this.bytesLoaded/this.bytesTotal*100);l.css("width",k+"%")},whileplaying:function(){var k=Math.round(this.position/this.duration*100);r(this,k)}});Message.Player.currentSoundObject.play();Message.Player.lastLoadBarHandler!=null&&l.unbind("click",Message.Player.lastLoadBarHandler);Message.Player.lastLoadBarHandler=function(k){k.stopPropagation();
var j=Message.Player.currentSoundObject,w=l.offset();k=k.pageX-w.left;w=l.width();j.setPosition(k/w*j.durationEstimate);r(j,Math.round(k/w*100))};l.click(Message.Player.lastLoadBarHandler)}};
$(document).ready(function(){(function(){var c=new Date,f=(new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0)).getTime(),g=(new Date(c.getFullYear(),0,1,0,0,0)).getTime();$(".unformatted-absolute-timestamp").each(function(o,l){l=$(l);o=parseInt(l.text())*1E3;l.text(convertTimeToString(o,f,g));l.removeClass("hide")});c=function(){$(".unformatted-relative-timestamp").each(function(o,l){l=$(l);o=l.data("timestamp");if(!o){o=parseInt(l.text())*1E3;l.data("timestamp",o)}var d=(new Date).getTime(),
s=d-o,r=Math.floor(s/1E3/60);s=Math.floor(s/1E3/60/60);d>o&&d-o<36E5?l.text(s==0?r+" minutes ago":s+" hour"+(s>1?"s":"")+" ago"):l.text(convertTimeToString(o));l.removeClass("hide")})};c();setInterval(c,6E4)})();Message.Player.player=$("#audio-player");$("a.quick-play").click(function(c){c.preventDefault();Message.Player.togglePlayForMessage(this)});$(".caller-id-phone a").click(function(){var c=$(this);c.parents("ul.caller-id-phone")?c.hide().parents("ul").append('<li class="calling">Calling...</li>'):
c.hide().parent().append('<li class="calling">Calling...</li>');$.ajax({url:$(this).attr("href"),data:{callerid:$(".callerid",this).text(),from:$(".from",this).text(),to:$(".to",this).text()},dataType:"json",type:"POST",success:function(f){if(f.error){$(".error-dialog").data("dialog.uiDialog").uiDialogTitlebar.text("Twilio Sandbox");$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text(f.message);$(".error-dialog").dialog("open")}$(".quick-call-popup .calling").remove();$(".quick-call-popup.open").toggleClass("open");
c.show()}});return false});$(".quick-call-popup").click(function(){return false});$(".quick-sms-popup").click(function(){return false});$(".quick-sms-popup .send-button").click(function(c){var f=$(this).parents(".quick-sms-popup");$(".sending-sms-loader").show();$.ajax({url:OpenVBX.home+"messages/sms/"+$(this).attr("rel"),data:{from:$(".from-phone",f).text(),to:$(".sms-to-phone",f).text(),content:$("input[name=content]",f).val()},success:function(g){$(".sending-sms-loader").hide();if(!g.error){$("textarea",
f).val("");$(f).hide()}},error:function(){$(".sending-sms-loader").hide()},type:"POST",dataType:"json"});c.preventDefault()});$(".message-row").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});$(".message-row td").mousedown(function(){$(".message-row").removeClass("clicked");$(this).parent().addClass("mousedown")});$("body").mouseup(function(){$(".message-row").removeClass("mousedown")});$(".message-row td.message-details-link").click(function(){$(this).parent().addClass("clicked");
document.location=OpenVBX.home+"messages/details/"+$(this).parent().attr("rel")});$(".select").click(function(){var c=$(this).attr("class").replace("select ","").replace("-","_");c=Message.Select[c]||function(){};c($(".message-row"));$(".dropdown-select-button").parent().children("ul.open").toggleClass("open");return false});$("input[type=checkbox]").change(function(){this.checked?$(this).trigger("checked"):$(this).trigger("unchecked")});$(".message-select input[type=checkbox]").bind("checked",function(){$(this).parent().parent().addClass("checked")}).bind("unchecked",
function(){$(this).parent().parent().removeClass("checked")});$(".assign-button").buttonista({menu:".assign-to-popup"});$(".assign-button").click(function(c){var f=$(this).parent().children(".assign-to-popup");f.top($(this).top()-1);f.right($(this).right()+5);var g=$(document).scrollTop(),o=$(document).scrollTop()+$(window).height();f.top()<g&&f.top(g+10);f.bottom()>o&&f.bottom(o-10);c.preventDefault()});$(".quick-call-button").buttonista({menu:".quick-call-popup"});$(".quick-sms-button").buttonista({menu:".quick-sms-popup",
toggler:".sms-toggler"});var b=function(){var c=$(this).val().length;$(this).parents(".quick-sms-popup, #reply-sms").children(".count").text(160-c)};$(".quick-sms-popup input[name=content]").live("keypress",b);$(".quick-sms-popup input[name=content]").keypress();$("#reply-sms textarea").live("keypress",b);$("#reply-sms textarea").live("change",b);$("#reply-sms textarea").keypress();$("#reply-sms .submit-button").click(function(c){c.preventDefault();$("#reply-sms button").attr("disabled","disabled");
$("#reply-sms .loader").show();$.ajax({url:$("#reply-sms").attr("action"),data:$("#reply-sms"),success:function(){$("#reply-sms .loader").hide();$.notify("SMS sent");$("#reply-sms textarea").val("");$("#reply-sms .submit-button").removeAttr("disabled").flicker()},type:"POST",dataType:"json"});return false});$(".dropdown-select-button").buttonista();$(".delete-button").click(function(){if($(".delete-button").attr("id").match("delete-")){c=$(this).attr("id").replace("delete-","");Message.Detail.archive(c,
function(){$(".delete-button span").text("Deleted")})}else{var c=[];$("input[name^=message]:checked").each(function(){c.push($(this).val())}).queue(function(){c.length&&Message.Detail.archive(c,function(){for(var f in c)$("tr[rel="+c[f]+"]").remove();$.notify("Deleted "+c.length+" message"+(c.length>1?"s":""))})})}return false});$(".assign-user-list .user a").live("click",function(c){c.preventDefault();var f=$(this),g;g=(c=f.text().match(/\((..)\)$/))?c[1]:"";Message.Detail.assign($(this).parents("tr").attr("rel"),
$(this).attr("rel"),function(){f.parents("ul").find("li").removeClass("assigned");f.parent().addClass("assigned");f.parents("td").find(".owner-name").text(g);f.parents(".assign-to-popup").removeClass("open")})});$("#save-details").click(function(){$("#message-details").submit()})});$(document).ready(function(){OpenVBX.version={check:function(b){b&&!b.error&&$.notify("OpenVBX Update is available","http://openvbx.org/download");$.cookie("last-update",true,{expires:1,path:"/"})}};$.cookie("last-update")||$.getJSON(OpenVBX.home+"/client/updates",OpenVBX.version.check)});
