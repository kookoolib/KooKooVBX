var a;
(function(b){function c(g,m){this.flashVersion=8;this.debugMode=true;this.debugFlash=false;this.useConsole=true;this.waitForWindowLoad=this.consoleOnly=false;this.nullURL="null.mp3";this.allowPolling=true;this.useMovieStar=this.useFastPolling=false;this.bgColor="#ffffff";this.useHighPerformance=false;this.flashLoadTimeout=1E3;this.wmode=null;this.allowFullScreen=true;this.allowScriptAccess="always";this.useFlashBlock=false;this.defaultOptions={autoLoad:false,stream:true,autoPlay:false,onid3:null,onload:null,
whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfinish:null,onbeforefinish:null,onbeforefinishtime:5E3,onbeforefinishcomplete:null,onjustbeforefinish:null,onjustbeforefinishtime:200,multiShot:true,multiShotEvents:false,position:null,pan:0,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={onmetadata:null,useVideo:false,bufferTime:2};var l,d=this,
r,s;this.version=null;this.versionNumber="V2.95b.20100323";this.movieURL=null;this.url=g||null;this.altURL=null;this.enabled=this.swfLoaded=false;this.o=null;this.movieID="sm2-container";this.id=m||"sm2movie";this.swfCSS={swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.oMC=null;this.sounds={};this.soundIDs=[];this.isFullScreen=this.muted=false;this.isIE=navigator.userAgent.match(/MSIE/i);
this.isSafari=navigator.userAgent.match(/safari/i);this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.didFlashBlock=this.specialWmodeCase=false;this._onready=[];this._debugOpen=true;this._windowLoaded=this._disabled=this._didInit=this._appendSuccess=this._didAppend=false;this._hasConsole=typeof console!=="undefined"&&typeof console.log!=="undefined";this._debugLevels=["log","info","warn","error"];this._defaultFlashVersion=8;this._oRemovedHTML=this._oRemoved=null;r=function(k){return document.getElementById(k)};
this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?\.*)?$/i,flash9:/\.mp3(\?\.*)?$/i};this.baseMimeTypes=/^audio\/(?:x-)?(?:mp(?:eg|3))\s*;?/i;this.netStreamMimeTypes=/^audio\/(?:x-)?(?:mp(?:eg|3)|mp4a-latm|aac|speex)\s*;?/i;this.netStreamTypes=["aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"];this.netStreamPattern=new RegExp("\\.("+this.netStreamTypes.join("|")+")(\\?.*)?$","i");this.mimePattern=d.baseMimeTypes;this.features={buffering:false,peakData:false,waveformData:false,eqData:false,
movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this._setVersionInfo=function(){if(d.flashVersion!==8&&d.flashVersion!==9){alert(d._str("badFV",d.flashVersion,d._defaultFlashVersion));d.flashVersion=d._defaultFlashVersion}d.version=
d.versionNumber+(d.flashVersion===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(d.flashVersion>8){d.defaultOptions=d._mergeObjects(d.defaultOptions,d.flash9Options);d.features.buffering=true}if(d.flashVersion>8&&d.useMovieStar){d.defaultOptions=d._mergeObjects(d.defaultOptions,d.movieStarOptions);d.filePatterns.flash9=new RegExp("\\.(mp3|"+d.netStreamTypes.join("|")+")(\\?.*)?$","i");d.mimePattern=d.netStreamMimeTypes;d.features.movieStar=true}else{d.useMovieStar=false;d.features.movieStar=false}d.filePattern=
d.filePatterns[d.flashVersion!==8?"flash9":"flash8"];d.movieURL=d.flashVersion===8?"soundmanager2.swf":"soundmanager2_flash9.swf";d.features.peakData=d.features.waveformData=d.features.eqData=d.flashVersion>8};this._overHTTP=document.location?document.location.protocol.match(/http/i):null;this._initPending=this._waitingforEI=false;this._tryInitOnFocus=this.isSafari&&typeof document.hasFocus==="undefined";this._isFocused=typeof document.hasFocus!=="undefined"?document.hasFocus():null;this._okToDisable=
!this._tryInitOnFocus;this.useAltURL=!this._overHTTP;this.strings={notReady:"Not loaded yet - wait for soundManager.onload() before calling sound-related methods",appXHTML:"soundManager_createMovie(): appendChild/innerHTML set failed. May be app/xhtml+xml DOM-related.",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+
document.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for focus-related event..",waitImpatient:"soundManager: Getting impatient, still waiting for Flash%s...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",needFunction:"soundManager.onready(): Function object expected",
badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',fl9Vid:"flash 9 required for video. Exiting.",noMS:"MovieStar mode not enabled. Exiting.",spcWmode:"soundManager._createMovie(): Removing wmode, preventing win32 below-the-fold SWF loading issue",currentObj:"--- soundManager._debug(): Current sound objects ---",waitEI:"soundManager._initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",
onload:"soundManager.initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",init:"-- soundManager.init() --",didInit:"soundManager.init(): Already called?",flashJS:"soundManager: Attempting to call Flash from JS..",noPolling:"soundManager: Polling (whileloading()/whileplaying() support) is disabled.",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",
badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager.onready(): Queueing handler",smFail:"soundManager: Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+d.swfCSS.swfTimedout+" CSS..",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",
badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.'};this._str=function(){var k=Array.prototype.slice.call(arguments),j=k.shift();j=d.strings&&d.strings[j]?d.strings[j]:"";var w,C;if(j&&k&&k.length){w=0;for(C=k.length;w<C;w++)j=j.replace("%s",k[w])}return j};this.supported=function(){return d._didInit&&!d._disabled};this.getMovie=function(k){return d.isIE?b[k]:d.isSafari?r(k)||document[k]:r(k)};this.loadFromXML=function(k){try{d.o._loadFromXML(k)}catch(j){d._failSafely();
return true}};this.createSound=function(k){var j=null;j=null;if(!d._didInit)throw d._complain("soundManager.createSound(): "+d._str("notReady"),arguments.callee.caller);if(arguments.length===2)k={id:arguments[0],url:arguments[1]};j=j=d._mergeObjects(k);j.id.toString().charAt(0).match(/^[0-9]$/)&&d._wD("soundManager.createSound(): "+d._str("badID",j.id),2);d._wD("soundManager.createSound(): "+j.id+" ("+j.url+")",1);if(d._idCheck(j.id,true)){d._wD("soundManager.createSound(): "+j.id+" exists",1);return d.sounds[j.id]}if(d.flashVersion>
8&&d.useMovieStar){if(j.isMovieStar===null)j.isMovieStar=j.url.match(d.netStreamPattern)?true:false;j.isMovieStar&&d._wD("soundManager.createSound(): using MovieStar handling");if(j.isMovieStar&&j.usePeakData){d._wDS("noPeak");j.usePeakData=false}}d.sounds[j.id]=new l(j);d.soundIDs[d.soundIDs.length]=j.id;d.flashVersion===8?d.o._createSound(j.id,j.onjustbeforefinishtime):d.o._createSound(j.id,j.url,j.onjustbeforefinishtime,j.usePeakData,j.useWaveformData,j.useEQData,j.isMovieStar,j.isMovieStar?j.useVideo:
false,j.isMovieStar?j.bufferTime:false);if(j.autoLoad||j.autoPlay)d.sounds[j.id]&&d.sounds[j.id].load(j);j.autoPlay&&d.sounds[j.id].play();return d.sounds[j.id]};this.createVideo=function(k){if(arguments.length===2)k={id:arguments[0],url:arguments[1]};if(d.flashVersion>=9){k.isMovieStar=true;k.useVideo=true}else{d._wD("soundManager.createVideo(): "+d._str("f9Vid"),2);return false}d.useMovieStar||d._wD("soundManager.createVideo(): "+d._str("noMS"),2);return d.createSound(k)};this.destroyVideo=this.destroySound=
function(k,j){if(!d._idCheck(k))return false;for(var w=0;w<d.soundIDs.length;w++)d.soundIDs[w]===k&&d.soundIDs.splice(w,1);d.sounds[k].unload();j||d.sounds[k].destruct();delete d.sounds[k]};this.load=function(k,j){if(!d._idCheck(k))return false;d.sounds[k].load(j)};this.unload=function(k){if(!d._idCheck(k))return false;d.sounds[k].unload()};this.start=this.play=function(k,j){if(!d._didInit)throw d._complain("soundManager.play(): "+d._str("notReady"),arguments.callee.caller);if(!d._idCheck(k)){j instanceof
Object||(j={url:j});if(j&&j.url){d._wD('soundManager.play(): attempting to create "'+k+'"',1);j.id=k;return d.createSound(j).play()}else return false}d.sounds[k].play(j)};this.setPosition=function(k,j){if(!d._idCheck(k))return false;d.sounds[k].setPosition(j)};this.stop=function(k){if(!d._idCheck(k))return false;d._wD("soundManager.stop("+k+")",1);d.sounds[k].stop()};this.stopAll=function(){d._wD("soundManager.stopAll()",1);for(var k in d.sounds)d.sounds[k]instanceof l&&d.sounds[k].stop()};this.pause=
function(k){if(!d._idCheck(k))return false;d.sounds[k].pause()};this.pauseAll=function(){for(var k=d.soundIDs.length;k--;)d.sounds[d.soundIDs[k]].pause()};this.resume=function(k){if(!d._idCheck(k))return false;d.sounds[k].resume()};this.resumeAll=function(){for(var k=d.soundIDs.length;k--;)d.sounds[d.soundIDs[k]].resume()};this.togglePause=function(k){if(!d._idCheck(k))return false;d.sounds[k].togglePause()};this.setPan=function(k,j){if(!d._idCheck(k))return false;d.sounds[k].setPan(j)};this.setVolume=
function(k,j){if(!d._idCheck(k))return false;d.sounds[k].setVolume(j)};this.mute=function(k){var j=0;if(typeof k!=="string")k=null;if(k){if(!d._idCheck(k))return false;d._wD('soundManager.mute(): Muting "'+k+'"');d.sounds[k].mute()}else{d._wD("soundManager.mute(): Muting all sounds");for(j=d.soundIDs.length;j--;)d.sounds[d.soundIDs[j]].mute();d.muted=true}};this.muteAll=function(){d.mute()};this.unmute=function(k){if(typeof k!=="string")k=null;if(k){if(!d._idCheck(k))return false;d._wD('soundManager.unmute(): Unmuting "'+
k+'"');d.sounds[k].unmute()}else{d._wD("soundManager.unmute(): Unmuting all sounds");for(k=d.soundIDs.length;k--;)d.sounds[d.soundIDs[k]].unmute();d.muted=false}};this.unmuteAll=function(){d.unmute()};this.toggleMute=function(k){if(!d._idCheck(k))return false;d.sounds[k].toggleMute()};this.getMemoryUse=function(){if(d.flashVersion===8)return 0;if(d.o)return parseInt(d.o._getMemoryUse(),10)};this.disable=function(k){if(typeof k==="undefined")k=false;if(d._disabled)return false;d._disabled=true;d._wDS("shutdown",
1);for(var j=d.soundIDs.length;j--;)d._disableObject(d.sounds[d.soundIDs[j]]);d.initComplete(k)};this.canPlayMIME=function(k){return k?k.match(d.mimePattern)?true:false:null};this.canPlayURL=function(k){return k?k.match(d.filePattern)?true:false:null};this.canPlayLink=function(k){if(typeof k.type!=="undefined"&&k.type)if(d.canPlayMIME(k.type))return true;return d.canPlayURL(k.href)};this.getSoundById=function(k,j){if(!k)throw new Error("SoundManager.getSoundById(): sID is null/undefined");var w=d.sounds[k];
!w&&!j&&d._wD('"'+k+'" is an invalid sound ID.',2);return w};this.onready=function(k,j){if(k&&k instanceof Function){d._didInit&&d._wDS("queue");j||(j=b);d._addOnReady(k,j);d._processOnReady();return true}else throw d._str("needFunction");};this.oninitmovie=function(){};this.onload=function(){d._wD("soundManager.onload()",1)};this.onerror=function(){};this._idCheck=this.getSoundById;this._complain=function(k,j){if(!j)return new Error("Error: "+k);typeof console!=="undefined"&&typeof console.trace!==
"undefined"&&console.trace();k="Error: "+k+". \nCaller: "+j.toString();return new Error(k)};s=function(){return false};s._protected=true;this._disableObject=function(k){for(var j in k)if(typeof k[j]==="function"&&typeof k[j]._protected==="undefined")k[j]=s};this._failSafely=function(k){if(typeof k==="undefined")k=false;if(!d._disabled||k){d._wDS("smFail",2);d.disable(k)}};this._normalizeMovieURL=function(k){var j=null;if(k)if(k.match(/\.swf(\?\.*)?$/i)){if(j=k.substr(k.toLowerCase().lastIndexOf(".swf?")+
4))return k}else if(k.lastIndexOf("/")!==k.length-1)k+="/";return(k&&k.lastIndexOf("/")!==-1?k.substr(0,k.lastIndexOf("/")+1):"./")+d.movieURL};this._getDocument=function(){return document.body?document.body:document.documentElement?document.documentElement:document.getElementsByTagName("div")[0]};this._getDocument._protected=true;this._setPolling=function(k,j){if(!d.o||!d.allowPolling)return false;d.o._setPolling(k,j)};this._createMovie=function(k,j){var w=null;j=j?j:d.url;var C=d.altURL?d.altURL:
j,B,F,G,i,aa;if(d.debugURLParam.test(b.location.href.toString()))d.debugMode=true;if(d._didAppend&&d._appendSuccess)return false;d._didAppend=true;d._setVersionInfo();d.url=d._normalizeMovieURL(d._overHTTP?j:C);j=d.url;if(d.useHighPerformance&&d.useMovieStar&&d.defaultOptions.useVideo===true){w="soundManager note: disabling highPerformance, not applicable with movieStar mode+useVideo";d.useHighPerformance=false}d.wmode=!d.wmode&&d.useHighPerformance&&!d.useMovieStar?"transparent":d.wmode;if(d.wmode!==
null&&!d.isIE&&!d.useHighPerformance&&navigator.platform.match(/win32/i)){d.specialWmodeCase=true;d._wDS("spcWmode");d.wmode=null}if(d.flashVersion===8)d.allowFullScreen=false;B={name:k,id:k,src:j,width:"100%",height:"100%",quality:"high",allowScriptAccess:d.allowScriptAccess,bgcolor:d.bgColor,pluginspage:"http://www.macromedia.com/go/getflashplayer",type:"application/x-shockwave-flash",wmode:d.wmode,allowfullscreen:d.allowFullScreen?"true":"false"};if(d.debugFlash)B.FlashVars="debug=1";d.wmode||
delete B.wmode;if(d.isIE){C=document.createElement("div");G='<object id="'+k+'" data="'+j+'" type="'+B.type+'" width="'+B.width+'" height="'+B.height+'"><param name="movie" value="'+j+'" /><param name="AllowScriptAccess" value="'+d.allowScriptAccess+'" /><param name="quality" value="'+B.quality+'" />'+(d.wmode?'<param name="wmode" value="'+d.wmode+'" /> ':"")+'<param name="bgcolor" value="'+d.bgColor+'" /><param name="allowFullScreen" value="'+B.allowFullScreen+'" />'+(d.debugFlash?'<param name="FlashVars" value="'+
B.FlashVars+'" />':"")+"<!-- --\></object>"}else{C=document.createElement("embed");for(F in B)B.hasOwnProperty(F)&&C.setAttribute(F,B[F])}if(d.debugMode){i=document.createElement("div");i.id=d.debugID+"-toggle";k={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};i.appendChild(document.createTextNode("-"));i.onclick=d._toggleDebug;i.title="Toggle SM2 debug console";
if(navigator.userAgent.match(/msie 6/i)){i.style.position="absolute";i.style.cursor="hand"}for(F in k)if(k.hasOwnProperty(F))i.style[F]=k[F]}k=d.getSWFCSS();if(F=d._getDocument()){d.oMC=r(d.movieID)?r(d.movieID):document.createElement("div");if(d.oMC.id){B=d.oMC.className;d.oMC.className=(B?B+" ":d.swfCSS.swfDefault)+(k?" "+k:"");d.oMC.appendChild(C);if(d.isIE){k=d.oMC.appendChild(document.createElement("div"));k.className="sm2-object-box";k.innerHTML=G}d._appendSuccess=true}else{d.oMC.id=d.movieID;
d.oMC.className=d.swfCSS.swfDefault+" "+k;k=B=null;d.useFlashBlock||(B=d.useHighPerformance?{position:"fixed",width:"6px",height:"6px",bottom:"0px",left:"0px",overflow:"hidden"}:{position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"});aa=null;if(!d.debugFlash)for(aa in B)if(B.hasOwnProperty(aa))d.oMC.style[aa]=B[aa];try{d.isIE||d.oMC.appendChild(C);F.appendChild(d.oMC);if(d.isIE){k=d.oMC.appendChild(document.createElement("div"));k.className="sm2-object-box";k.innerHTML=G}d._appendSuccess=
true}catch(U){throw new Error(d._str("appXHTML"));}}if(d.debugMode&&!r(d.debugID)&&(!d._hasConsole||!d.useConsole||d.useConsole&&d._hasConsole&&!d.consoleOnly)){G=document.createElement("div");G.id=d.debugID;G.style.display=d.debugMode?"block":"none";if(d.debugMode&&!r(i.id)){try{F.appendChild(i)}catch(L){throw new Error(d._str("appXHTML"));}F.appendChild(G)}}}w&&d._wD(w);d._wD("-- SoundManager 2 "+d.version+(d.useMovieStar?", MovieStar mode":"")+(d.useHighPerformance?", high performance mode, ":
", ")+((d.useFastPolling?"fast":"normal")+" polling")+(d.wmode?", wmode: "+d.wmode:"")+(d.debugFlash?", flash debug mode":"")+(d.useFlashBlock?", flashBlock mode":"")+" --",1);d._wD("soundManager._createMovie(): Trying to load "+j+(!d._overHTTP&&d.altURL?" (alternate URL)":""),1)};this._writeDebug=function(k,j,w){var C,B;if(!d.debugMode)return false;if(typeof w!=="undefined"&&w)k=k+" | "+(new Date).getTime();if(d._hasConsole&&d.useConsole){w=d._debugLevels[j];typeof console[w]!=="undefined"?console[w](k):
console.log(k);if(d.useConsoleOnly)return true}try{C=r("soundmanager-debug");if(!C)return false;B=document.createElement("div");if(++d._wdCount%2===0)B.className="sm2-alt";j=typeof j==="undefined"?0:parseInt(j,10);B.appendChild(document.createTextNode(k));if(j){if(j>=2)B.style.fontWeight="bold";if(j===3)B.style.color="#ff3333"}C.insertBefore(B,C.firstChild)}catch(F){}};this._writeDebug._protected=true;this._wdCount=0;this._wdCount._protected=true;this._wD=this._writeDebug;this._wDS=function(k,j){return k?
d._wD(d._str(k),j):""};this._wDS._protected=true;this._wDAlert=function(k){alert(k)};if(b.location.href.indexOf("debug=alert")+1&&d.debugMode)d._wD=d._wDAlert;this._toggleDebug=function(){var k=r(d.debugID),j=r(d.debugID+"-toggle");if(!k)return false;if(d._debugOpen){j.innerHTML="+";k.style.display="none"}else{j.innerHTML="-";k.style.display="block"}d._debugOpen=!d._debugOpen};this._toggleDebug._protected=true;this._debug=function(){d._wDS("currentObj",1);for(var k=0,j=d.soundIDs.length;k<j;k++)d.sounds[d.soundIDs[k]]._debug()};
this._debugTS=function(k,j,w){if(typeof sm2Debugger!=="undefined")try{sm2Debugger.handleEvent(k,j,w)}catch(C){}};this._debugTS._protected=true;this._mergeObjects=function(k,j){var w={},C,B;for(C in k)if(k.hasOwnProperty(C))w[C]=k[C];k=typeof j==="undefined"?d.defaultOptions:j;for(B in k)if(k.hasOwnProperty(B)&&typeof w[B]==="undefined")w[B]=k[B];return w};this.go=this.createMovie=function(k){if(k)d.url=k;d._initMovie()};this._initMovie=function(){if(d.o)return false;d.o=d.getMovie(d.id);if(!d.o){if(d.oRemoved){if(d.isIE)d.oMC.innerHTML=
d.oRemovedHTML;else d.oMC.appendChild(d.oRemoved);d.oRemoved=null;d._didAppend=true}else d._createMovie(d.id,d.url);d.o=d.getMovie(d.id)}if(d.o){d._wD("soundManager._initMovie(): Got "+d.o.nodeName+" element ("+(d._didAppend?"created via JS":"static HTML")+")",1);d._wDS("waitEI")}typeof d.oninitmovie==="function"&&setTimeout(d.oninitmovie,1)};this.waitForExternalInterface=function(){if(d._waitingForEI)return false;d._waitingForEI=true;if(d._tryInitOnFocus&&!d._isFocused){d._wDS("waitFocus");return false}var k;
if(!d._didInit){k=d.getMoviePercent();d._wD(d._str("waitImpatient",k===100?" (SWF loaded)":k>0?" (SWF "+k+"% loaded)":""))}setTimeout(function(){k=d.getMoviePercent();if(!d._didInit){d._wD("soundManager: No Flash response within expected time.\nLikely causes: "+(k===0?"Loading "+d.movieURL+" may have failed (and/or Flash "+d.flashVersion+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(d.debugFlash?" "+d._str("checkSWF"):""),2);if(!d._overHTTP&&k){d._wDS("localFail",2);d.debugFlash||
d._wDS("tryDebug",2)}k===0&&d._wD(d._str("swf404",d.url));d._debugTS("flashtojs",false,": Timed out"+d._overHTTP?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!d._didInit&&d._okToDisable)if(k)d.flashLoadTimeout===0?d._wDS("waitForever"):d._failSafely(true);else if(d.useFlashBlock||d.flashLoadTimeout===0){d.useFlashBlock&&d.flashBlockHandler();d._wDS("waitForever")}else d._failSafely(true)},d.flashLoadTimeout)};this.getSWFCSS=function(){var k=[];d.debugMode&&k.push(d.swfCSS.sm2Debug);
d.debugFlash&&k.push(d.swfCSS.flashDebug);d.useHighPerformance&&k.push(d.swfCSS.highPerf);return k.join(" ")};this.flashBlockHandler=function(){var k=d.getMoviePercent();d._wD("soundManager.flashBlockHandler()");if(d.supported())d.oMC.className=d.getSWFCSS()+" "+d.swfCSS.swfDefault+(" "+d.swfCSS.swfUnblocked);else{d.oMC.className=d.getSWFCSS()+" "+d.swfCSS.swfDefault+" "+(!k?d.swfCSS.swfTimedout:d.swfCSS.swfError);k||d._wD("soundManager.flashBlockHandler(): "+d.strings.fbTimeout);d._processOnReady(true);
d.onerror instanceof Function&&d.onerror.apply(b);d.didFlashBlock=true}};this.getMoviePercent=function(){return d.o&&typeof d.o.PercentLoaded!=="undefined"?d.o.PercentLoaded():null};this.handleFocus=function(){if(d._isFocused||!d._tryInitOnFocus)return true;d._okToDisable=true;d._isFocused=true;d._wD("soundManager.handleFocus()");d._tryInitOnFocus&&b.removeEventListener("mousemove",d.handleFocus,false);d._waitingForEI=false;setTimeout(d.waitForExternalInterface,500);if(b.removeEventListener)b.removeEventListener("focus",
d.handleFocus,false);else b.detachEvent&&b.detachEvent("onfocus",d.handleFocus)};this.initComplete=function(k){if(d._didInit)return false;if(!(d.useFlashBlock&&d.flashLoadTimeout&&!d.getMoviePercent()))d._didInit=true;d._wD("-- SoundManager 2 "+(d._disabled?"failed to load":"loaded")+" ("+(d._disabled?"security/load error":"OK")+") --",1);if(d._disabled||k){if(d.useFlashBlock)d.oMC.className=d.getSWFCSS()+" "+(!d.getMoviePercent()?d.swfCSS.swfTimedout:d.swfCSS.swfError);d._processOnReady();d._debugTS("onload",
false);d.onerror instanceof Function&&d.onerror.apply(b);return false}else d._debugTS("onload",true);if(d.waitForWindowLoad&&!d._windowLoaded){d._wDS("waitOnload");if(b.addEventListener)b.addEventListener("load",d._initUserOnload,false);else b.attachEvent&&b.attachEvent("onload",d._initUserOnload);return false}else{d.waitForWindowLoad&&d._windowLoaded&&d._wDS("docLoaded");d._initUserOnload()}};this._addOnReady=function(k,j){d._onready.push({method:k,scope:j||null,fired:false})};this._processOnReady=
function(k){if(!d._didInit&&!k)return false;k={success:k?d.supported():!d._disabled};var j=[],w,C,B=!d.useFlashBlock||d.useFlashBlock&&!d.supported();w=0;for(C=d._onready.length;w<C;w++)d._onready[w].fired!==true&&j.push(d._onready[w]);if(j.length){d._wD("soundManager: Firing "+j.length+" onready() item"+(j.length>1?"s":""));w=0;for(C=j.length;w<C;w++){j[w].scope?j[w].method.apply(j[w].scope,[k]):j[w].method(k);if(!B)j[w].fired=true}}};this._initUserOnload=function(){b.setTimeout(function(){d.useFlashBlock&&
d.flashBlockHandler();d._processOnReady();d._wDS("onload",1);d.onload.apply(b);d._wDS("onloadOK",1)})};this.init=function(){d._wDS("init");d._initMovie();if(d._didInit){d._wDS("didInit");return false}if(b.removeEventListener)b.removeEventListener("load",d.beginDelayedInit,false);else b.detachEvent&&b.detachEvent("onload",d.beginDelayedInit);try{d._wDS("flashJS");d.o._externalInterfaceTest(false);d.allowPolling?d._setPolling(true,d.useFastPolling?true:false):d._wDS("noPolling",1);d.debugMode||d.o._disableDebug();
d.enabled=true;d._debugTS("jstoflash",true)}catch(k){d._wD("js/flash exception: "+k.toString());d._debugTS("jstoflash",false);d._failSafely(true);d.initComplete();return false}d.initComplete()};this.beginDelayedInit=function(){d._windowLoaded=true;setTimeout(d.waitForExternalInterface,500);setTimeout(d.beginInit,20)};this.beginInit=function(){if(d._initPending)return false;d.createMovie();d._initMovie();return d._initPending=true};this.domContentLoaded=function(){document.removeEventListener&&document.removeEventListener("DOMContentLoaded",
d.domContentLoaded,false);d.go()};this._externalInterfaceOK=function(k){if(d.swfLoaded)return false;var j=(new Date).getTime();d._wD("soundManager._externalInterfaceOK()"+(k?" (~"+(j-k)+" ms)":""));d._debugTS("swf",true);d._debugTS("flashtojs",true);d.swfLoaded=true;d._tryInitOnFocus=false;d.isIE?setTimeout(d.init,100):d.init()};this._setSandboxType=function(k){var j=d.sandbox;j.type=k;j.description=j.types[typeof j.types[k]!=="undefined"?k:"unknown"];d._wD("Flash security sandbox type: "+j.type);
if(j.type==="localWithFile"){j.noRemote=true;j.noLocal=false;d._wDS("secNote",2)}else if(j.type==="localWithNetwork"){j.noRemote=false;j.noLocal=true}else if(j.type==="localTrusted"){j.noRemote=false;j.noLocal=false}};this.reboot=function(){d._wD("soundManager.reboot()");d.soundIDs.length&&d._wD("Destroying "+d.soundIDs.length+" SMSound objects...");for(var k=d.soundIDs.length;k--;)d.sounds[d.soundIDs[k]].destruct();try{if(d.isIE)d.oRemovedHTML=d.o.innerHTML;d.oRemoved=d.o.parentNode.removeChild(d.o);
d._wD("Flash movie removed.")}catch(j){d._wDS("badRemove",2)}d.oRemovedHTML=null;d.oRemoved=null;d.enabled=false;d._didInit=false;f._waitingForEI=false;d._initPending=false;d._didAppend=false;d._appendSuccess=false;d._disabled=false;d.swfLoaded=false;d.soundIDs={};d.sounds=[];d.o=null;for(k=d._onready.length;k--;)d._onready[k].fired=false;d._wD("soundManager: Rebooting...");b.setTimeout(f.beginDelayedInit,20)};this.destruct=function(){d._wD("soundManager.destruct()");d.disable(true)};l=function(k){var j=
this;this.sID=k.id;this.url=k.url;this._iO=this.instanceOptions=this.options=d._mergeObjects(k);this.pan=this.options.pan;this.volume=this.options.volume;this._lastURL=null;this._debug=function(){if(d.debugMode){var w=null,C=[],B,F;for(w in j.options)if(j.options[w]!==null)if(j.options[w]instanceof Function){B=j.options[w].toString();B=B.replace(/\s\s+/g," ");F=B.indexOf("{");C[C.length]=" "+w+": {"+B.substr(F+1,Math.min(Math.max(B.indexOf("\n")-1,64),64)).replace(/\n/g,"")+"... }"}else C[C.length]=
" "+w+": "+j.options[w];d._wD("SMSound() merged options: {\n"+C.join(", \n")+"\n}")}};this._debug();this.id3={};this.resetProperties=function(){j.bytesLoaded=null;j.bytesTotal=null;j.position=null;j.duration=null;j.durationEstimate=null;j.loaded=false;j.playState=0;j.paused=false;j.readyState=0;j.muted=false;j.didBeforeFinish=false;j.didJustBeforeFinish=false;j.isBuffering=false;j.instanceOptions={};j.instanceCount=0;j.peakData={left:0,right:0};j.waveformData={left:[],right:[]};j.eqData=[];j.eqData.left=
[];j.eqData.right=[]};j.resetProperties();this.load=function(w){if(typeof w!=="undefined"){j._iO=d._mergeObjects(w);j.instanceOptions=j._iO}else{w=j.options;j._iO=w;j.instanceOptions=j._iO;if(j._lastURL&&j._lastURL!==j.url){d._wDS("manURL");j._iO.url=j.url;j.url=null}}if(typeof j._iO.url==="undefined")j._iO.url=j.url;d._wD("soundManager.load(): "+j._iO.url,1);if(j._iO.url===j.url&&j.readyState!==0&&j.readyState!==2){d._wDS("onURL",1);return false}j.url=j._iO.url;j._lastURL=j._iO.url;j.loaded=false;
j.readyState=1;j.playState=0;try{if(d.flashVersion===8)d.o._load(j.sID,j._iO.url,j._iO.stream,j._iO.autoPlay,j._iO.whileloading?1:0);else{d.o._load(j.sID,j._iO.url,j._iO.stream?true:false,j._iO.autoPlay?true:false);j._iO.isMovieStar&&j._iO.autoLoad&&!j._iO.autoPlay&&j.pause()}}catch(C){d._wDS("smError",2);d._debugTS("onload",false);d.onerror();d.disable()}};this.unload=function(){if(j.readyState!==0){d._wD('SMSound.unload(): "'+j.sID+'"');j.readyState!==2&&j.setPosition(0,true);d.o._unload(j.sID,
d.nullURL);j.resetProperties()}};this.destruct=function(){d._wD('SMSound.destruct(): "'+j.sID+'"');d.o._destroySound(j.sID);d.destroySound(j.sID,true)};this.start=this.play=function(w){w||(w={});j._iO=d._mergeObjects(w,j._iO);j._iO=d._mergeObjects(j._iO,j.options);j.instanceOptions=j._iO;if(j.playState===1)if(w=j._iO.multiShot)d._wD('SMSound.play(): "'+j.sID+'" already playing (multi-shot)',1);else{d._wD('SMSound.play(): "'+j.sID+'" already playing (one-shot)',1);return false}if(j.loaded)d._wD('SMSound.play(): "'+
j.sID+'"');else if(j.readyState===0){d._wD('SMSound.play(): Attempting to load "'+j.sID+'"',1);j._iO.autoPlay=true;j.load(j._iO)}else if(j.readyState===2){d._wD('SMSound.play(): Could not load "'+j.sID+'" - exiting',2);return false}else d._wD('SMSound.play(): "'+j.sID+'" is loading - attempting to play..',1);if(j.paused)j.resume();else{j.playState=1;if(!j.instanceCount||d.flashVersion>8)j.instanceCount++;j.position=typeof j._iO.position!=="undefined"&&!isNaN(j._iO.position)?j._iO.position:0;j._iO.onplay&&
j._iO.onplay.apply(j);j.setVolume(j._iO.volume,true);j.setPan(j._iO.pan,true);d.o._start(j.sID,j._iO.loop||1,d.flashVersion===9?j.position:j.position/1E3)}};this.stop=function(w){if(j.playState===1){j.playState=0;j.paused=false;j._iO.onstop&&j._iO.onstop.apply(j);d.o._stop(j.sID,w);j.instanceCount=0;j._iO={}}};this.setPosition=function(w){if(typeof w==="undefined")w=0;w=Math.min(j.duration,Math.max(w,0));j._iO.position=w;d.o._setPosition(j.sID,d.flashVersion===9?j._iO.position:j._iO.position/1E3,
j.paused||!j.playState)};this.pause=function(){if(j.paused||j.playState===0)return false;d._wD("SMSound.pause()");j.paused=true;d.o._pause(j.sID);j._iO.onpause&&j._iO.onpause.apply(j)};this.resume=function(){if(!j.paused||j.playState===0)return false;d._wD("SMSound.resume()");j.paused=false;d.o._pause(j.sID);j._iO.onresume&&j._iO.onresume.apply(j)};this.togglePause=function(){d._wD("SMSound.togglePause()");if(j.playState===0){j.play({position:d.flashVersion===9?j.position:j.position/1E3});return false}j.paused?
j.resume():j.pause()};this.setPan=function(w,C){if(typeof w==="undefined")w=0;if(typeof C==="undefined")C=false;d.o._setPan(j.sID,w);j._iO.pan=w;if(!C)j.pan=w};this.setVolume=function(w,C){if(typeof w==="undefined")w=100;if(typeof C==="undefined")C=false;d.o._setVolume(j.sID,d.muted&&!j.muted||j.muted?0:w);j._iO.volume=w;if(!C)j.volume=w};this.mute=function(){j.muted=true;d.o._setVolume(j.sID,0)};this.unmute=function(){j.muted=false;d.o._setVolume(j.sID,typeof j._iO.volume!=="undefined"?j._iO.volume:
j.options.volume)};this.toggleMute=function(){j.muted?j.unmute():j.mute()};this._whileloading=function(w,C,B){if(j._iO.isMovieStar){j.bytesLoaded=w;j.bytesTotal=C;j.duration=Math.floor(B);j.durationEstimate=j.duration}else{j.bytesLoaded=w;j.bytesTotal=C;j.duration=Math.floor(B);j.durationEstimate=parseInt(j.bytesTotal/j.bytesLoaded*j.duration,10);if(j.durationEstimate===undefined)j.durationEstimate=j.duration}j.readyState!==3&&j._iO.whileloading&&j._iO.whileloading.apply(j)};this._onid3=function(w,
C){d._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.');var B=[],F,G;F=0;for(G=w.length;F<G;F++)B[w[F]]=C[F];j.id3=d._mergeObjects(j.id3,B);j._iO.onid3&&j._iO.onid3.apply(j)};this._whileplaying=function(w,C,B,F,G){if(isNaN(w)||w===null)return false;if(j.playState===0&&w>0)w=0;j.position=w;if(d.flashVersion>8){if(j._iO.usePeakData&&typeof C!=="undefined"&&C)j.peakData={left:C.leftPeak,right:C.rightPeak};if(j._iO.useWaveformData&&typeof B!=="undefined"&&B)j.waveformData={left:B.split(","),right:F.split(",")};
if(j._iO.useEQData)if(typeof G!=="undefined"&&G.leftEQ){w=G.leftEQ.split(",");j.eqData=w;j.eqData.left=w;if(typeof G.rightEQ!=="undefined"&&G.rightEQ)j.eqData.right=G.rightEQ.split(",")}}if(j.playState===1){j.isBuffering&&j._onbufferchange(0);j._iO.whileplaying&&j._iO.whileplaying.apply(j);if(j.loaded&&j._iO.onbeforefinish&&j._iO.onbeforefinishtime&&!j.didBeforeFinish&&j.duration-j.position<=j._iO.onbeforefinishtime){d._wD("duration-position &lt;= onbeforefinishtime: "+j.duration+" - "+j.position+
" &lt= "+j._iO.onbeforefinishtime+" ("+(j.duration-j.position)+")");j._onbeforefinish()}}};this._onload=function(w){w=w===1?true:false;d._wD('SMSound._onload(): "'+j.sID+'"'+(w?" loaded.":" failed to load? - "+j.url),w?1:2);if(!w){d.sandbox.noRemote===true&&d._wD("SMSound._onload(): "+d._str("noNet"),1);d.sandbox.noLocal===true&&d._wD("SMSound._onload(): "+d._str("noLocal"),1)}j.loaded=w;j.readyState=w?3:2;j._iO.onload&&j._iO.onload.apply(j)};this._onbeforefinish=function(){if(!j.didBeforeFinish){j.didBeforeFinish=
true;if(j._iO.onbeforefinish){d._wD('SMSound._onbeforefinish(): "'+j.sID+'"');j._iO.onbeforefinish.apply(j)}}};this._onjustbeforefinish=function(){if(!j.didJustBeforeFinish){j.didJustBeforeFinish=true;if(j._iO.onjustbeforefinish){d._wD('SMSound._onjustbeforefinish(): "'+j.sID+'"');j._iO.onjustbeforefinish.apply(j)}}};this._onfinish=function(){j._iO.onbeforefinishcomplete&&j._iO.onbeforefinishcomplete.apply(j);j.didBeforeFinish=false;j.didJustBeforeFinish=false;if(j.instanceCount){j.instanceCount--;
if(!j.instanceCount){j.playState=0;j.paused=false;j.instanceCount=0;j.instanceOptions={}}if(!j.instanceCount||j._iO.multiShotEvents)if(j._iO.onfinish){d._wD('SMSound._onfinish(): "'+j.sID+'"');j._iO.onfinish.apply(j)}}};this._onmetadata=function(w){d._wD("SMSound.onmetadata()");if(!w.width&&!w.height){d._wDS("noWH");w.width=320;w.height=240}j.metadata=w;j.width=w.width;j.height=w.height;if(j._iO.onmetadata){d._wD('SMSound.onmetadata(): "'+j.sID+'"');j._iO.onmetadata.apply(j)}d._wD("SMSound.onmetadata() complete")};
this._onbufferchange=function(w){if(j.playState===0)return false;if(w===j.isBuffering){d._wD("SMSound._onbufferchange(): ignoring false default / loaded sound");return false}j.isBuffering=w===1?true:false;if(j._iO.onbufferchange){d._wD("SMSound._onbufferchange(): "+w);j._iO.onbufferchange.apply(j)}};this._ondataerror=function(w){if(j.playState>0){d._wD("SMSound._ondataerror(): "+w);j._iO.ondataerror&&j._iO.ondataerror.apply(j)}}};this._onfullscreenchange=function(k){d._wD("onfullscreenchange(): "+
k);d.isFullScreen=k===1?true:false;if(!d.isFullScreen)try{b.focus();d._wD("window.focus()")}catch(j){}};if(b.addEventListener){b.addEventListener("focus",d.handleFocus,false);b.addEventListener("load",d.beginDelayedInit,false);b.addEventListener("unload",d.destruct,false);d._tryInitOnFocus&&b.addEventListener("mousemove",d.handleFocus,false)}else if(b.attachEvent){b.attachEvent("onfocus",d.handleFocus);b.attachEvent("onload",d.beginDelayedInit);b.attachEvent("unload",d.destruct)}else{d._debugTS("onload",
false);f.onerror();f.disable()}document.addEventListener&&document.addEventListener("DOMContentLoaded",d.domContentLoaded,false)}var f=null;b.SoundManager=c;b.soundManager=f})(window);(function(b,c){function f(){if(!i.isReady){try{L.documentElement.doScroll("left")}catch(e){setTimeout(f,1);return}i.ready()}}function g(e,h){h.src?i.ajax({url:h.src,async:false,dataType:"script"}):i.globalEval(h.text||h.textContent||h.innerHTML||"");h.parentNode&&h.parentNode.removeChild(h)}function m(e,h,o,q,p,y){var z=e.length;if(typeof h==="object"){for(var K in h)m(e,K,h[K],q,p,o);return e}if(o!==c){q=!y&&q&&i.isFunction(o);for(K=0;K<z;K++)p(e[K],h,q?o.call(e[K],K,p(e[K],h)):o,y);return e}return z?
p(e[0],h):c}function l(){return(new Date).getTime()}function d(){return false}function r(){return true}function s(e,h,o){o[0].type=e;return i.event.handle.apply(h,o)}function k(e){var h,o=[],q=[],p=arguments,y,z,K,D,J,P;z=i.data(this,"events");if(!(e.liveFired===this||!z||!z.live||e.button&&e.type==="click")){e.liveFired=this;var V=z.live.slice(0);for(D=0;D<V.length;D++){z=V[D];z.origType.replace(O,"")===e.type?q.push(z.selector):V.splice(D--,1)}y=i(e.target).closest(q,e.currentTarget);J=0;for(P=
y.length;J<P;J++)for(D=0;D<V.length;D++){z=V[D];if(y[J].selector===z.selector){K=y[J].elem;q=null;if(z.preType==="mouseenter"||z.preType==="mouseleave")q=i(e.relatedTarget).closest(z.selector)[0];if(!q||q!==K)o.push({elem:K,handleObj:z})}}J=0;for(P=o.length;J<P;J++){y=o[J];e.currentTarget=y.elem;e.data=y.handleObj.data;e.handleObj=y.handleObj;if(y.handleObj.origHandler.apply(y.elem,p)===false){h=false;break}}return h}}function j(e,h){return"live."+(e&&e!=="*"?e+".":"")+h.replace(/\./g,"`").replace(/ /g,
"&")}function w(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function C(e,h){var o=0;h.each(function(){if(this.nodeName===(e[o]&&e[o].nodeName)){var q=i.data(e[o++]),p=i.data(this,q);if(q=q&&q.events){delete p.handle;p.events={};for(var y in q)for(var z in q[y])i.event.add(this,y,q[y][z],q[y][z].data)}}})}function B(e,h,o){var q,p,y;h=h&&h[0]?h[0].ownerDocument||h[0]:L;if(e.length===1&&typeof e[0]==="string"&&e[0].length<512&&h===L&&!ab.test(e[0])&&(i.support.checkClone||!bb.test(e[0]))){p=
true;if(y=i.fragments[e[0]])if(y!==1)q=y}if(!q){q=h.createDocumentFragment();i.clean(e,h,q,o)}if(p)i.fragments[e[0]]=y?q:1;return{fragment:q,cacheable:p}}function F(e,h){var o={};i.each(cb.concat.apply([],cb.slice(0,h)),function(){o[this]=e});return o}function G(e){return"scrollTo"in e&&e.document?e:e.nodeType===9?e.defaultView||e.parentWindow:false}var i=function(e,h){return new i.fn.init(e,h)},aa=b.jQuery,U=b.$,L=b.document,ga,xa=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,ea=/^.[^:#\[\.,]*$/,sa=/\S/,
Ha=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,Qa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ka=navigator.userAgent,ba=false,la=[],ya,za=Object.prototype.toString,qa=Object.prototype.hasOwnProperty,Aa=Array.prototype.push,ra=Array.prototype.slice,Ba=Array.prototype.indexOf;i.fn=i.prototype={init:function(e,h){var o,q;if(!e)return this;if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(e==="body"&&!h){this.context=L;this[0]=L.body;this.selector="body";this.length=1;return this}if(typeof e==="string")if((o=xa.exec(e))&&
(o[1]||!h))if(o[1]){q=h?h.ownerDocument||h:L;if(e=Qa.exec(e))if(i.isPlainObject(h)){e=[L.createElement(e[1])];i.fn.attr.call(e,h,true)}else e=[q.createElement(e[1])];else{e=B([o[1]],[q]);e=(e.cacheable?e.fragment.cloneNode(true):e.fragment).childNodes}return i.merge(this,e)}else{if(h=L.getElementById(o[2])){if(h.id!==o[2])return ga.find(e);this.length=1;this[0]=h}this.context=L;this.selector=e;return this}else if(!h&&/^\w+$/.test(e)){this.selector=e;this.context=L;e=L.getElementsByTagName(e);return i.merge(this,
e)}else return!h||h.jquery?(h||ga).find(e):i(h).find(e);else if(i.isFunction(e))return ga.ready(e);if(e.selector!==c){this.selector=e.selector;this.context=e.context}return i.makeArray(e,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return ra.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this.slice(e)[0]:this[e]},pushStack:function(e,h,o){var q=i();i.isArray(e)?Aa.apply(q,e):i.merge(q,e);q.prevObject=this;q.context=this.context;
if(h==="find")q.selector=this.selector+(this.selector?" ":"")+o;else if(h)q.selector=this.selector+"."+h+"("+o+")";return q},each:function(e,h){return i.each(this,e,h)},ready:function(e){i.bindReady();if(i.isReady)e.call(L,i);else la&&la.push(e);return this},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ra.apply(this,arguments),"slice",ra.call(arguments).join(","))},map:function(e){return this.pushStack(i.map(this,
function(h,o){return e.call(h,o,h)}))},end:function(){return this.prevObject||i(null)},push:Aa,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var e=arguments[0]||{},h=1,o=arguments.length,q=false,p,y,z,K;if(typeof e==="boolean"){q=e;e=arguments[1]||{};h=2}if(typeof e!=="object"&&!i.isFunction(e))e={};if(o===h){e=this;--h}for(;h<o;h++)if((p=arguments[h])!=null)for(y in p){z=e[y];K=p[y];if(e!==K)if(q&&K&&(i.isPlainObject(K)||i.isArray(K))){z=z&&(i.isPlainObject(z)||
i.isArray(z))?z:i.isArray(K)?[]:{};e[y]=i.extend(q,z,K)}else if(K!==c)e[y]=K}return e};i.extend({noConflict:function(e){b.$=U;if(e)b.jQuery=aa;return i},isReady:false,ready:function(){if(!i.isReady){if(!L.body)return setTimeout(i.ready,13);i.isReady=true;if(la){for(var e,h=0;e=la[h++];)e.call(L,i);la=null}i.fn.triggerHandler&&i(L).triggerHandler("ready")}},bindReady:function(){if(!ba){ba=true;if(L.readyState==="complete")return i.ready();if(L.addEventListener){L.addEventListener("DOMContentLoaded",
ya,false);b.addEventListener("load",i.ready,false)}else if(L.attachEvent){L.attachEvent("onreadystatechange",ya);b.attachEvent("onload",i.ready);var e=false;try{e=b.frameElement==null}catch(h){}L.documentElement.doScroll&&e&&f()}}},isFunction:function(e){return za.call(e)==="[object Function]"},isArray:function(e){return za.call(e)==="[object Array]"},isPlainObject:function(e){if(!e||za.call(e)!=="[object Object]"||e.nodeType||e.setInterval)return false;if(e.constructor&&!qa.call(e,"constructor")&&
!qa.call(e.constructor.prototype,"isPrototypeOf"))return false;var h;for(h in e);return h===c||qa.call(e,h)},isEmptyObject:function(e){for(var h in e)return false;return true},error:function(e){throw e;},parseJSON:function(e){if(typeof e!=="string"||!e)return null;e=i.trim(e);if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b.JSON&&b.JSON.parse?b.JSON.parse(e):
(new Function("return "+e))();else i.error("Invalid JSON: "+e)},noop:function(){},globalEval:function(e){if(e&&sa.test(e)){var h=L.getElementsByTagName("head")[0]||L.documentElement,o=L.createElement("script");o.type="text/javascript";if(i.support.scriptEval)o.appendChild(L.createTextNode(e));else o.text=e;h.insertBefore(o,h.firstChild);h.removeChild(o)}},nodeName:function(e,h){return e.nodeName&&e.nodeName.toUpperCase()===h.toUpperCase()},each:function(e,h,o){var q,p=0,y=e.length,z=y===c||i.isFunction(e);
if(o)if(z)for(q in e){if(h.apply(e[q],o)===false)break}else for(;p<y;){if(h.apply(e[p++],o)===false)break}else if(z)for(q in e){if(h.call(e[q],q,e[q])===false)break}else for(o=e[0];p<y&&h.call(o,p,o)!==false;o=e[++p]);return e},trim:function(e){return(e||"").replace(Ha,"")},makeArray:function(e,h){h=h||[];if(e!=null)e.length==null||typeof e==="string"||i.isFunction(e)||typeof e!=="function"&&e.setInterval?Aa.call(h,e):i.merge(h,e);return h},inArray:function(e,h){if(h.indexOf)return h.indexOf(e);for(var o=
0,q=h.length;o<q;o++)if(h[o]===e)return o;return-1},merge:function(e,h){var o=e.length,q=0;if(typeof h.length==="number")for(var p=h.length;q<p;q++)e[o++]=h[q];else for(;h[q]!==c;)e[o++]=h[q++];e.length=o;return e},grep:function(e,h,o){for(var q=[],p=0,y=e.length;p<y;p++)!o!==!h(e[p],p)&&q.push(e[p]);return q},map:function(e,h,o){for(var q=[],p,y=0,z=e.length;y<z;y++){p=h(e[y],y,o);if(p!=null)q[q.length]=p}return q.concat.apply([],q)},guid:1,proxy:function(e,h,o){if(arguments.length===2)if(typeof h===
"string"){o=e;e=o[h];h=c}else if(h&&!i.isFunction(h)){o=h;h=c}if(!h&&e)h=function(){return e.apply(o||this,arguments)};if(e)h.guid=e.guid=e.guid||h.guid||i.guid++;return h},uaMatch:function(e){e=e.toLowerCase();e=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||!/compatible/.test(e)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},browser:{}});ka=i.uaMatch(ka);if(ka.browser){i.browser[ka.browser]=true;
i.browser.version=ka.version}if(i.browser.webkit)i.browser.safari=true;if(Ba)i.inArray=function(e,h){return Ba.call(h,e)};ga=i(L);if(L.addEventListener)ya=function(){L.removeEventListener("DOMContentLoaded",ya,false);i.ready()};else if(L.attachEvent)ya=function(){if(L.readyState==="complete"){L.detachEvent("onreadystatechange",ya);i.ready()}};(function(){i.support={};var e=L.documentElement,h=L.createElement("script"),o=L.createElement("div"),q="script"+l();o.style.display="none";o.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
var p=o.getElementsByTagName("*"),y=o.getElementsByTagName("a")[0];if(!(!p||!p.length||!y)){i.support={leadingWhitespace:o.firstChild.nodeType===3,tbody:!o.getElementsByTagName("tbody").length,htmlSerialize:!!o.getElementsByTagName("link").length,style:/red/.test(y.getAttribute("style")),hrefNormalized:y.getAttribute("href")==="/a",opacity:/^0.55$/.test(y.style.opacity),cssFloat:!!y.style.cssFloat,checkOn:o.getElementsByTagName("input")[0].value==="on",optSelected:L.createElement("select").appendChild(L.createElement("option")).selected,
parentNode:o.removeChild(o.appendChild(L.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};h.type="text/javascript";try{h.appendChild(L.createTextNode("window."+q+"=1;"))}catch(z){}e.insertBefore(h,e.firstChild);if(b[q]){i.support.scriptEval=true;delete b[q]}try{delete h.test}catch(K){i.support.deleteExpando=false}e.removeChild(h);if(o.attachEvent&&o.fireEvent){o.attachEvent("onclick",function D(){i.support.noCloneEvent=
false;o.detachEvent("onclick",D)});o.cloneNode(true).fireEvent("onclick")}o=L.createElement("div");o.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";e=L.createDocumentFragment();e.appendChild(o.firstChild);i.support.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;i(function(){var D=L.createElement("div");D.style.width=D.style.paddingLeft="1px";L.body.appendChild(D);i.boxModel=i.support.boxModel=D.offsetWidth===2;L.body.removeChild(D).style.display="none"});e=function(D){var J=
L.createElement("div");D="on"+D;var P=D in J;if(!P){J.setAttribute(D,"return;");P=typeof J[D]==="function"}return P};i.support.submitBubbles=e("submit");i.support.changeBubbles=e("change");e=h=o=p=y=null}})();i.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var ma="jQuery"+l(),Ma=0,Na={};i.extend({cache:{},expando:ma,noData:{embed:true,
object:true,applet:true},data:function(e,h,o){if(!(e.nodeName&&i.noData[e.nodeName.toLowerCase()])){e=e==b?Na:e;var q=e[ma],p=i.cache;if(!q&&typeof h==="string"&&o===c)return null;q||(q=++Ma);if(typeof h==="object"){e[ma]=q;p[q]=i.extend(true,{},h)}else if(!p[q]){e[ma]=q;p[q]={}}e=p[q];if(o!==c)e[h]=o;return typeof h==="string"?e[h]:e}},removeData:function(e,h){if(!(e.nodeName&&i.noData[e.nodeName.toLowerCase()])){e=e==b?Na:e;var o=e[ma],q=i.cache,p=q[o];if(h){if(p){delete p[h];i.isEmptyObject(p)&&
i.removeData(e)}}else{if(i.support.deleteExpando)delete e[i.expando];else e.removeAttribute&&e.removeAttribute(i.expando);delete q[o]}}}});i.fn.extend({data:function(e,h){if(typeof e==="undefined"&&this.length)return i.data(this[0]);else if(typeof e==="object")return this.each(function(){i.data(this,e)});var o=e.split(".");o[1]=o[1]?"."+o[1]:"";if(h===c){var q=this.triggerHandler("getData"+o[1]+"!",[o[0]]);if(q===c&&this.length)q=i.data(this[0],e);return q===c&&o[1]?this.data(o[0]):q}else return this.trigger("setData"+
o[1]+"!",[o[0],h]).each(function(){i.data(this,e,h)})},removeData:function(e){return this.each(function(){i.removeData(this,e)})}});i.extend({queue:function(e,h,o){if(e){h=(h||"fx")+"queue";var q=i.data(e,h);if(!o)return q||[];if(!q||i.isArray(o))q=i.data(e,h,i.makeArray(o));else q.push(o);return q}},dequeue:function(e,h){h=h||"fx";var o=i.queue(e,h),q=o.shift();if(q==="inprogress")q=o.shift();if(q){h==="fx"&&o.unshift("inprogress");q.call(e,function(){i.dequeue(e,h)})}}});i.fn.extend({queue:function(e,
h){if(typeof e!=="string"){h=e;e="fx"}if(h===c)return i.queue(this[0],e);return this.each(function(){var o=i.queue(this,e,h);e==="fx"&&o[0]!=="inprogress"&&i.dequeue(this,e)})},dequeue:function(e){return this.each(function(){i.dequeue(this,e)})},delay:function(e,h){e=i.fx?i.fx.speeds[e]||e:e;h=h||"fx";return this.queue(h,function(){var o=this;setTimeout(function(){i.dequeue(o,h)},e)})},clearQueue:function(e){return this.queue(e||"fx",[])}});var wa=/[\n\t]/g,Ca=/\s+/,ta=/\r/g,Oa=/href|src|style/,Ra=
/(button|input)/i,S=/(button|input|object|select|textarea)/i,A=/^(a|area)$/i,H=/radio|checkbox/;i.fn.extend({attr:function(e,h){return m(this,e,h,true,i.attr)},removeAttr:function(e){return this.each(function(){i.attr(this,e,"");this.nodeType===1&&this.removeAttribute(e)})},addClass:function(e){if(i.isFunction(e))return this.each(function(J){var P=i(this);P.addClass(e.call(this,J,P.attr("class")))});if(e&&typeof e==="string")for(var h=(e||"").split(Ca),o=0,q=this.length;o<q;o++){var p=this[o];if(p.nodeType===
1)if(p.className){for(var y=" "+p.className+" ",z=p.className,K=0,D=h.length;K<D;K++)if(y.indexOf(" "+h[K]+" ")<0)z+=" "+h[K];p.className=i.trim(z)}else p.className=e}return this},removeClass:function(e){if(i.isFunction(e))return this.each(function(D){var J=i(this);J.removeClass(e.call(this,D,J.attr("class")))});if(e&&typeof e==="string"||e===c)for(var h=(e||"").split(Ca),o=0,q=this.length;o<q;o++){var p=this[o];if(p.nodeType===1&&p.className)if(e){for(var y=(" "+p.className+" ").replace(wa," "),
z=0,K=h.length;z<K;z++)y=y.replace(" "+h[z]+" "," ");p.className=i.trim(y)}else p.className=""}return this},toggleClass:function(e,h){var o=typeof e,q=typeof h==="boolean";if(i.isFunction(e))return this.each(function(p){var y=i(this);y.toggleClass(e.call(this,p,y.attr("class"),h),h)});return this.each(function(){if(o==="string")for(var p,y=0,z=i(this),K=h,D=e.split(Ca);p=D[y++];){K=q?K:!z.hasClass(p);z[K?"addClass":"removeClass"](p)}else if(o==="undefined"||o==="boolean"){this.className&&i.data(this,
"__className__",this.className);this.className=this.className||e===false?"":i.data(this,"__className__")||""}})},hasClass:function(e){e=" "+e+" ";for(var h=0,o=this.length;h<o;h++)if((" "+this[h].className+" ").replace(wa," ").indexOf(e)>-1)return true;return false},val:function(e){if(e===c){var h=this[0];if(h){if(i.nodeName(h,"option"))return(h.attributes.value||{}).specified?h.value:h.text;if(i.nodeName(h,"select")){var o=h.selectedIndex,q=[],p=h.options;h=h.type==="select-one";if(o<0)return null;
var y=h?o:0;for(o=h?o+1:p.length;y<o;y++){var z=p[y];if(z.selected){e=i(z).val();if(h)return e;q.push(e)}}return q}if(H.test(h.type)&&!i.support.checkOn)return h.getAttribute("value")===null?"on":h.value;return(h.value||"").replace(ta,"")}return c}var K=i.isFunction(e);return this.each(function(D){var J=i(this),P=e;if(this.nodeType===1){if(K)P=e.call(this,D,J.val());if(typeof P==="number")P+="";if(i.isArray(P)&&H.test(this.type))this.checked=i.inArray(J.val(),P)>=0;else if(i.nodeName(this,"select")){var V=
i.makeArray(P);i("option",this).each(function(){this.selected=i.inArray(i(this).val(),V)>=0});if(!V.length)this.selectedIndex=-1}else this.value=P}})}});i.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(e,h,o,q){if(!e||e.nodeType===3||e.nodeType===8)return c;if(q&&h in i.attrFn)return i(e)[h](o);q=e.nodeType!==1||!i.isXMLDoc(e);var p=o!==c;h=q&&i.props[h]||h;if(e.nodeType===1){var y=Oa.test(h);if(h in e&&q&&!y){if(p){h==="type"&&Ra.test(e.nodeName)&&
e.parentNode&&i.error("type property can't be changed");e[h]=o}if(i.nodeName(e,"form")&&e.getAttributeNode(h))return e.getAttributeNode(h).nodeValue;if(h==="tabIndex")return(h=e.getAttributeNode("tabIndex"))&&h.specified?h.value:S.test(e.nodeName)||A.test(e.nodeName)&&e.href?0:c;return e[h]}if(!i.support.style&&q&&h==="style"){if(p)e.style.cssText=""+o;return e.style.cssText}p&&e.setAttribute(h,""+o);e=!i.support.hrefNormalized&&q&&y?e.getAttribute(h,2):e.getAttribute(h);return e===null?c:e}return i.style(e,
h,o)}});var O=/\.(.*)$/,Q=function(e){return e.replace(/[^\w\s\.\|`]/g,function(h){return"\\"+h})};i.event={add:function(e,h,o,q){if(!(e.nodeType===3||e.nodeType===8)){if(e.setInterval&&e!==b&&!e.frameElement)e=b;var p,y;if(o.handler){p=o;o=p.handler}if(!o.guid)o.guid=i.guid++;if(y=i.data(e)){var z=y.events=y.events||{},K=y.handle;if(!K)y.handle=K=function(){return typeof i!=="undefined"&&!i.event.triggered?i.event.handle.apply(K.elem,arguments):c};K.elem=e;h=h.split(" ");for(var D,J=0,P;D=h[J++];){y=
p?i.extend({},p):{handler:o,data:q};if(D.indexOf(".")>-1){P=D.split(".");D=P.shift();y.namespace=P.slice(0).sort().join(".")}else{P=[];y.namespace=""}y.type=D;y.guid=o.guid;var V=z[D],da=i.event.special[D]||{};if(!V){V=z[D]=[];if(!da.setup||da.setup.call(e,q,P,K)===false)if(e.addEventListener)e.addEventListener(D,K,false);else e.attachEvent&&e.attachEvent("on"+D,K)}if(da.add){da.add.call(e,y);if(!y.handler.guid)y.handler.guid=o.guid}V.push(y);i.event.global[D]=true}e=null}}},global:{},remove:function(e,
h,o,q){if(!(e.nodeType===3||e.nodeType===8)){var p,y=0,z,K,D,J,P,V,da=i.data(e),ia=da&&da.events;if(da&&ia){if(h&&h.type){o=h.handler;h=h.type}if(!h||typeof h==="string"&&h.charAt(0)==="."){h=h||"";for(p in ia)i.event.remove(e,p+h)}else{for(h=h.split(" ");p=h[y++];){J=p;z=p.indexOf(".")<0;K=[];if(!z){K=p.split(".");p=K.shift();D=new RegExp("(^|\\.)"+i.map(K.slice(0).sort(),Q).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(P=ia[p])if(o){J=i.event.special[p]||{};for(fa=q||0;fa<P.length;fa++){V=P[fa];if(o.guid===
V.guid){if(z||D.test(V.namespace)){q==null&&P.splice(fa--,1);J.remove&&J.remove.call(e,V)}if(q!=null)break}}if(P.length===0||q!=null&&P.length===1){if(!J.teardown||J.teardown.call(e,K)===false)R(e,p,da.handle);delete ia[p]}}else for(var fa=0;fa<P.length;fa++){V=P[fa];if(z||D.test(V.namespace)){i.event.remove(e,J,V.handler,fa);P.splice(fa--,1)}}}if(i.isEmptyObject(ia)){if(h=da.handle)h.elem=null;delete da.events;delete da.handle;i.isEmptyObject(da)&&i.removeData(e)}}}}},trigger:function(e,h,o,q){var p=
e.type||e;if(!q){e=typeof e==="object"?e[ma]?e:i.extend(i.Event(p),e):i.Event(p);if(p.indexOf("!")>=0){e.type=p=p.slice(0,-1);e.exclusive=true}if(!o){e.stopPropagation();i.event.global[p]&&i.each(i.cache,function(){this.events&&this.events[p]&&i.event.trigger(e,h,this.handle.elem)})}if(!o||o.nodeType===3||o.nodeType===8)return c;e.result=c;e.target=o;h=i.makeArray(h);h.unshift(e)}e.currentTarget=o;(q=i.data(o,"handle"))&&q.apply(o,h);q=o.parentNode||o.ownerDocument;try{if(!(o&&o.nodeName&&i.noData[o.nodeName.toLowerCase()]))if(o["on"+
p]&&o["on"+p].apply(o,h)===false)e.result=false}catch(y){}if(!e.isPropagationStopped()&&q)i.event.trigger(e,h,q,true);else if(!e.isDefaultPrevented()){q=e.target;var z,K=i.nodeName(q,"a")&&p==="click",D=i.event.special[p]||{};if((!D._default||D._default.call(o,e)===false)&&!K&&!(q&&q.nodeName&&i.noData[q.nodeName.toLowerCase()])){try{if(q[p]){if(z=q["on"+p])q["on"+p]=null;i.event.triggered=true;q[p]()}}catch(J){}if(z)q["on"+p]=z;i.event.triggered=false}}},handle:function(e){var h,o,q,p;e=arguments[0]=
i.event.fix(e||b.event);e.currentTarget=this;h=e.type.indexOf(".")<0&&!e.exclusive;if(!h){o=e.type.split(".");e.type=o.shift();q=new RegExp("(^|\\.)"+o.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}p=i.data(this,"events");o=p[e.type];if(p&&o){o=o.slice(0);p=0;for(var y=o.length;p<y;p++){var z=o[p];if(h||q.test(z.namespace)){e.handler=z.handler;e.data=z.data;e.handleObj=z;z=z.handler.apply(this,arguments);if(z!==c){e.result=z;if(z===false){e.preventDefault();e.stopPropagation()}}if(e.isImmediatePropagationStopped())break}}}return e.result},
props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[ma])return e;var h=e;e=i.Event(h);for(var o=this.props.length,q;o;){q=this.props[--o];e[q]=h[q]}if(!e.target)e.target=e.srcElement||
L;if(e.target.nodeType===3)e.target=e.target.parentNode;if(!e.relatedTarget&&e.fromElement)e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement;if(e.pageX==null&&e.clientX!=null){h=L.documentElement;o=L.body;e.pageX=e.clientX+(h&&h.scrollLeft||o&&o.scrollLeft||0)-(h&&h.clientLeft||o&&o.clientLeft||0);e.pageY=e.clientY+(h&&h.scrollTop||o&&o.scrollTop||0)-(h&&h.clientTop||o&&o.clientTop||0)}if(!e.which&&(e.charCode||e.charCode===0?e.charCode:e.keyCode))e.which=e.charCode||e.keyCode;if(!e.metaKey&&
e.ctrlKey)e.metaKey=e.ctrlKey;if(!e.which&&e.button!==c)e.which=e.button&1?1:e.button&2?3:e.button&4?2:0;return e},guid:1E8,proxy:i.proxy,special:{ready:{setup:i.bindReady,teardown:i.noop},live:{add:function(e){i.event.add(this,e.origType,i.extend({},e,{handler:k}))},remove:function(e){var h=true,o=e.origType.replace(O,"");i.each(i.data(this,"events").live||[],function(){if(o===this.origType.replace(O,""))return h=false});h&&i.event.remove(this,e.origType,k)}},beforeunload:{setup:function(e,h,o){if(this.setInterval)this.onbeforeunload=
o;return false},teardown:function(e,h){if(this.onbeforeunload===h)this.onbeforeunload=null}}}};var R=L.removeEventListener?function(e,h,o){e.removeEventListener(h,o,false)}:function(e,h,o){e.detachEvent("on"+h,o)};i.Event=function(e){if(!this.preventDefault)return new i.Event(e);if(e&&e.type){this.originalEvent=e;this.type=e.type}else this.type=e;this.timeStamp=l();this[ma]=true};i.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;if(e){e.preventDefault&&
e.preventDefault();e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;if(e){e.stopPropagation&&e.stopPropagation();e.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r;this.stopPropagation()},isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d};var Y=function(e){var h=e.relatedTarget;try{for(;h&&h!==this;)h=h.parentNode;if(h!==this){e.type=e.data;i.event.handle.apply(this,arguments)}}catch(o){}},
Z=function(e){e.type=e.data;i.event.handle.apply(this,arguments)};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,h){i.event.special[e]={setup:function(o){i.event.add(this,h,o&&o.selector?Z:Y,e)},teardown:function(o){i.event.remove(this,h,o&&o.selector?Z:Y)}}});if(!i.support.submitBubbles)i.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!=="form"){i.event.add(this,"click.specialSubmit",function(e){var h=e.target,o=h.type;if((o==="submit"||o==="image")&&i(h).closest("form").length)return s("submit",
this,arguments)});i.event.add(this,"keypress.specialSubmit",function(e){var h=e.target,o=h.type;if((o==="text"||o==="password")&&i(h).closest("form").length&&e.keyCode===13)return s("submit",this,arguments)})}else return false},teardown:function(){i.event.remove(this,".specialSubmit")}};if(!i.support.changeBubbles){var ha=/textarea|input|select/i,ja,Da=function(e){var h=e.type,o=e.value;if(h==="radio"||h==="checkbox")o=e.checked;else if(h==="select-multiple")o=e.selectedIndex>-1?i.map(e.options,function(q){return q.selected}).join("-"):
"";else if(e.nodeName.toLowerCase()==="select")o=e.selectedIndex;return o},Ea=function(e,h){var o=e.target,q,p;if(!(!ha.test(o.nodeName)||o.readOnly)){q=i.data(o,"_change_data");p=Da(o);if(e.type!=="focusout"||o.type!=="radio")i.data(o,"_change_data",p);if(!(q===c||p===q))if(q!=null||p){e.type="change";return i.event.trigger(e,h,o)}}};i.event.special.change={filters:{focusout:Ea,click:function(e){var h=e.target,o=h.type;if(o==="radio"||o==="checkbox"||h.nodeName.toLowerCase()==="select")return Ea.call(this,
e)},keydown:function(e){var h=e.target,o=h.type;if(e.keyCode===13&&h.nodeName.toLowerCase()!=="textarea"||e.keyCode===32&&(o==="checkbox"||o==="radio")||o==="select-multiple")return Ea.call(this,e)},beforeactivate:function(e){e=e.target;i.data(e,"_change_data",Da(e))}},setup:function(){if(this.type==="file")return false;for(var e in ja)i.event.add(this,e+".specialChange",ja[e]);return ha.test(this.nodeName)},teardown:function(){i.event.remove(this,".specialChange");return ha.test(this.nodeName)}};
ja=i.event.special.change.filters}L.addEventListener&&i.each({focus:"focusin",blur:"focusout"},function(e,h){function o(q){q=i.event.fix(q);q.type=h;return i.event.handle.call(this,q)}i.event.special[h]={setup:function(){this.addEventListener(e,o,true)},teardown:function(){this.removeEventListener(e,o,true)}}});i.each(["bind","one"],function(e,h){i.fn[h]=function(o,q,p){if(typeof o==="object"){for(var y in o)this[h](y,q,o[y],p);return this}if(i.isFunction(q)){p=q;q=c}var z=h==="one"?i.proxy(p,function(D){i(this).unbind(D,
z);return p.apply(this,arguments)}):p;if(o==="unload"&&h!=="one")this.one(o,q,p);else{y=0;for(var K=this.length;y<K;y++)i.event.add(this[y],o,z,q)}return this}});i.fn.extend({unbind:function(e,h){if(typeof e==="object"&&!e.preventDefault)for(var o in e)this.unbind(o,e[o]);else{o=0;for(var q=this.length;o<q;o++)i.event.remove(this[o],e,h)}return this},delegate:function(e,h,o,q){return this.live(h,o,q,e)},undelegate:function(e,h,o){return arguments.length===0?this.unbind("live"):this.die(h,null,o,e)},
trigger:function(e,h){return this.each(function(){i.event.trigger(e,h,this)})},triggerHandler:function(e,h){if(this[0]){e=i.Event(e);e.preventDefault();e.stopPropagation();i.event.trigger(e,h,this[0]);return e.result}},toggle:function(e){for(var h=arguments,o=1;o<h.length;)i.proxy(e,h[o++]);return this.click(i.proxy(e,function(q){var p=(i.data(this,"lastToggle"+e.guid)||0)%o;i.data(this,"lastToggle"+e.guid,p+1);q.preventDefault();return h[p].apply(this,arguments)||false}))},hover:function(e,h){return this.mouseenter(e).mouseleave(h||
e)}});var ua={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};i.each(["live","die"],function(e,h){i.fn[h]=function(o,q,p,y){var z,K=0,D,J,P=y||this.selector,V=y?this:i(this.context);if(i.isFunction(q)){p=q;q=c}for(o=(o||"").split(" ");(z=o[K++])!=null;){y=O.exec(z);D="";if(y){D=y[0];z=z.replace(O,"")}if(z==="hover")o.push("mouseenter"+D,"mouseleave"+D);else{J=z;if(z==="focus"||z==="blur"){o.push(ua[z]+D);z+=D}else z=(ua[z]||z)+D;h==="live"?V.each(function(){i.event.add(this,
j(z,P),{data:q,selector:P,handler:p,origType:z,origHandler:p,preType:J})}):V.unbind(j(z,P),p)}}return this}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(e,h){i.fn[h]=function(o){return o?this.bind(h,o):this.trigger(h)};if(i.attrFn)i.attrFn[h]=true});b.attachEvent&&!b.addEventListener&&b.attachEvent("onunload",function(){for(var e in i.cache)if(i.cache[e].handle)try{i.event.remove(i.cache[e].handle.elem)}catch(h){}});
(function(){function e(u){for(var x="",E,I=0;u[I];I++){E=u[I];if(E.nodeType===3||E.nodeType===4)x+=E.nodeValue;else if(E.nodeType!==8)x+=e(E.childNodes)}return x}function h(u,x,E,I,N,M){N=0;for(var W=I.length;N<W;N++){var T=I[N];if(T){T=T[u];for(var ca=false;T;){if(T.sizcache===E){ca=I[T.sizset];break}if(T.nodeType===1&&!M){T.sizcache=E;T.sizset=N}if(T.nodeName.toLowerCase()===x){ca=T;break}T=T[u]}I[N]=ca}}}function o(u,x,E,I,N,M){N=0;for(var W=I.length;N<W;N++){var T=I[N];if(T){T=T[u];for(var ca=
false;T;){if(T.sizcache===E){ca=I[T.sizset];break}if(T.nodeType===1){if(!M){T.sizcache=E;T.sizset=N}if(typeof x!=="string"){if(T===x){ca=true;break}}else if(D.filter(x,[T]).length>0){ca=T;break}}T=T[u]}I[N]=ca}}}var q=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,p=0,y=Object.prototype.toString,z=false,K=true;[0,0].sort(function(){K=false;return 0});var D=function(u,x,E,I){E=E||[];var N=x=x||L;if(x.nodeType!==1&&
x.nodeType!==9)return[];if(!u||typeof u!=="string")return E;for(var M=[],W,T,ca,Pa,Fa=true,Ia=X(x),Ga=u;(q.exec(""),W=q.exec(Ga))!==null;){Ga=W[3];M.push(W[1]);if(W[2]){Pa=W[3];break}}if(M.length>1&&P.exec(u))if(M.length===2&&J.relative[M[0]])T=Va(M[0]+M[1],x);else for(T=J.relative[M[0]]?[x]:D(M.shift(),x);M.length;){u=M.shift();if(J.relative[u])u+=M.shift();T=Va(u,T)}else{if(!I&&M.length>1&&x.nodeType===9&&!Ia&&J.match.ID.test(M[0])&&!J.match.ID.test(M[M.length-1])){W=D.find(M.shift(),x,Ia);x=W.expr?
D.filter(W.expr,W.set)[0]:W.set[0]}if(x){W=I?{expr:M.pop(),set:da(I)}:D.find(M.pop(),M.length===1&&(M[0]==="~"||M[0]==="+")&&x.parentNode?x.parentNode:x,Ia);T=W.expr?D.filter(W.expr,W.set):W.set;if(M.length>0)ca=da(T);else Fa=false;for(;M.length;){var na=M.pop();W=na;if(J.relative[na])W=M.pop();else na="";if(W==null)W=x;J.relative[na](ca,W,Ia)}}else ca=[]}ca||(ca=T);ca||D.error(na||u);if(y.call(ca)==="[object Array]")if(Fa)if(x&&x.nodeType===1)for(u=0;ca[u]!=null;u++){if(ca[u]&&(ca[u]===true||ca[u].nodeType===
1&&oa(x,ca[u])))E.push(T[u])}else for(u=0;ca[u]!=null;u++)ca[u]&&ca[u].nodeType===1&&E.push(T[u]);else E.push.apply(E,ca);else da(ca,E);if(Pa){D(Pa,N,E,I);D.uniqueSort(E)}return E};D.uniqueSort=function(u){if(fa){z=K;u.sort(fa);if(z)for(var x=1;x<u.length;x++)u[x]===u[x-1]&&u.splice(x--,1)}return u};D.matches=function(u,x){return D(u,null,null,x)};D.find=function(u,x,E){var I,N;if(!u)return[];for(var M=0,W=J.order.length;M<W;M++){var T=J.order[M];if(N=J.leftMatch[T].exec(u)){var ca=N[1];N.splice(1,
1);if(ca.substr(ca.length-1)!=="\\"){N[1]=(N[1]||"").replace(/\\/g,"");I=J.find[T](N,x,E);if(I!=null){u=u.replace(J.match[T],"");break}}}}I||(I=x.getElementsByTagName("*"));return{set:I,expr:u}};D.filter=function(u,x,E,I){for(var N=u,M=[],W=x,T,ca,Pa=x&&x[0]&&X(x[0]);u&&x.length;){for(var Fa in J.filter)if((T=J.leftMatch[Fa].exec(u))!=null&&T[2]){var Ia=J.filter[Fa],Ga,na;na=T[1];ca=false;T.splice(1,1);if(na.substr(na.length-1)!=="\\"){if(W===M)M=[];if(J.preFilter[Fa])if(T=J.preFilter[Fa](T,W,E,M,
I,Pa)){if(T===true)continue}else ca=Ga=true;if(T)for(var Sa=0;(na=W[Sa])!=null;Sa++)if(na){Ga=Ia(na,T,Sa,W);var db=I^!!Ga;if(E&&Ga!=null)if(db)ca=true;else W[Sa]=false;else if(db){M.push(na);ca=true}}if(Ga!==c){E||(W=M);u=u.replace(J.match[Fa],"");if(!ca)return[];break}}}if(u===N)if(ca==null)D.error(u);else break;N=u}return W};D.error=function(u){throw"Syntax error, unrecognized expression: "+u;};var J=D.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(u){return u.getAttribute("href")}},
relative:{"+":function(u,x){var E=typeof x==="string",I=E&&!/\W/.test(x);E=E&&!I;if(I)x=x.toLowerCase();I=0;for(var N=u.length,M;I<N;I++)if(M=u[I]){for(;(M=M.previousSibling)&&M.nodeType!==1;);u[I]=E||M&&M.nodeName.toLowerCase()===x?M||false:M===x}E&&D.filter(x,u,true)},">":function(u,x){var E=typeof x==="string";if(E&&!/\W/.test(x)){x=x.toLowerCase();for(var I=0,N=u.length;I<N;I++){var M=u[I];if(M){E=M.parentNode;u[I]=E.nodeName.toLowerCase()===x?E:false}}}else{I=0;for(N=u.length;I<N;I++)if(M=u[I])u[I]=
E?M.parentNode:M.parentNode===x;E&&D.filter(x,u,true)}},"":function(u,x,E){var I=p++,N=o;if(typeof x==="string"&&!/\W/.test(x)){var M=x=x.toLowerCase();N=h}N("parentNode",x,I,u,M,E)},"~":function(u,x,E){var I=p++,N=o;if(typeof x==="string"&&!/\W/.test(x)){var M=x=x.toLowerCase();N=h}N("previousSibling",x,I,u,M,E)}},find:{ID:function(u,x,E){if(typeof x.getElementById!=="undefined"&&!E)return(u=x.getElementById(u[1]))?[u]:[]},NAME:function(u,x){if(typeof x.getElementsByName!=="undefined"){var E=[];
x=x.getElementsByName(u[1]);for(var I=0,N=x.length;I<N;I++)x[I].getAttribute("name")===u[1]&&E.push(x[I]);return E.length===0?null:E}},TAG:function(u,x){return x.getElementsByTagName(u[1])}},preFilter:{CLASS:function(u,x,E,I,N,M){u=" "+u[1].replace(/\\/g,"")+" ";if(M)return u;M=0;for(var W;(W=x[M])!=null;M++)if(W)if(N^(W.className&&(" "+W.className+" ").replace(/[\t\n]/g," ").indexOf(u)>=0))E||I.push(W);else if(E)x[M]=false;return false},ID:function(u){return u[1].replace(/\\/g,"")},TAG:function(u){return u[1].toLowerCase()},
CHILD:function(u){if(u[1]==="nth"){var x=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(u[2]==="even"&&"2n"||u[2]==="odd"&&"2n+1"||!/\D/.test(u[2])&&"0n+"+u[2]||u[2]);u[2]=x[1]+(x[2]||1)-0;u[3]=x[3]-0}u[0]=p++;return u},ATTR:function(u,x,E,I,N,M){x=u[1].replace(/\\/g,"");if(!M&&J.attrMap[x])u[1]=J.attrMap[x];if(u[2]==="~=")u[4]=" "+u[4]+" ";return u},PSEUDO:function(u,x,E,I,N){if(u[1]==="not")if((q.exec(u[3])||"").length>1||/^\w/.test(u[3]))u[3]=D(u[3],null,null,x);else{u=D.filter(u[3],x,E,true^N);E||I.push.apply(I,
u);return false}else if(J.match.POS.test(u[0])||J.match.CHILD.test(u[0]))return true;return u},POS:function(u){u.unshift(true);return u}},filters:{enabled:function(u){return u.disabled===false&&u.type!=="hidden"},disabled:function(u){return u.disabled===true},checked:function(u){return u.checked===true},selected:function(u){return u.selected===true},parent:function(u){return!!u.firstChild},empty:function(u){return!u.firstChild},has:function(u,x,E){return!!D(E[3],u).length},header:function(u){return/h\d/i.test(u.nodeName)},
text:function(u){return"text"===u.type},radio:function(u){return"radio"===u.type},checkbox:function(u){return"checkbox"===u.type},file:function(u){return"file"===u.type},password:function(u){return"password"===u.type},submit:function(u){return"submit"===u.type},image:function(u){return"image"===u.type},reset:function(u){return"reset"===u.type},button:function(u){return"button"===u.type||u.nodeName.toLowerCase()==="button"},input:function(u){return/input|select|textarea|button/i.test(u.nodeName)}},
setFilters:{first:function(u,x){return x===0},last:function(u,x,E,I){return x===I.length-1},even:function(u,x){return x%2===0},odd:function(u,x){return x%2===1},lt:function(u,x,E){return x<E[3]-0},gt:function(u,x,E){return x>E[3]-0},nth:function(u,x,E){return E[3]-0===x},eq:function(u,x,E){return E[3]-0===x}},filter:{PSEUDO:function(u,x,E,I){var N=x[1],M=J.filters[N];if(M)return M(u,E,x,I);else if(N==="contains")return(u.textContent||u.innerText||e([u])||"").indexOf(x[3])>=0;else if(N==="not"){x=
x[3];E=0;for(I=x.length;E<I;E++)if(x[E]===u)return false;return true}else D.error("Syntax error, unrecognized expression: "+N)},CHILD:function(u,x){var E=x[1],I=u;switch(E){case "only":case "first":for(;I=I.previousSibling;)if(I.nodeType===1)return false;if(E==="first")return true;I=u;case "last":for(;I=I.nextSibling;)if(I.nodeType===1)return false;return true;case "nth":E=x[2];var N=x[3];if(E===1&&N===0)return true;x=x[0];var M=u.parentNode;if(M&&(M.sizcache!==x||!u.nodeIndex)){var W=0;for(I=M.firstChild;I;I=
I.nextSibling)if(I.nodeType===1)I.nodeIndex=++W;M.sizcache=x}u=u.nodeIndex-N;return E===0?u===0:u%E===0&&u/E>=0}},ID:function(u,x){return u.nodeType===1&&u.getAttribute("id")===x},TAG:function(u,x){return x==="*"&&u.nodeType===1||u.nodeName.toLowerCase()===x},CLASS:function(u,x){return(" "+(u.className||u.getAttribute("class"))+" ").indexOf(x)>-1},ATTR:function(u,x){var E=x[1];u=J.attrHandle[E]?J.attrHandle[E](u):u[E]!=null?u[E]:u.getAttribute(E);E=u+"";var I=x[2];x=x[4];return u==null?I==="!=":I===
"="?E===x:I==="*="?E.indexOf(x)>=0:I==="~="?(" "+E+" ").indexOf(x)>=0:!x?E&&u!==false:I==="!="?E!==x:I==="^="?E.indexOf(x)===0:I==="$="?E.substr(E.length-x.length)===x:I==="|="?E===x||E.substr(0,x.length+1)===x+"-":false},POS:function(u,x,E,I){var N=J.setFilters[x[2]];if(N)return N(u,E,x,I)}}},P=J.match.POS;for(var V in J.match){J.match[V]=new RegExp(J.match[V].source+/(?![^\[]*\])(?![^\(]*\))/.source);J.leftMatch[V]=new RegExp(/(^(?:.|\r|\n)*?)/.source+J.match[V].source.replace(/\\(\d+)/g,function(u,
x){return"\\"+(x-0+1)}))}var da=function(u,x){u=Array.prototype.slice.call(u,0);if(x){x.push.apply(x,u);return x}return u};try{Array.prototype.slice.call(L.documentElement.childNodes,0)}catch(ia){da=function(u,x){x=x||[];if(y.call(u)==="[object Array]")Array.prototype.push.apply(x,u);else if(typeof u.length==="number")for(var E=0,I=u.length;E<I;E++)x.push(u[E]);else for(E=0;u[E];E++)x.push(u[E]);return x}}var fa;if(L.documentElement.compareDocumentPosition)fa=function(u,x){if(!u.compareDocumentPosition||
!x.compareDocumentPosition){if(u==x)z=true;return u.compareDocumentPosition?-1:1}u=u.compareDocumentPosition(x)&4?-1:u===x?0:1;if(u===0)z=true;return u};else if("sourceIndex"in L.documentElement)fa=function(u,x){if(!u.sourceIndex||!x.sourceIndex){if(u==x)z=true;return u.sourceIndex?-1:1}u=u.sourceIndex-x.sourceIndex;if(u===0)z=true;return u};else if(L.createRange)fa=function(u,x){if(!u.ownerDocument||!x.ownerDocument){if(u==x)z=true;return u.ownerDocument?-1:1}var E=u.ownerDocument.createRange(),
I=x.ownerDocument.createRange();E.setStart(u,0);E.setEnd(u,0);I.setStart(x,0);I.setEnd(x,0);u=E.compareBoundaryPoints(Range.START_TO_END,I);if(u===0)z=true;return u};(function(){var u=L.createElement("div"),x="script"+(new Date).getTime();u.innerHTML="<a name='"+x+"'/>";var E=L.documentElement;E.insertBefore(u,E.firstChild);if(L.getElementById(x)){J.find.ID=function(I,N,M){if(typeof N.getElementById!=="undefined"&&!M)return(N=N.getElementById(I[1]))?N.id===I[1]||typeof N.getAttributeNode!=="undefined"&&
N.getAttributeNode("id").nodeValue===I[1]?[N]:c:[]};J.filter.ID=function(I,N){var M=typeof I.getAttributeNode!=="undefined"&&I.getAttributeNode("id");return I.nodeType===1&&M&&M.nodeValue===N}}E.removeChild(u);E=u=null})();(function(){var u=L.createElement("div");u.appendChild(L.createComment(""));if(u.getElementsByTagName("*").length>0)J.find.TAG=function(x,E){E=E.getElementsByTagName(x[1]);if(x[1]==="*"){x=[];for(var I=0;E[I];I++)E[I].nodeType===1&&x.push(E[I]);E=x}return E};u.innerHTML="<a href='#'></a>";
if(u.firstChild&&typeof u.firstChild.getAttribute!=="undefined"&&u.firstChild.getAttribute("href")!=="#")J.attrHandle.href=function(x){return x.getAttribute("href",2)};u=null})();L.querySelectorAll&&function(){var u=D,x=L.createElement("div");x.innerHTML="<p class='TEST'></p>";if(!(x.querySelectorAll&&x.querySelectorAll(".TEST").length===0)){D=function(I,N,M,W){N=N||L;if(!W&&N.nodeType===9&&!X(N))try{return da(N.querySelectorAll(I),M)}catch(T){}return u(I,N,M,W)};for(var E in u)D[E]=u[E];x=null}}();
(function(){var u=L.createElement("div");u.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!u.getElementsByClassName||u.getElementsByClassName("e").length===0)){u.lastChild.className="e";if(u.getElementsByClassName("e").length!==1){J.order.splice(1,0,"CLASS");J.find.CLASS=function(x,E,I){if(typeof E.getElementsByClassName!=="undefined"&&!I)return E.getElementsByClassName(x[1])};u=null}}})();var oa=L.compareDocumentPosition?function(u,x){return!!(u.compareDocumentPosition(x)&16)}:
function(u,x){return u!==x&&(u.contains?u.contains(x):true)},X=function(u){return(u=(u?u.ownerDocument||u:0).documentElement)?u.nodeName!=="HTML":false},Va=function(u,x){var E=[],I="",N;for(x=x.nodeType?[x]:x;N=J.match.PSEUDO.exec(u);){I+=N[0];u=u.replace(J.match.PSEUDO,"")}u=J.relative[u]?u+"*":u;N=0;for(var M=x.length;N<M;N++)D(u,x[N],E);return D.filter(I,E)};i.find=D;i.expr=D.selectors;i.expr[":"]=i.expr.filters;i.unique=D.uniqueSort;i.text=e;i.isXMLDoc=X;i.contains=oa})();var va=/Until$/,Ja=/^(?:parents|prevUntil|prevAll)/,
Ka=/,/;ra=Array.prototype.slice;var eb=function(e,h,o){if(i.isFunction(h))return i.grep(e,function(p,y){return!!h.call(p,y,p)===o});else if(h.nodeType)return i.grep(e,function(p){return p===h===o});else if(typeof h==="string"){var q=i.grep(e,function(p){return p.nodeType===1});if(ea.test(h))return i.filter(h,q,!o);else h=i.filter(h,q)}return i.grep(e,function(p){return i.inArray(p,h)>=0===o})};i.fn.extend({find:function(e){for(var h=this.pushStack("","find",e),o=0,q=0,p=this.length;q<p;q++){o=h.length;
i.find(e,this[q],h);if(q>0)for(var y=o;y<h.length;y++)for(var z=0;z<o;z++)if(h[z]===h[y]){h.splice(y--,1);break}}return h},has:function(e){var h=i(e);return this.filter(function(){for(var o=0,q=h.length;o<q;o++)if(i.contains(this,h[o]))return true})},not:function(e){return this.pushStack(eb(this,e,false),"not",e)},filter:function(e){return this.pushStack(eb(this,e,true),"filter",e)},is:function(e){return!!e&&i.filter(e,this).length>0},closest:function(e,h){if(i.isArray(e)){var o=[],q=this[0],p,y=
{},z;if(q&&e.length){p=0;for(var K=e.length;p<K;p++){z=e[p];y[z]||(y[z]=i.expr.match.POS.test(z)?i(z,h||this.context):z)}for(;q&&q.ownerDocument&&q!==h;){for(z in y){p=y[z];if(p.jquery?p.index(q)>-1:i(q).is(p)){o.push({selector:z,elem:q});delete y[z]}}q=q.parentNode}}return o}var D=i.expr.match.POS.test(e)?i(e,h||this.context):null;return this.map(function(J,P){for(;P&&P.ownerDocument&&P!==h;){if(D?D.index(P)>-1:i(P).is(e))return P;P=P.parentNode}return null})},index:function(e){if(!e||typeof e===
"string")return i.inArray(this[0],e?i(e):this.parent().children());return i.inArray(e.jquery?e[0]:e,this)},add:function(e,h){e=typeof e==="string"?i(e,h||this.context):i.makeArray(e);h=i.merge(this.get(),e);return this.pushStack(w(e[0])||w(h[0])?h:i.unique(h))},andSelf:function(){return this.add(this.prevObject)}});i.each({parent:function(e){return(e=e.parentNode)&&e.nodeType!==11?e:null},parents:function(e){return i.dir(e,"parentNode")},parentsUntil:function(e,h,o){return i.dir(e,"parentNode",o)},
next:function(e){return i.nth(e,2,"nextSibling")},prev:function(e){return i.nth(e,2,"previousSibling")},nextAll:function(e){return i.dir(e,"nextSibling")},prevAll:function(e){return i.dir(e,"previousSibling")},nextUntil:function(e,h,o){return i.dir(e,"nextSibling",o)},prevUntil:function(e,h,o){return i.dir(e,"previousSibling",o)},siblings:function(e){return i.sibling(e.parentNode.firstChild,e)},children:function(e){return i.sibling(e.firstChild)},contents:function(e){return i.nodeName(e,"iframe")?
e.contentDocument||e.contentWindow.document:i.makeArray(e.childNodes)}},function(e,h){i.fn[e]=function(o,q){var p=i.map(this,h,o);va.test(e)||(q=o);if(q&&typeof q==="string")p=i.filter(q,p);p=this.length>1?i.unique(p):p;if((this.length>1||Ka.test(q))&&Ja.test(e))p=p.reverse();return this.pushStack(p,e,ra.call(arguments).join(","))}});i.extend({filter:function(e,h,o){if(o)e=":not("+e+")";return i.find.matches(e,h)},dir:function(e,h,o){var q=[];for(e=e[h];e&&e.nodeType!==9&&(o===c||e.nodeType!==1||
!i(e).is(o));){e.nodeType===1&&q.push(e);e=e[h]}return q},nth:function(e,h,o){h=h||1;for(var q=0;e;e=e[o])if(e.nodeType===1&&++q===h)break;return e},sibling:function(e,h){for(var o=[];e;e=e.nextSibling)e.nodeType===1&&e!==h&&o.push(e);return o}});var fb=/ jQuery\d+="(?:\d+|null)"/g,Ta=/^\s+/,gb=/(<([\w:]+)[^>]*?)\/>/g,mb=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,hb=/<([\w:]+)/,nb=/<tbody/i,ob=/<|&#?\w+;/,ab=/<script|<object|<embed|<option|<style/i,bb=/checked\s*(?:[^=]|=\s*.checked.)/i,
ib=function(e,h,o){return mb.test(o)?e:h+"></"+o+">"},pa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};pa.optgroup=pa.option;pa.tbody=pa.tfoot=pa.colgroup=pa.caption=pa.thead;pa.th=pa.td;if(!i.support.htmlSerialize)pa._default=
[1,"div<div>","</div>"];i.fn.extend({text:function(e){if(i.isFunction(e))return this.each(function(h){var o=i(this);o.text(e.call(this,h,o.text()))});if(typeof e!=="object"&&e!==c)return this.empty().append((this[0]&&this[0].ownerDocument||L).createTextNode(e));return i.text(this)},wrapAll:function(e){if(i.isFunction(e))return this.each(function(o){i(this).wrapAll(e.call(this,o))});if(this[0]){var h=i(e,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&h.insertBefore(this[0]);h.map(function(){for(var o=
this;o.firstChild&&o.firstChild.nodeType===1;)o=o.firstChild;return o}).append(this)}return this},wrapInner:function(e){if(i.isFunction(e))return this.each(function(h){i(this).wrapInner(e.call(this,h))});return this.each(function(){var h=i(this),o=h.contents();o.length?o.wrapAll(e):h.append(e)})},wrap:function(e){return this.each(function(){i(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,
true,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,true,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(h){this.parentNode.insertBefore(h,this)});else if(arguments.length){var e=i(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,
false,function(h){this.parentNode.insertBefore(h,this.nextSibling)});else if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,i(arguments[0]).toArray());return e}},remove:function(e,h){for(var o=0,q;(q=this[o])!=null;o++)if(!e||i.filter(e,[q]).length){if(!h&&q.nodeType===1){i.cleanData(q.getElementsByTagName("*"));i.cleanData([q])}q.parentNode&&q.parentNode.removeChild(q)}return this},empty:function(){for(var e=0,h;(h=this[e])!=null;e++)for(h.nodeType===1&&i.cleanData(h.getElementsByTagName("*"));h.firstChild;)h.removeChild(h.firstChild);
return this},clone:function(e){var h=this.map(function(){if(!i.support.noCloneEvent&&!i.isXMLDoc(this)){var o=this.outerHTML,q=this.ownerDocument;if(!o){o=q.createElement("div");o.appendChild(this.cloneNode(true));o=o.innerHTML}return i.clean([o.replace(fb,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(Ta,"")],q)[0]}else return this.cloneNode(true)});if(e===true){C(this,h);C(this.find("*"),h.find("*"))}return h},html:function(e){if(e===c)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(fb,
""):null;else if(typeof e==="string"&&!ab.test(e)&&(i.support.leadingWhitespace||!Ta.test(e))&&!pa[(hb.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(gb,ib);try{for(var h=0,o=this.length;h<o;h++)if(this[h].nodeType===1){i.cleanData(this[h].getElementsByTagName("*"));this[h].innerHTML=e}}catch(q){this.empty().append(e)}}else i.isFunction(e)?this.each(function(p){var y=i(this),z=y.html();y.empty().append(function(){return e.call(this,p,z)})}):this.empty().append(e);return this},replaceWith:function(e){if(this[0]&&
this[0].parentNode){if(i.isFunction(e))return this.each(function(h){var o=i(this),q=o.html();o.replaceWith(e.call(this,h,q))});if(typeof e!=="string")e=i(e).detach();return this.each(function(){var h=this.nextSibling,o=this.parentNode;i(this).remove();h?i(h).before(e):i(o).append(e)})}else return this.pushStack(i(i.isFunction(e)?e():e),"replaceWith",e)},detach:function(e){return this.remove(e,true)},domManip:function(e,h,o){function q(V){return i.nodeName(V,"table")?V.getElementsByTagName("tbody")[0]||
V.appendChild(V.ownerDocument.createElement("tbody")):V}var p,y,z=e[0],K=[],D;if(!i.support.checkClone&&arguments.length===3&&typeof z==="string"&&bb.test(z))return this.each(function(){i(this).domManip(e,h,o,true)});if(i.isFunction(z))return this.each(function(V){var da=i(this);e[0]=z.call(this,V,h?da.html():c);da.domManip(e,h,o)});if(this[0]){p=z&&z.parentNode;p=i.support.parentNode&&p&&p.nodeType===11&&p.childNodes.length===this.length?{fragment:p}:B(e,this,K);D=p.fragment;if(y=D.childNodes.length===
1?(D=D.firstChild):D.firstChild){h=h&&i.nodeName(y,"tr");for(var J=0,P=this.length;J<P;J++)o.call(h?q(this[J],y):this[J],J>0||p.cacheable||this.length>1?D.cloneNode(true):D)}K.length&&i.each(K,g)}return this}});i.fragments={};i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,h){i.fn[e]=function(o){var q=[];o=i(o);var p=this.length===1&&this[0].parentNode;if(p&&p.nodeType===11&&p.childNodes.length===1&&o.length===1){o[h](this[0]);
return this}else{p=0;for(var y=o.length;p<y;p++){var z=(p>0?this.clone(true):this).get();i.fn[h].apply(i(o[p]),z);q=q.concat(z)}return this.pushStack(q,e,o.selector)}}});i.extend({clean:function(e,h,o,q){h=h||L;if(typeof h.createElement==="undefined")h=h.ownerDocument||h[0]&&h[0].ownerDocument||L;for(var p=[],y=0,z;(z=e[y])!=null;y++){if(typeof z==="number")z+="";if(z){if(typeof z==="string"&&!ob.test(z))z=h.createTextNode(z);else if(typeof z==="string"){z=z.replace(gb,ib);var K=(hb.exec(z)||["",
""])[1].toLowerCase(),D=pa[K]||pa._default,J=D[0],P=h.createElement("div");for(P.innerHTML=D[1]+z+D[2];J--;)P=P.lastChild;if(!i.support.tbody){J=nb.test(z);K=K==="table"&&!J?P.firstChild&&P.firstChild.childNodes:D[1]==="<table>"&&!J?P.childNodes:[];for(D=K.length-1;D>=0;--D)i.nodeName(K[D],"tbody")&&!K[D].childNodes.length&&K[D].parentNode.removeChild(K[D])}!i.support.leadingWhitespace&&Ta.test(z)&&P.insertBefore(h.createTextNode(Ta.exec(z)[0]),P.firstChild);z=P.childNodes}if(z.nodeType)p.push(z);
else p=i.merge(p,z)}}if(o)for(y=0;p[y];y++)if(q&&i.nodeName(p[y],"script")&&(!p[y].type||p[y].type.toLowerCase()==="text/javascript"))q.push(p[y].parentNode?p[y].parentNode.removeChild(p[y]):p[y]);else{p[y].nodeType===1&&p.splice.apply(p,[y+1,0].concat(i.makeArray(p[y].getElementsByTagName("script"))));o.appendChild(p[y])}return p},cleanData:function(e){for(var h,o,q=i.cache,p=i.event.special,y=i.support.deleteExpando,z=0,K;(K=e[z])!=null;z++)if(o=K[i.expando]){h=q[o];if(h.events)for(var D in h.events)p[D]?
i.event.remove(K,D):R(K,D,h.handle);if(y)delete K[i.expando];else K.removeAttribute&&K.removeAttribute(i.expando);delete q[o]}}});var pb=/z-?index|font-?weight|opacity|zoom|line-?height/i,jb=/alpha\([^)]*\)/,kb=/opacity=([^)]*)/,Wa=/float/i,Xa=/-([a-z])/ig,qb=/([A-Z])/g,rb=/^-?\d+(?:px)?$/i,sb=/^-?\d/,tb={position:"absolute",visibility:"hidden",display:"block"},ub=["Left","Right"],vb=["Top","Bottom"],wb=L.defaultView&&L.defaultView.getComputedStyle,lb=i.support.cssFloat?"cssFloat":"styleFloat",Ya=
function(e,h){return h.toUpperCase()};i.fn.css=function(e,h){return m(this,e,h,true,function(o,q,p){if(p===c)return i.curCSS(o,q);if(typeof p==="number"&&!pb.test(q))p+="px";i.style(o,q,p)})};i.extend({style:function(e,h,o){if(!e||e.nodeType===3||e.nodeType===8)return c;if((h==="width"||h==="height")&&parseFloat(o)<0)o=c;var q=e.style||e,p=o!==c;if(!i.support.opacity&&h==="opacity"){if(p){q.zoom=1;h=parseInt(o,10)+""==="NaN"?"":"alpha(opacity="+o*100+")";e=q.filter||i.curCSS(e,"filter")||"";q.filter=
jb.test(e)?e.replace(jb,h):h}return q.filter&&q.filter.indexOf("opacity=")>=0?parseFloat(kb.exec(q.filter)[1])/100+"":""}if(Wa.test(h))h=lb;h=h.replace(Xa,Ya);if(p)q[h]=o;return q[h]},css:function(e,h,o,q){if(h==="width"||h==="height"){var p,y=h==="width"?ub:vb;o=function(){p=h==="width"?e.offsetWidth:e.offsetHeight;q!=="border"&&i.each(y,function(){q||(p-=parseFloat(i.curCSS(e,"padding"+this,true))||0);if(q==="margin")p+=parseFloat(i.curCSS(e,"margin"+this,true))||0;else p-=parseFloat(i.curCSS(e,
"border"+this+"Width",true))||0})};e.offsetWidth!==0?o():i.swap(e,tb,o);return Math.max(0,Math.round(p))}return i.curCSS(e,h,o)},curCSS:function(e,h,o){var q,p=e.style;if(!i.support.opacity&&h==="opacity"&&e.currentStyle){q=kb.test(e.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return q===""?"1":q}if(Wa.test(h))h=lb;if(!o&&p&&p[h])q=p[h];else if(wb){if(Wa.test(h))h="float";h=h.replace(qb,"-$1").toLowerCase();p=e.ownerDocument.defaultView;if(!p)return null;if(e=p.getComputedStyle(e,null))q=
e.getPropertyValue(h);if(h==="opacity"&&q==="")q="1"}else if(e.currentStyle){o=h.replace(Xa,Ya);q=e.currentStyle[h]||e.currentStyle[o];if(!rb.test(q)&&sb.test(q)){h=p.left;var y=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left;p.left=o==="fontSize"?"1em":q||0;q=p.pixelLeft+"px";p.left=h;e.runtimeStyle.left=y}}return q},swap:function(e,h,o){var q={};for(var p in h){q[p]=e.style[p];e.style[p]=h[p]}o.call(e);for(p in h)e.style[p]=q[p]}});if(i.expr&&i.expr.filters){i.expr.filters.hidden=function(e){var h=
e.offsetWidth,o=e.offsetHeight,q=e.nodeName.toLowerCase()==="tr";return h===0&&o===0&&!q?true:h>0&&o>0&&!q?false:i.curCSS(e,"display")==="none"};i.expr.filters.visible=function(e){return!i.expr.filters.hidden(e)}}var xb=l(),yb=/<script(.|\s)*?\/script>/gi,zb=/select|textarea/i,Ab=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,La=/=\?(&|$)/,Za=/\?/,Bb=/(\?|&)_=.*?(&|$)/,Cb=/^(\w+:)?\/\/([^\/?#]+)/,Db=/%20/g,Eb=i.fn.load;i.fn.extend({load:function(e,h,
o){if(typeof e!=="string")return Eb.call(this,e);else if(!this.length)return this;var q=e.indexOf(" ");if(q>=0){var p=e.slice(q,e.length);e=e.slice(0,q)}q="GET";if(h)if(i.isFunction(h)){o=h;h=null}else if(typeof h==="object"){h=i.param(h,i.ajaxSettings.traditional);q="POST"}var y=this;i.ajax({url:e,type:q,dataType:"html",data:h,complete:function(z,K){if(K==="success"||K==="notmodified")y.html(p?i("<div />").append(z.responseText.replace(yb,"")).find(p):z.responseText);o&&y.each(o,[z.responseText,
K,z])}});return this},serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||zb.test(this.nodeName)||Ab.test(this.type))}).map(function(e,h){e=i(this).val();return e==null?null:i.isArray(e)?i.map(e,function(o){return{name:h.name,value:o}}):{name:h.name,value:e}}).get()}});i.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(e,h){i.fn[h]=function(o){return this.bind(h,o)}});i.extend({get:function(e,h,o,q){if(i.isFunction(h)){q=q||o;o=h;h=null}return i.ajax({type:"GET",url:e,data:h,success:o,dataType:q})},getScript:function(e,h){return i.get(e,null,h,"script")},getJSON:function(e,h,o){return i.get(e,h,o,"json")},post:function(e,h,o,q){if(i.isFunction(h)){q=q||o;o=h;h={}}return i.ajax({type:"POST",url:e,data:h,success:o,dataType:q})},ajaxSetup:function(e){i.extend(i.ajaxSettings,e)},ajaxSettings:{url:location.href,
global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:b.XMLHttpRequest&&(b.location.protocol!=="file:"||!b.ActiveXObject)?function(){return new b.XMLHttpRequest}:function(){try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(e){function h(){p.success&&
p.success.call(D,K,z,X);p.global&&q("ajaxSuccess",[X,p])}function o(){p.complete&&p.complete.call(D,X,z);p.global&&q("ajaxComplete",[X,p]);p.global&&!--i.active&&i.event.trigger("ajaxStop")}function q(N,M){(p.context?i(p.context):i.event).trigger(N,M)}var p=i.extend(true,{},i.ajaxSettings,e),y,z,K,D=e&&e.context||p,J=p.type.toUpperCase();if(p.data&&p.processData&&typeof p.data!=="string")p.data=i.param(p.data,p.traditional);if(p.dataType==="jsonp"){if(J==="GET")La.test(p.url)||(p.url+=(Za.test(p.url)?
"&":"?")+(p.jsonp||"callback")+"=?");else if(!p.data||!La.test(p.data))p.data=(p.data?p.data+"&":"")+(p.jsonp||"callback")+"=?";p.dataType="json"}if(p.dataType==="json"&&(p.data&&La.test(p.data)||La.test(p.url))){y=p.jsonpCallback||"jsonp"+xb++;if(p.data)p.data=(p.data+"").replace(La,"="+y+"$1");p.url=p.url.replace(La,"="+y+"$1");p.dataType="script";b[y]=b[y]||function(N){K=N;h();o();b[y]=c;try{delete b[y]}catch(M){}da&&da.removeChild(ia)}}if(p.dataType==="script"&&p.cache===null)p.cache=false;if(p.cache===
false&&J==="GET"){var P=l(),V=p.url.replace(Bb,"$1_="+P+"$2");p.url=V+(V===p.url?(Za.test(p.url)?"&":"?")+"_="+P:"")}if(p.data&&J==="GET")p.url+=(Za.test(p.url)?"&":"?")+p.data;p.global&&!i.active++&&i.event.trigger("ajaxStart");P=(P=Cb.exec(p.url))&&(P[1]&&P[1]!==location.protocol||P[2]!==location.host);if(p.dataType==="script"&&J==="GET"&&P){var da=L.getElementsByTagName("head")[0]||L.documentElement,ia=L.createElement("script");ia.src=p.url;if(p.scriptCharset)ia.charset=p.scriptCharset;if(!y){var fa=
false;ia.onload=ia.onreadystatechange=function(){if(!fa&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){fa=true;h();o();ia.onload=ia.onreadystatechange=null;da&&ia.parentNode&&da.removeChild(ia)}}}da.insertBefore(ia,da.firstChild);return c}var oa=false,X=p.xhr();if(X){p.username?X.open(J,p.url,p.async,p.username,p.password):X.open(J,p.url,p.async);try{if(p.data||e&&e.contentType)X.setRequestHeader("Content-Type",p.contentType);if(p.ifModified){i.lastModified[p.url]&&
X.setRequestHeader("If-Modified-Since",i.lastModified[p.url]);i.etag[p.url]&&X.setRequestHeader("If-None-Match",i.etag[p.url])}P||X.setRequestHeader("X-Requested-With","XMLHttpRequest");X.setRequestHeader("Accept",p.dataType&&p.accepts[p.dataType]?p.accepts[p.dataType]+", */*":p.accepts._default)}catch(Va){}if(p.beforeSend&&p.beforeSend.call(D,X,p)===false){p.global&&!--i.active&&i.event.trigger("ajaxStop");X.abort();return false}p.global&&q("ajaxSend",[X,p]);var u=X.onreadystatechange=function(N){if(!X||
X.readyState===0||N==="abort"){oa||o();oa=true;if(X)X.onreadystatechange=i.noop}else if(!oa&&X&&(X.readyState===4||N==="timeout")){oa=true;X.onreadystatechange=i.noop;z=N==="timeout"?"timeout":!i.httpSuccess(X)?"error":p.ifModified&&i.httpNotModified(X,p.url)?"notmodified":"success";var M;if(z==="success")try{K=i.httpData(X,p.dataType,p)}catch(W){z="parsererror";M=W}if(z==="success"||z==="notmodified")y||h();else i.handleError(p,X,z,M);o();N==="timeout"&&X.abort();if(p.async)X=null}};try{var x=X.abort;
X.abort=function(){X&&x.call(X);u("abort")}}catch(E){}p.async&&p.timeout>0&&setTimeout(function(){X&&!oa&&u("timeout")},p.timeout);try{X.send(J==="POST"||J==="PUT"||J==="DELETE"?p.data:null)}catch(I){i.handleError(p,X,null,I);o()}p.async||u();return X}},handleError:function(e,h,o,q){if(e.error)e.error.call(e.context||e,h,o,q);if(e.global)(e.context?i(e.context):i.event).trigger("ajaxError",[h,e,q])},active:0,httpSuccess:function(e){try{return!e.status&&location.protocol==="file:"||e.status>=200&&
e.status<300||e.status===304||e.status===1223||e.status===0}catch(h){}return false},httpNotModified:function(e,h){var o=e.getResponseHeader("Last-Modified"),q=e.getResponseHeader("Etag");if(o)i.lastModified[h]=o;if(q)i.etag[h]=q;return e.status===304||e.status===0},httpData:function(e,h,o){var q=e.getResponseHeader("content-type")||"",p=h==="xml"||!h&&q.indexOf("xml")>=0;e=p?e.responseXML:e.responseText;p&&e.documentElement.nodeName==="parsererror"&&i.error("parsererror");if(o&&o.dataFilter)e=o.dataFilter(e,
h);if(typeof e==="string")if(h==="json"||!h&&q.indexOf("json")>=0)e=i.parseJSON(e);else if(h==="script"||!h&&q.indexOf("javascript")>=0)i.globalEval(e);return e},param:function(e,h){function o(z,K){if(i.isArray(K))i.each(K,function(D,J){h||/\[\]$/.test(z)?q(z,J):o(z+"["+(typeof J==="object"||i.isArray(J)?D:"")+"]",J)});else!h&&K!=null&&typeof K==="object"?i.each(K,function(D,J){o(z+"["+D+"]",J)}):q(z,K)}function q(z,K){K=i.isFunction(K)?K():K;p[p.length]=encodeURIComponent(z)+"="+encodeURIComponent(K)}
var p=[];if(h===c)h=i.ajaxSettings.traditional;if(i.isArray(e)||e.jquery)i.each(e,function(){q(this.name,this.value)});else for(var y in e)o(y,e[y]);return p.join("&").replace(Db,"+")}});var $a={},Fb=/toggle|show|hide/,Gb=/^([+-]=)?([\d+-.]+)(.*)$/,Ua,cb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];i.fn.extend({show:function(e,h){if(e||e===0)return this.animate(F("show",3),e,h);else{e=0;for(h=this.length;e<
h;e++){var o=i.data(this[e],"olddisplay");this[e].style.display=o||"";if(i.css(this[e],"display")==="none"){o=this[e].nodeName;var q;if($a[o])q=$a[o];else{var p=i("<"+o+" />").appendTo("body");q=p.css("display");if(q==="none")q="block";p.remove();$a[o]=q}i.data(this[e],"olddisplay",q)}}e=0;for(h=this.length;e<h;e++)this[e].style.display=i.data(this[e],"olddisplay")||"";return this}},hide:function(e,h){if(e||e===0)return this.animate(F("hide",3),e,h);else{e=0;for(h=this.length;e<h;e++){var o=i.data(this[e],
"olddisplay");!o&&o!=="none"&&i.data(this[e],"olddisplay",i.css(this[e],"display"))}e=0;for(h=this.length;e<h;e++)this[e].style.display="none";return this}},_toggle:i.fn.toggle,toggle:function(e,h){var o=typeof e==="boolean";if(i.isFunction(e)&&i.isFunction(h))this._toggle.apply(this,arguments);else e==null||o?this.each(function(){var q=o?e:i(this).is(":hidden");i(this)[q?"show":"hide"]()}):this.animate(F("toggle",3),e,h);return this},fadeTo:function(e,h,o){return this.filter(":hidden").css("opacity",
0).show().end().animate({opacity:h},e,o)},animate:function(e,h,o,q){var p=i.speed(h,o,q);if(i.isEmptyObject(e))return this.each(p.complete);return this[p.queue===false?"each":"queue"](function(){var y=i.extend({},p),z,K=this.nodeType===1&&i(this).is(":hidden"),D=this;for(z in e){var J=z.replace(Xa,Ya);if(z!==J){e[J]=e[z];delete e[z];z=J}if(e[z]==="hide"&&K||e[z]==="show"&&!K)return y.complete.call(this);if((z==="height"||z==="width")&&this.style){y.display=i.css(this,"display");y.overflow=this.style.overflow}if(i.isArray(e[z])){(y.specialEasing=
y.specialEasing||{})[z]=e[z][1];e[z]=e[z][0]}}if(y.overflow!=null)this.style.overflow="hidden";y.curAnim=i.extend({},e);i.each(e,function(P,V){var da=new i.fx(D,y,P);if(Fb.test(V))da[V==="toggle"?K?"show":"hide":V](e);else{var ia=Gb.exec(V),fa=da.cur(true)||0;if(ia){V=parseFloat(ia[2]);var oa=ia[3]||"px";if(oa!=="px"){D.style[P]=(V||1)+oa;fa=(V||1)/da.cur(true)*fa;D.style[P]=fa+oa}if(ia[1])V=(ia[1]==="-="?-1:1)*V+fa;da.custom(fa,V,oa)}else da.custom(fa,V,"")}});return true})},stop:function(e,h){var o=
i.timers;e&&this.queue([]);this.each(function(){for(var q=o.length-1;q>=0;q--)if(o[q].elem===this){h&&o[q](true);o.splice(q,1)}});h||this.dequeue();return this}});i.each({slideDown:F("show",1),slideUp:F("hide",1),slideToggle:F("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(e,h){i.fn[e]=function(o,q){return this.animate(h,o,q)}});i.extend({speed:function(e,h,o){var q=e&&typeof e==="object"?e:{complete:o||!o&&h||i.isFunction(e)&&e,duration:e,easing:o&&h||h&&!i.isFunction(h)&&
h};q.duration=i.fx.off?0:typeof q.duration==="number"?q.duration:i.fx.speeds[q.duration]||i.fx.speeds._default;q.old=q.complete;q.complete=function(){q.queue!==false&&i(this).dequeue();i.isFunction(q.old)&&q.old.call(this)};return q},easing:{linear:function(e,h,o,q){return o+q*e},swing:function(e,h,o,q){return(-Math.cos(e*Math.PI)/2+0.5)*q+o}},timers:[],fx:function(e,h,o){this.options=h;this.elem=e;this.prop=o;if(!h.orig)h.orig={}}});i.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,
this.now,this);(i.fx.step[this.prop]||i.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style)this.elem.style.display="block"},cur:function(e){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];return(e=parseFloat(i.css(this.elem,this.prop,e)))&&e>-10000?e:parseFloat(i.curCSS(this.elem,this.prop))||0},custom:function(e,h,o){function q(y){return p.step(y)}this.startTime=l();this.start=e;this.end=h;this.unit=
o||this.unit||"px";this.now=this.start;this.pos=this.state=0;var p=this;q.elem=this.elem;if(q()&&i.timers.push(q)&&!Ua)Ua=setInterval(i.fx.tick,13)},show:function(){this.options.orig[this.prop]=i.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());i(this.elem).show()},hide:function(){this.options.orig[this.prop]=i.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(e){var h=l(),o=true;if(e||
h>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var q in this.options.curAnim)if(this.options.curAnim[q]!==true)o=false;if(o){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;e=i.data(this.elem,"olddisplay");this.elem.style.display=e?e:this.options.display;if(i.css(this.elem,"display")==="none")this.elem.style.display="block"}this.options.hide&&i(this.elem).hide();if(this.options.hide||
this.options.show)for(var p in this.options.curAnim)i.style(this.elem,p,this.options.orig[p]);this.options.complete.call(this.elem)}return false}else{p=h-this.startTime;this.state=p/this.options.duration;e=this.options.easing||(i.easing.swing?"swing":"linear");this.pos=i.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||e](this.state,p,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};i.extend(i.fx,{tick:function(){for(var e=
i.timers,h=0;h<e.length;h++)e[h]()||e.splice(h--,1);e.length||i.fx.stop()},stop:function(){clearInterval(Ua);Ua=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){i.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null)e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit;else e.elem[e.prop]=e.now}}});if(i.expr&&i.expr.filters)i.expr.filters.animated=function(e){return i.grep(i.timers,function(h){return e===
h.elem}).length};i.fn.offset="getBoundingClientRect"in L.documentElement?function(e){var h=this[0];if(e)return this.each(function(p){i.offset.setOffset(this,e,p)});if(!h||!h.ownerDocument)return null;if(h===h.ownerDocument.body)return i.offset.bodyOffset(h);var o=h.getBoundingClientRect(),q=h.ownerDocument;h=q.body;q=q.documentElement;return{top:o.top+(self.pageYOffset||i.support.boxModel&&q.scrollTop||h.scrollTop)-(q.clientTop||h.clientTop||0),left:o.left+(self.pageXOffset||i.support.boxModel&&q.scrollLeft||
h.scrollLeft)-(q.clientLeft||h.clientLeft||0)}}:function(e){var h=this[0];if(e)return this.each(function(P){i.offset.setOffset(this,e,P)});if(!h||!h.ownerDocument)return null;if(h===h.ownerDocument.body)return i.offset.bodyOffset(h);i.offset.initialize();var o=h.offsetParent,q=h,p=h.ownerDocument,y,z=p.documentElement,K=p.body;q=(p=p.defaultView)?p.getComputedStyle(h,null):h.currentStyle;for(var D=h.offsetTop,J=h.offsetLeft;(h=h.parentNode)&&h!==K&&h!==z;){if(i.offset.supportsFixedPosition&&q.position===
"fixed")break;y=p?p.getComputedStyle(h,null):h.currentStyle;D-=h.scrollTop;J-=h.scrollLeft;if(h===o){D+=h.offsetTop;J+=h.offsetLeft;if(i.offset.doesNotAddBorder&&!(i.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(h.nodeName))){D+=parseFloat(y.borderTopWidth)||0;J+=parseFloat(y.borderLeftWidth)||0}q=o;o=h.offsetParent}if(i.offset.subtractsBorderForOverflowNotVisible&&y.overflow!=="visible"){D+=parseFloat(y.borderTopWidth)||0;J+=parseFloat(y.borderLeftWidth)||0}q=y}if(q.position==="relative"||
q.position==="static"){D+=K.offsetTop;J+=K.offsetLeft}if(i.offset.supportsFixedPosition&&q.position==="fixed"){D+=Math.max(z.scrollTop,K.scrollTop);J+=Math.max(z.scrollLeft,K.scrollLeft)}return{top:D,left:J}};i.offset={initialize:function(){var e=L.body,h=L.createElement("div"),o,q,p,y=parseFloat(i.curCSS(e,"marginTop",true))||0;i.extend(h.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});h.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
e.insertBefore(h,e.firstChild);o=h.firstChild;q=o.firstChild;p=o.nextSibling.firstChild.firstChild;this.doesNotAddBorder=q.offsetTop!==5;this.doesAddBorderForTableAndCells=p.offsetTop===5;q.style.position="fixed";q.style.top="20px";this.supportsFixedPosition=q.offsetTop===20||q.offsetTop===15;q.style.position=q.style.top="";o.style.overflow="hidden";o.style.position="relative";this.subtractsBorderForOverflowNotVisible=q.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=e.offsetTop!==y;e.removeChild(h);
i.offset.initialize=i.noop},bodyOffset:function(e){var h=e.offsetTop,o=e.offsetLeft;i.offset.initialize();if(i.offset.doesNotIncludeMarginInBodyOffset){h+=parseFloat(i.curCSS(e,"marginTop",true))||0;o+=parseFloat(i.curCSS(e,"marginLeft",true))||0}return{top:h,left:o}},setOffset:function(e,h,o){if(/static/.test(i.curCSS(e,"position")))e.style.position="relative";var q=i(e),p=q.offset(),y=parseInt(i.curCSS(e,"top",true),10)||0,z=parseInt(i.curCSS(e,"left",true),10)||0;if(i.isFunction(h))h=h.call(e,
o,p);o={top:h.top-p.top+y,left:h.left-p.left+z};"using"in h?h.using.call(e,o):q.css(o)}};i.fn.extend({position:function(){if(!this[0])return null;var e=this[0],h=this.offsetParent(),o=this.offset(),q=/^body|html$/i.test(h[0].nodeName)?{top:0,left:0}:h.offset();o.top-=parseFloat(i.curCSS(e,"marginTop",true))||0;o.left-=parseFloat(i.curCSS(e,"marginLeft",true))||0;q.top+=parseFloat(i.curCSS(h[0],"borderTopWidth",true))||0;q.left+=parseFloat(i.curCSS(h[0],"borderLeftWidth",true))||0;return{top:o.top-
q.top,left:o.left-q.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||L.body;e&&!/^body|html$/i.test(e.nodeName)&&i.css(e,"position")==="static";)e=e.offsetParent;return e})}});i.each(["Left","Top"],function(e,h){var o="scroll"+h;i.fn[o]=function(q){var p=this[0],y;if(!p)return null;if(q!==c)return this.each(function(){if(y=G(this))y.scrollTo(!e?q:i(y).scrollLeft(),e?q:i(y).scrollTop());else this[o]=q});else return(y=G(p))?"pageXOffset"in y?y[e?"pageYOffset":"pageXOffset"]:
i.support.boxModel&&y.document.documentElement[o]||y.document.body[o]:p[o]}});i.each(["Height","Width"],function(e,h){var o=h.toLowerCase();i.fn["inner"+h]=function(){return this[0]?i.css(this[0],o,false,"padding"):null};i.fn["outer"+h]=function(q){return this[0]?i.css(this[0],o,false,q?"margin":"border"):null};i.fn[o]=function(q){var p=this[0];if(!p)return q==null?null:this;if(i.isFunction(q))return this.each(function(y){var z=i(this);z[o](q.call(this,y,z[o]()))});return"scrollTo"in p&&p.document?
p.document.compatMode==="CSS1Compat"&&p.document.documentElement["client"+h]||p.document.body["client"+h]:p.nodeType===9?Math.max(p.documentElement["client"+h],p.body["scroll"+h],p.documentElement["scroll"+h],p.body["offset"+h],p.documentElement["offset"+h]):q===c?i.css(p,o):this.css(o,typeof q==="string"?q:q+"px")}});b.jQuery=b.$=i})(window);jQuery.ui||function(b){function c(s,k,j,w){function C(F){F=b[s][k][F]||[];return typeof F=="string"?F.split(/,?\s+/):F}var B=C("getter");if(w.length==1&&typeof w[0]=="string")B=B.concat(C("getterSetter"));return b.inArray(j,B)!=-1}var f=b.fn.remove,g=b.browser.mozilla&&parseFloat(b.browser.version)<1.9;b.ui={version:"1.7.2",plugin:{add:function(s,k,j){s=b.ui[s].prototype;for(var w in j){s.plugins[w]=s.plugins[w]||[];s.plugins[w].push([k,j[w]])}},call:function(s,k,j){if((k=s.plugins[k])&&s.element[0].parentNode)for(var w=
0;w<k.length;w++)s.options[k[w][0]]&&k[w][1].apply(s.element,j)}},contains:function(s,k){return document.compareDocumentPosition?s.compareDocumentPosition(k)&16:s!==k&&s.contains(k)},hasScroll:function(s,k){if(b(s).css("overflow")=="hidden")return false;k=k&&k=="left"?"scrollLeft":"scrollTop";var j=false;if(s[k]>0)return true;s[k]=1;j=s[k]>0;s[k]=0;return j},isOverAxis:function(s,k,j){return s>k&&s<k+j},isOver:function(s,k,j,w,C,B){return b.ui.isOverAxis(s,j,C)&&b.ui.isOverAxis(k,w,B)},keyCode:{BACKSPACE:8,
CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(g){var m=b.attr,l=b.fn.removeAttr,d=/^aria-/,r=/^wairole:/;b.attr=function(s,k,j){var w=j!==undefined;return k=="role"?w?m.call(this,s,k,"wairole:"+j):(m.apply(this,arguments)||"").replace(r,""):d.test(k)?w?s.setAttributeNS("http://www.w3.org/2005/07/aaa",
k.replace(d,"aaa:"),j):m.call(this,s,k.replace(d,"aaa:")):m.apply(this,arguments)};b.fn.removeAttr=function(s){return d.test(s)?this.each(function(){this.removeAttributeNS("http://www.w3.org/2005/07/aaa",s.replace(d,""))}):l.call(this,s)}}b.fn.extend({remove:function(){b("*",this).add(this).each(function(){b(this).triggerHandler("remove")});return f.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var s;s=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,
"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!s.length?b(document):s}});b.extend(b.expr[":"],{data:function(s,k,j){return!!b.data(s,j[3])},focusable:function(s){var k=s.nodeName.toLowerCase(),j=b.attr(s,"tabindex");return(/input|select|textarea|button|object/.test(k)?!s.disabled:"a"==k||"area"==k?s.href||!isNaN(j):!isNaN(j))&&!b(s)["area"==k?"parents":"closest"](":hidden").length},tabbable:function(s){var k=b.attr(s,"tabindex");
return(isNaN(k)||k>=0)&&b(s).is(":focusable")}});b.widget=function(s,k){var j=s.split(".")[0];s=s.split(".")[1];b.fn[s]=function(w){var C=typeof w=="string",B=Array.prototype.slice.call(arguments,1);if(C&&w.substring(0,1)=="_")return this;if(C&&c(j,s,w,B)){var F=b.data(this[0],s);return F?F[w].apply(F,B):undefined}return this.each(function(){var G=b.data(this,s);!G&&!C&&b.data(this,s,new b[j][s](this,w))._init();G&&C&&b.isFunction(G[w])&&G[w].apply(G,B)})};b[j]=b[j]||{};b[j][s]=function(w,C){var B=
this;this.namespace=j;this.widgetName=s;this.widgetEventPrefix=b[j][s].eventPrefix||s;this.widgetBaseClass=j+"-"+s;this.options=b.extend({},b.widget.defaults,b[j][s].defaults,b.metadata&&b.metadata.get(w)[s],C);this.element=b(w).bind("setData."+s,function(F,G,i){if(F.target==w)return B._setData(G,i)}).bind("getData."+s,function(F,G){if(F.target==w)return B._getData(G)}).bind("remove",function(){return B.destroy()})};b[j][s].prototype=b.extend({},b.widget.prototype,k);b[j][s].getterSetter="option"};
b.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(s,k){var j=s,w=this;if(typeof s=="string"){if(k===undefined)return this._getData(s);j={};j[s]=k}b.each(j,function(C,B){w._setData(C,B)})},_getData:function(s){return this.options[s]},_setData:function(s,k){this.options[s]=k;if(s=="disabled")this.element[k?"addClass":"removeClass"](this.widgetBaseClass+
"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",k)},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(s,k,j){var w=this.options[s];s=s==this.widgetEventPrefix?s:this.widgetEventPrefix+s;k=b.Event(k);k.type=s;if(k.originalEvent){s=b.event.props.length;for(var C;s;){C=b.event.props[--s];k[C]=k.originalEvent[C]}}this.element.trigger(k,j);return!(b.isFunction(w)&&w.call(this.element[0],k,j)===false||k.isDefaultPrevented())}};
b.widget.defaults={disabled:false};b.ui.mouse={_mouseInit:function(){var s=this;this.element.bind("mousedown."+this.widgetName,function(k){return s._mouseDown(k)}).bind("click."+this.widgetName,function(k){if(s._preventClickEvent){s._preventClickEvent=false;k.stopImmediatePropagation();return false}});if(b.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);
b.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(s){s.originalEvent=s.originalEvent||{};if(!s.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(s);this._mouseDownEvent=s;var k=this,j=s.which==1,w=typeof this.options.cancel=="string"?b(s.target).parents().add(s.target).filter(this.options.cancel).length:false;if(!j||w||!this._mouseCapture(s))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){k.mouseDelayMet=
true},this.options.delay);if(this._mouseDistanceMet(s)&&this._mouseDelayMet(s)){this._mouseStarted=this._mouseStart(s)!==false;if(!this._mouseStarted){s.preventDefault();return true}}this._mouseMoveDelegate=function(C){return k._mouseMove(C)};this._mouseUpDelegate=function(C){return k._mouseUp(C)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.browser.safari||s.preventDefault();return s.originalEvent.mouseHandled=true}},
_mouseMove:function(s){if(b.browser.msie&&!s.button)return this._mouseUp(s);if(this._mouseStarted){this._mouseDrag(s);return s.preventDefault()}if(this._mouseDistanceMet(s)&&this._mouseDelayMet(s))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,s)!==false)?this._mouseDrag(s):this._mouseUp(s);return!this._mouseStarted},_mouseUp:function(s){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;this._preventClickEvent=s.target==this._mouseDownEvent.target;this._mouseStop(s)}return false},_mouseDistanceMet:function(s){return Math.max(Math.abs(this._mouseDownEvent.pageX-s.pageX),Math.abs(this._mouseDownEvent.pageY-s.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}};b.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery);
(function(b){b.widget("ui.draggable",b.extend({},b.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
this._mouseDestroy()}},_mouseCapture:function(c){var f=this.options;if(this.helper||f.disabled||b(c.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(c);if(!this.handle)return false;return true},_mouseStart:function(c){var f=this.options;this.helper=this._createHelper(c);this._cacheHelperProportions();if(b.ui.ddmanager)b.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();
this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);f.containment&&this._setContainment();this._trigger("start",c);this._cacheHelperProportions();b.ui.ddmanager&&
!f.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(c,true);return true},_mouseDrag:function(c,f){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!f){f=this._uiHash();this._trigger("drag",c,f);this.position=f.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+
"px";b.ui.ddmanager&&b.ui.ddmanager.drag(this,c);return false},_mouseStop:function(c){var f=false;if(b.ui.ddmanager&&!this.options.dropBehaviour)f=b.ui.ddmanager.drop(this,c);if(this.dropped){f=this.dropped;this.dropped=false}if(this.options.revert=="invalid"&&!f||this.options.revert=="valid"&&f||this.options.revert===true||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)){var g=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){g._trigger("stop",
c);g._clear()})}else{this._trigger("stop",c);this._clear()}return false},_getHandle:function(c){var f=!this.options.handle||!b(this.options.handle,this.element).length?true:false;b(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target)f=true});return f},_createHelper:function(c){var f=this.options;c=b.isFunction(f.helper)?b(f.helper.apply(this.element[0],[c])):f.helper=="clone"?this.element.clone():this.element;c.parents("body").length||c.appendTo(f.appendTo=="parent"?
this.element[0].parentNode:f.appendTo);c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){if(c.left!=undefined)this.offset.click.left=c.left+this.margins.left;if(c.right!=undefined)this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;if(c.top!=undefined)this.offset.click.top=c.top+this.margins.top;if(c.bottom!=undefined)this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment=="parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(c.containment=="document"?document:window).width()-this.helperProportions.width-
this.margins.left,(b(c.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){var f=b(c.containment)[0];if(f){c=b(c.containment).offset();var g=b(f).css("overflow")!="hidden";this.containment=[c.left+(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(f).css("borderTopWidth"),
10)||0)+(parseInt(b(f).css("paddingTop"),10)||0)-this.margins.top,c.left+(g?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(g?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(c.containment.constructor==
Array)this.containment=c.containment},_convertPositionTo:function(c,f){if(!f)f=this.position;c=c=="absolute"?1:-1;var g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,m=/(html|body)/i.test(g[0].tagName);return{top:f.top+this.offset.relative.top*c+this.offset.parent.top*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():m?0:g.scrollTop())*
c),left:f.left+this.offset.relative.left*c+this.offset.parent.left*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():m?0:g.scrollLeft())*c)}},_generatePosition:function(c){var f=this.options,g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,m=/(html|body)/i.test(g[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=
document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var l=c.pageX,d=c.pageY;if(this.originalPosition){if(this.containment){if(c.pageX-this.offset.click.left<this.containment[0])l=this.containment[0]+this.offset.click.left;if(c.pageY-this.offset.click.top<this.containment[1])d=this.containment[1]+this.offset.click.top;if(c.pageX-this.offset.click.left>this.containment[2])l=this.containment[2]+this.offset.click.left;if(c.pageY-this.offset.click.top>this.containment[3])d=
this.containment[3]+this.offset.click.top}if(f.grid){d=this.originalPageY+Math.round((d-this.originalPageY)/f.grid[1])*f.grid[1];d=this.containment?!(d-this.offset.click.top<this.containment[1]||d-this.offset.click.top>this.containment[3])?d:!(d-this.offset.click.top<this.containment[1])?d-f.grid[1]:d+f.grid[1]:d;l=this.originalPageX+Math.round((l-this.originalPageX)/f.grid[0])*f.grid[0];l=this.containment?!(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?
l:!(l-this.offset.click.left<this.containment[0])?l-f.grid[0]:l+f.grid[0]:l}}return{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():m?0:g.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():m?0:g.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,f,g){g=g||this._uiHash();b.ui.plugin.call(this,c,[f,g]);if(c=="drag")this.positionAbs=this._convertPositionTo("absolute");return b.widget.prototype._trigger.call(this,c,f,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));b.extend(b.ui.draggable,{version:"1.7.2",
eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});b.ui.plugin.add("draggable","connectToSortable",{start:function(c,
f){var g=b(this).data("draggable"),m=g.options,l=b.extend({},f,{item:g.element});g.sortables=[];b(m.connectToSortable).each(function(){var d=b.data(this,"sortable");if(d&&!d.options.disabled){g.sortables.push({instance:d,shouldRevert:d.options.revert});d._refreshItems();d._trigger("activate",c,l)}})},stop:function(c,f){var g=b(this).data("draggable"),m=b.extend({},f,{item:g.element});b.each(g.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;g.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=
false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;g.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",c,m)}})},drag:function(c,f){var g=b(this).data("draggable"),m=this;b.each(g.sortables,function(){this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;
this.instance.offset.click=g.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=b(m).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};c.target=this.instance.currentItem[0];this.instance._mouseCapture(c,true);this.instance._mouseStart(c,true,true);this.instance.offset.click.top=
g.offset.click.top;this.instance.offset.click.left=g.offset.click.left;this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top;g._trigger("toSortable",c);g.dropped=this.instance.element;g.currentItem=g.element;this.instance.fromOutside=g}this.instance.currentItem&&this.instance._mouseDrag(c)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;
this.instance.options.revert=false;this.instance._trigger("out",c,this.instance._uiHash(this.instance));this.instance._mouseStop(c,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();g._trigger("fromSortable",c);g.dropped=false}})}});b.ui.plugin.add("draggable","cursor",{start:function(){var c=b("body"),f=b(this).data("draggable").options;if(c.css("cursor"))f._cursor=c.css("cursor");c.css("cursor",
f.cursor)},stop:function(){var c=b(this).data("draggable").options;c._cursor&&b("body").css("cursor",c._cursor)}});b.ui.plugin.add("draggable","iframeFix",{start:function(){var c=b(this).data("draggable").options;b(c.iframeFix===true?"iframe":c.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")})},stop:function(){b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});
b.ui.plugin.add("draggable","opacity",{start:function(c,f){c=b(f.helper);f=b(this).data("draggable").options;if(c.css("opacity"))f._opacity=c.css("opacity");c.css("opacity",f.opacity)},stop:function(c,f){c=b(this).data("draggable").options;c._opacity&&b(f.helper).css("opacity",c._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var c=b(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML")c.overflowOffset=c.scrollParent.offset()},drag:function(c){var f=
b(this).data("draggable"),g=f.options,m=false;if(f.scrollParent[0]!=document&&f.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x")if(f.overflowOffset.top+f.scrollParent[0].offsetHeight-c.pageY<g.scrollSensitivity)f.scrollParent[0].scrollTop=m=f.scrollParent[0].scrollTop+g.scrollSpeed;else if(c.pageY-f.overflowOffset.top<g.scrollSensitivity)f.scrollParent[0].scrollTop=m=f.scrollParent[0].scrollTop-g.scrollSpeed;if(!g.axis||g.axis!="y")if(f.overflowOffset.left+f.scrollParent[0].offsetWidth-c.pageX<
g.scrollSensitivity)f.scrollParent[0].scrollLeft=m=f.scrollParent[0].scrollLeft+g.scrollSpeed;else if(c.pageX-f.overflowOffset.left<g.scrollSensitivity)f.scrollParent[0].scrollLeft=m=f.scrollParent[0].scrollLeft-g.scrollSpeed}else{if(!g.axis||g.axis!="x")if(c.pageY-b(document).scrollTop()<g.scrollSensitivity)m=b(document).scrollTop(b(document).scrollTop()-g.scrollSpeed);else if(b(window).height()-(c.pageY-b(document).scrollTop())<g.scrollSensitivity)m=b(document).scrollTop(b(document).scrollTop()+
g.scrollSpeed);if(!g.axis||g.axis!="y")if(c.pageX-b(document).scrollLeft()<g.scrollSensitivity)m=b(document).scrollLeft(b(document).scrollLeft()-g.scrollSpeed);else if(b(window).width()-(c.pageX-b(document).scrollLeft())<g.scrollSensitivity)m=b(document).scrollLeft(b(document).scrollLeft()+g.scrollSpeed)}m!==false&&b.ui.ddmanager&&!g.dropBehaviour&&b.ui.ddmanager.prepareOffsets(f,c)}});b.ui.plugin.add("draggable","snap",{start:function(){var c=b(this).data("draggable"),f=c.options;c.snapElements=
[];b(f.snap.constructor!=String?f.snap.items||":data(draggable)":f.snap).each(function(){var g=b(this),m=g.offset();this!=c.element[0]&&c.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:m.top,left:m.left})})},drag:function(c,f){for(var g=b(this).data("draggable"),m=g.options,l=m.snapTolerance,d=f.offset.left,r=d+g.helperProportions.width,s=f.offset.top,k=s+g.helperProportions.height,j=g.snapElements.length-1;j>=0;j--){var w=g.snapElements[j].left,C=w+g.snapElements[j].width,
B=g.snapElements[j].top,F=B+g.snapElements[j].height;if(w-l<d&&d<C+l&&B-l<s&&s<F+l||w-l<d&&d<C+l&&B-l<k&&k<F+l||w-l<r&&r<C+l&&B-l<s&&s<F+l||w-l<r&&r<C+l&&B-l<k&&k<F+l){if(m.snapMode!="inner"){var G=Math.abs(B-k)<=l,i=Math.abs(F-s)<=l,aa=Math.abs(w-r)<=l,U=Math.abs(C-d)<=l;if(G)f.position.top=g._convertPositionTo("relative",{top:B-g.helperProportions.height,left:0}).top-g.margins.top;if(i)f.position.top=g._convertPositionTo("relative",{top:F,left:0}).top-g.margins.top;if(aa)f.position.left=g._convertPositionTo("relative",
{top:0,left:w-g.helperProportions.width}).left-g.margins.left;if(U)f.position.left=g._convertPositionTo("relative",{top:0,left:C}).left-g.margins.left}var L=G||i||aa||U;if(m.snapMode!="outer"){G=Math.abs(B-s)<=l;i=Math.abs(F-k)<=l;aa=Math.abs(w-d)<=l;U=Math.abs(C-r)<=l;if(G)f.position.top=g._convertPositionTo("relative",{top:B,left:0}).top-g.margins.top;if(i)f.position.top=g._convertPositionTo("relative",{top:F-g.helperProportions.height,left:0}).top-g.margins.top;if(aa)f.position.left=g._convertPositionTo("relative",
{top:0,left:w}).left-g.margins.left;if(U)f.position.left=g._convertPositionTo("relative",{top:0,left:C-g.helperProportions.width}).left-g.margins.left}if(!g.snapElements[j].snapping&&(G||i||aa||U||L))g.options.snap.snap&&g.options.snap.snap.call(g.element,c,b.extend(g._uiHash(),{snapItem:g.snapElements[j].item}));g.snapElements[j].snapping=G||i||aa||U||L}else{g.snapElements[j].snapping&&g.options.snap.release&&g.options.snap.release.call(g.element,c,b.extend(g._uiHash(),{snapItem:g.snapElements[j].item}));
g.snapElements[j].snapping=false}}}});b.ui.plugin.add("draggable","stack",{start:function(){var c=b(this).data("draggable").options,f=b.makeArray(b(c.stack.group)).sort(function(g,m){return(parseInt(b(g).css("zIndex"),10)||c.stack.min)-(parseInt(b(m).css("zIndex"),10)||c.stack.min)});b(f).each(function(g){this.style.zIndex=c.stack.min+g});this[0].style.zIndex=c.stack.min+f.length}});b.ui.plugin.add("draggable","zIndex",{start:function(c,f){c=b(f.helper);f=b(this).data("draggable").options;if(c.css("zIndex"))f._zIndex=
c.css("zIndex");c.css("zIndex",f.zIndex)},stop:function(c,f){c=b(this).data("draggable").options;c._zIndex&&b(f.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(b){b.widget("ui.droppable",{_init:function(){var c=this.options.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&b.isFunction(this.options.accept)?this.options.accept:function(f){return f.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[this.options.scope]=b.ui.ddmanager.droppables[this.options.scope]||[];b.ui.ddmanager.droppables[this.options.scope].push(this);this.options.addClasses&&this.element.addClass("ui-droppable")},
destroy:function(){for(var c=b.ui.ddmanager.droppables[this.options.scope],f=0;f<c.length;f++)c[f]==this&&c.splice(f,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(c,f){if(c=="accept")this.options.accept=f&&b.isFunction(f)?f:function(g){return g.is(f)};else b.widget.prototype._setData.apply(this,arguments)},_activate:function(c){var f=b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);
f&&this._trigger("activate",c,this.ui(f))},_deactivate:function(c){var f=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",c,this.ui(f))},_over:function(c){var f=b.ui.ddmanager.current;if(!(!f||(f.currentItem||f.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],f.currentItem||f.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",c,this.ui(f))}},
_out:function(c){var f=b.ui.ddmanager.current;if(!(!f||(f.currentItem||f.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],f.currentItem||f.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",c,this.ui(f))}},_drop:function(c,f){var g=f||b.ui.ddmanager.current;if(!g||(g.currentItem||g.element)[0]==this.element[0])return false;var m=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var l=
b.data(this,"droppable");if(l.options.greedy&&b.ui.intersect(g,b.extend(l,{offset:l.element.offset()}),l.options.tolerance)){m=true;return false}});if(m)return false;if(this.options.accept.call(this.element[0],g.currentItem||g.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",c,this.ui(g));return this.element}return false},ui:function(c){return{draggable:c.currentItem||
c.element,helper:c.helper,position:c.position,absolutePosition:c.positionAbs,offset:c.positionAbs}}});b.extend(b.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});b.ui.intersect=function(c,f,g){if(!f.offset)return false;var m=(c.positionAbs||c.position.absolute).left,l=m+c.helperProportions.width,d=(c.positionAbs||c.position.absolute).top,r=d+c.helperProportions.height,s=f.offset.left,
k=s+f.proportions.width,j=f.offset.top,w=j+f.proportions.height;switch(g){case "fit":return s<m&&l<k&&j<d&&r<w;case "intersect":return s<m+c.helperProportions.width/2&&l-c.helperProportions.width/2<k&&j<d+c.helperProportions.height/2&&r-c.helperProportions.height/2<w;case "pointer":return b.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,j,s,f.proportions.height,f.proportions.width);
case "touch":return(d>=j&&d<=w||r>=j&&r<=w||d<j&&r>w)&&(m>=s&&m<=k||l>=s&&l<=k||m<s&&l>k);default:return false}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,f){var g=b.ui.ddmanager.droppables[c.options.scope],m=f?f.type:null,l=(c.currentItem||c.element).find(":data(droppable)").andSelf(),d=0;a:for(;d<g.length;d++)if(!(g[d].options.disabled||c&&!g[d].options.accept.call(g[d].element[0],c.currentItem||c.element))){for(var r=0;r<l.length;r++)if(l[r]==g[d].element[0]){g[d].proportions.height=
0;continue a}g[d].visible=g[d].element.css("display")!="none";if(g[d].visible){g[d].offset=g[d].element.offset();g[d].proportions={width:g[d].element[0].offsetWidth,height:g[d].element[0].offsetHeight};m=="mousedown"&&g[d]._activate.call(g[d],f)}}},drop:function(c,f){var g=false;b.each(b.ui.ddmanager.droppables[c.options.scope],function(){if(this.options){if(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance))g=this._drop.call(this,f);if(!this.options.disabled&&this.visible&&
this.options.accept.call(this.element[0],c.currentItem||c.element)){this.isout=1;this.isover=0;this._deactivate.call(this,f)}}});return g},drag:function(c,f){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,f);b.each(b.ui.ddmanager.droppables[c.options.scope],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var g=b.ui.intersect(c,this,this.options.tolerance);if(g=!g&&this.isover==1?"isout":g&&this.isover==0?"isover":null){var m;if(this.options.greedy){var l=this.element.parents(":data(droppable):eq(0)");
if(l.length){m=b.data(l[0],"droppable");m.greedyChild=g=="isover"?1:0}}if(m&&g=="isover"){m.isover=0;m.isout=1;m._out.call(m,f)}this[g]=1;this[g=="isout"?"isover":"isout"]=0;this[g=="isover"?"_over":"_out"].call(this,f);if(m&&g=="isout"){m.isout=0;m.isover=1;m._over.call(m,f)}}}})}}})(jQuery);
(function(b){b.widget("ui.sortable",b.extend({},b.ui.mouse,{_init:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--)this.items[c].item.removeData("sortable-item")},
_mouseCapture:function(c,f){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(c);var g=null,m=this;b(c.target).parents().each(function(){if(b.data(this,"sortable-item")==m){g=b(this);return false}});if(b.data(c.target,"sortable-item")==m)g=b(c.target);if(!g)return false;if(this.options.handle&&!f){var l=false;b(this.options.handle,g).find("*").andSelf().each(function(){if(this==c.target)l=true});if(!l)return false}this.currentItem=
g;this._removeCurrentsFromItems();return true},_mouseStart:function(c,f,g){f=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");b.extend(this.offset,
{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();f.containment&&this._setContainment();
if(f.cursor){if(b("body").css("cursor"))this._storedCursor=b("body").css("cursor");b("body").css("cursor",f.cursor)}if(f.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",f.opacity)}if(f.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",f.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",
c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!g)for(g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",c,this._uiHash(this));if(b.ui.ddmanager)b.ui.ddmanager.current=this;b.ui.ddmanager&&!f.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(c);return true},_mouseDrag:function(c){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");
if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var f=this.options,g=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<f.scrollSensitivity)this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+f.scrollSpeed;else if(c.pageY-this.overflowOffset.top<f.scrollSensitivity)this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-f.scrollSpeed;if(this.overflowOffset.left+
this.scrollParent[0].offsetWidth-c.pageX<f.scrollSensitivity)this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+f.scrollSpeed;else if(c.pageX-this.overflowOffset.left<f.scrollSensitivity)this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(c.pageY-b(document).scrollTop()<f.scrollSensitivity)g=b(document).scrollTop(b(document).scrollTop()-f.scrollSpeed);else if(b(window).height()-(c.pageY-b(document).scrollTop())<f.scrollSensitivity)g=b(document).scrollTop(b(document).scrollTop()+
f.scrollSpeed);if(c.pageX-b(document).scrollLeft()<f.scrollSensitivity)g=b(document).scrollLeft(b(document).scrollLeft()-f.scrollSpeed);else if(b(window).width()-(c.pageX-b(document).scrollLeft())<f.scrollSensitivity)g=b(document).scrollLeft(b(document).scrollLeft()+f.scrollSpeed)}g!==false&&b.ui.ddmanager&&!f.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+
"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(f=this.items.length-1;f>=0;f--){g=this.items[f];var m=g.item[0],l=this._intersectsWithPointer(g);if(l)if(m!=this.currentItem[0]&&this.placeholder[l==1?"next":"prev"]()[0]!=m&&!b.ui.contains(this.placeholder[0],m)&&(this.options.type=="semi-dynamic"?!b.ui.contains(this.element[0],m):true)){this.direction=l==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(g))this._rearrange(c,
g);else break;this._trigger("change",c,this._uiHash());break}}this._contactContainers(c);b.ui.ddmanager&&b.ui.ddmanager.drag(this,c);this._trigger("sort",c,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(c,f){if(c){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,c);if(this.options.revert){var g=this;f=g.placeholder.offset();g.reverting=true;b(this.helper).animate({left:f.left-this.offset.parent.left-g.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-g.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){g._clear(c)})}else this._clear(c,f);return false}},cancel:function(){if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",
null,this._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,this._uiHash(this));this.containers[c].containerCache.over=0}}}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem);return true},serialize:function(c){var f=this._getItemsAsjQuery(c&&c.connected),g=[];c=c||{};b(f).each(function(){var m=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);if(m)g.push((c.key||m[1]+"[]")+"="+(c.key&&c.expression?m[1]:m[2]))});return g.join("&")},toArray:function(c){var f=this._getItemsAsjQuery(c&&c.connected),g=[];c=c||{};f.each(function(){g.push(b(c.item||this).attr(c.attribute||"id")||"")});return g},
_intersectsWith:function(c){var f=this.positionAbs.left,g=f+this.helperProportions.width,m=this.positionAbs.top,l=m+this.helperProportions.height,d=c.left,r=d+c.width,s=c.top,k=s+c.height,j=this.offset.click.top,w=this.offset.click.left;j=m+j>s&&m+j<k&&f+w>d&&f+w<r;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?j:d<f+this.helperProportions.width/
2&&g-this.helperProportions.width/2<r&&s<m+this.helperProportions.height/2&&l-this.helperProportions.height/2<k},_intersectsWithPointer:function(c){var f=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);f=f&&c;c=this._getDragVerticalDirection();var g=this._getDragHorizontalDirection();if(!f)return false;return this.floating?g&&g=="right"||c=="down"?2:1:c&&(c=="down"?2:1)},_intersectsWithSides:function(c){var f=
b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var g=this._getDragVerticalDirection(),m=this._getDragHorizontalDirection();return this.floating&&m?m=="right"&&c||m=="left"&&!c:g&&(g=="down"&&f||g=="up"&&!f)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=
this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions()},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){var f=[],g=[],m=this._connectWith();if(m&&c)for(c=m.length-1;c>=0;c--)for(var l=b(m[c]),d=l.length-1;d>=0;d--){var r=b.data(l[d],"sortable");if(r&&r!=this&&!r.options.disabled)g.push([b.isFunction(r.options.items)?
r.options.items.call(r.element):b(r.options.items,r.element).not(".ui-sortable-helper"),r])}g.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper"),this]);for(c=g.length-1;c>=0;c--)g[c][0].each(function(){f.push(this)});return b(f)},_removeCurrentsFromItems:function(){for(var c=this.currentItem.find(":data(sortable-item)"),f=0;f<this.items.length;f++)for(var g=0;g<
c.length;g++)c[g]==this.items[f].item[0]&&this.items.splice(f,1)},_refreshItems:function(c){this.items=[];this.containers=[this];var f=this.items,g=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):b(this.options.items,this.element),this]],m=this._connectWith();if(m)for(var l=m.length-1;l>=0;l--)for(var d=b(m[l]),r=d.length-1;r>=0;r--){var s=b.data(d[r],"sortable");if(s&&s!=this&&!s.options.disabled){g.push([b.isFunction(s.options.items)?s.options.items.call(s.element[0],
c,{item:this.currentItem}):b(s.options.items,s.element),s]);this.containers.push(s)}}for(l=g.length-1;l>=0;l--){c=g[l][1];m=g[l][0];r=0;for(d=m.length;r<d;r++){s=b(m[r]);s.data("sortable-item",c);f.push({item:s,instance:c,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var f=this.items.length-1;f>=0;f--){var g=this.items[f];if(!(g.instance!=this.currentContainer&&this.currentContainer&&g.item[0]!=this.currentItem[0])){var m=
this.options.toleranceElement?b(this.options.toleranceElement,g.item):g.item;if(!c){g.width=m.outerWidth();g.height=m.outerHeight()}m=m.offset();g.left=m.left;g.top=m.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(f=this.containers.length-1;f>=0;f--){m=this.containers[f].element.offset();this.containers[f].containerCache.left=m.left;this.containers[f].containerCache.top=m.top;this.containers[f].containerCache.width=this.containers[f].element.outerWidth();
this.containers[f].containerCache.height=this.containers[f].element.outerHeight()}},_createPlaceholder:function(c){var f=c||this,g=f.options;if(!g.placeholder||g.placeholder.constructor==String){var m=g.placeholder;g.placeholder={element:function(){var l=b(document.createElement(f.currentItem[0].nodeName)).addClass(m||f.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!m)l.style.visibility="hidden";return l},update:function(l,d){if(!(m&&!g.forcePlaceholderSize)){d.height()||
d.height(f.currentItem.innerHeight()-parseInt(f.currentItem.css("paddingTop")||0,10)-parseInt(f.currentItem.css("paddingBottom")||0,10));d.width()||d.width(f.currentItem.innerWidth()-parseInt(f.currentItem.css("paddingLeft")||0,10)-parseInt(f.currentItem.css("paddingRight")||0,10))}}}}f.placeholder=b(g.placeholder.element.call(f.element,f.currentItem));f.currentItem.after(f.placeholder);g.placeholder.update(f,f.placeholder)},_contactContainers:function(c){for(var f=this.containers.length-1;f>=0;f--)if(this._intersectsWith(this.containers[f].containerCache)){if(!this.containers[f].containerCache.over){if(this.currentContainer!=
this.containers[f]){for(var g=1E4,m=null,l=this.positionAbs[this.containers[f].floating?"left":"top"],d=this.items.length-1;d>=0;d--)if(b.ui.contains(this.containers[f].element[0],this.items[d].item[0])){var r=this.items[d][this.containers[f].floating?"left":"top"];if(Math.abs(r-l)<g){g=Math.abs(r-l);m=this.items[d]}}if(!m&&!this.options.dropOnEmpty)continue;this.currentContainer=this.containers[f];m?this._rearrange(c,m,null,true):this._rearrange(c,null,this.containers[f].element,true);this._trigger("change",
c,this._uiHash());this.containers[f]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder)}this.containers[f]._trigger("over",c,this._uiHash(this));this.containers[f].containerCache.over=1}}else if(this.containers[f].containerCache.over){this.containers[f]._trigger("out",c,this._uiHash(this));this.containers[f].containerCache.over=0}},_createHelper:function(c){var f=this.options;c=b.isFunction(f.helper)?b(f.helper.apply(this.element[0],[c,
this.currentItem])):f.helper=="clone"?this.currentItem.clone():this.currentItem;c.parents("body").length||b(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]);if(c[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(c[0].style.width==""||f.forceHelperSize)c.width(this.currentItem.width());
if(c[0].style.height==""||f.forceHelperSize)c.height(this.currentItem.height());return c},_adjustOffsetFromHelper:function(c){if(c.left!=undefined)this.offset.click.left=c.left+this.margins.left;if(c.right!=undefined)this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;if(c.top!=undefined)this.offset.click.top=c.top+this.margins.top;if(c.bottom!=undefined)this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment=="parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(c.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(c.containment=="document"?document:window).height()||
document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)){var f=b(c.containment)[0];c=b(c.containment).offset();var g=b(f).css("overflow")!="hidden";this.containment=[c.left+(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(f).css("borderTopWidth"),10)||0)+(parseInt(b(f).css("paddingTop"),10)||0)-this.margins.top,c.left+(g?Math.max(f.scrollWidth,
f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(g?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(c,f){if(!f)f=this.position;c=c=="absolute"?1:-1;var g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=
document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,m=/(html|body)/i.test(g[0].tagName);return{top:f.top+this.offset.relative.top*c+this.offset.parent.top*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():m?0:g.scrollTop())*c),left:f.left+this.offset.relative.left*c+this.offset.parent.left*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
m?0:g.scrollLeft())*c)}},_generatePosition:function(c){var f=this.options,g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,m=/(html|body)/i.test(g[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var l=c.pageX,d=c.pageY;if(this.originalPosition){if(this.containment){if(c.pageX-
this.offset.click.left<this.containment[0])l=this.containment[0]+this.offset.click.left;if(c.pageY-this.offset.click.top<this.containment[1])d=this.containment[1]+this.offset.click.top;if(c.pageX-this.offset.click.left>this.containment[2])l=this.containment[2]+this.offset.click.left;if(c.pageY-this.offset.click.top>this.containment[3])d=this.containment[3]+this.offset.click.top}if(f.grid){d=this.originalPageY+Math.round((d-this.originalPageY)/f.grid[1])*f.grid[1];d=this.containment?!(d-this.offset.click.top<
this.containment[1]||d-this.offset.click.top>this.containment[3])?d:!(d-this.offset.click.top<this.containment[1])?d-f.grid[1]:d+f.grid[1]:d;l=this.originalPageX+Math.round((l-this.originalPageX)/f.grid[0])*f.grid[0];l=this.containment?!(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l:!(l-this.offset.click.left<this.containment[0])?l-f.grid[0]:l+f.grid[0]:l}}return{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&
this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():m?0:g.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():m?0:g.scrollLeft())}},_rearrange:function(c,f,g,m){g?g[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?f.item[0]:f.item[0].nextSibling);this.counter=
this.counter?++this.counter:1;var l=this,d=this.counter;window.setTimeout(function(){d==l.counter&&l.refreshPositions(!m)},0)},_clear:function(c,f){this.reverting=false;var g=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var m in this._storedCSS)if(this._storedCSS[m]=="auto"||this._storedCSS[m]=="static")this._storedCSS[m]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!f&&g.push(function(l){this._trigger("receive",l,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!f)g.push(function(l){this._trigger("update",l,this._uiHash())});if(!b.ui.contains(this.element[0],this.currentItem[0])){f||g.push(function(l){this._trigger("remove",l,this._uiHash())});for(m=this.containers.length-1;m>=0;m--)if(b.ui.contains(this.containers[m].element[0],
this.currentItem[0])&&!f){g.push(function(l){return function(d){l._trigger("receive",d,this._uiHash(this))}}.call(this,this.containers[m]));g.push(function(l){return function(d){l._trigger("update",d,this._uiHash(this))}}.call(this,this.containers[m]))}}for(m=this.containers.length-1;m>=0;m--){f||g.push(function(l){return function(d){l._trigger("deactivate",d,this._uiHash(this))}}.call(this,this.containers[m]));if(this.containers[m].containerCache.over){g.push(function(l){return function(d){l._trigger("out",
d,this._uiHash(this))}}.call(this,this.containers[m]));this.containers[m].containerCache.over=0}}this._storedCursor&&b("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",c,this._uiHash());for(m=0;m<g.length;m++)g[m].call(this,c);this._trigger("stop",c,this._uiHash())}return false}f||
this._trigger("beforeStop",c,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!f){for(m=0;m<g.length;m++)g[m].call(this,c);this._trigger("stop",c,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){b.widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(c){var f=c||this;return{helper:f.helper,placeholder:f.placeholder||b([]),position:f.position,
absolutePosition:f.positionAbs,offset:f.positionAbs,item:f.currentItem,sender:c?c.element:null}}}));b.extend(b.ui.sortable,{getter:"serialize toArray",version:"1.7.2",eventPrefix:"sort",defaults:{appendTo:"parent",axis:false,cancel:":input,option",connectWith:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,
scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3}})})(jQuery);
(function(b){var c={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"};b.widget("ui.dialog",{_init:function(){this.originalTitle=this.element.attr("title");var f=this,g=this.options,m=g.title||this.originalTitle||"&nbsp;",l=b.ui.dialog.getTitleId(this.element),d=(this.uiDialog=
b("<div/>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+g.dialogClass).css({position:"absolute",overflow:"hidden",zIndex:g.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(k){g.closeOnEscape&&k.keyCode&&k.keyCode==b.ui.keyCode.ESCAPE&&f.close(k)}).attr({role:"dialog","aria-labelledby":l}).mousedown(function(k){f.moveToTop(false,k)});this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(d);
var r=(this.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(d),s=b('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){s.addClass("ui-state-hover")},function(){s.removeClass("ui-state-hover")}).focus(function(){s.addClass("ui-state-focus")}).blur(function(){s.removeClass("ui-state-focus")}).mousedown(function(k){k.stopPropagation()}).click(function(k){f.close(k);return false}).appendTo(r);
(this.uiDialogTitlebarCloseText=b("<span/>")).addClass("ui-icon ui-icon-closethick").text(g.closeText).appendTo(s);b("<span/>").addClass("ui-dialog-title").attr("id",l).html(m).prependTo(r);r.find("*").add(r).disableSelection();g.draggable&&b.fn.draggable&&this._makeDraggable();g.resizable&&b.fn.resizable&&this._makeResizable();this._createButtons(g.buttons);this._isOpen=false;g.bgiframe&&b.fn.bgiframe&&d.bgiframe();g.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();
this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle)},close:function(f){var g=this;if(false!==g._trigger("beforeclose",f)){g.overlay&&g.overlay.destroy();g.uiDialog.unbind("keypress.ui-dialog");g.options.hide?g.uiDialog.hide(g.options.hide,function(){g._trigger("close",f)}):g.uiDialog.hide()&&g._trigger("close",f);b.ui.dialog.overlay.resize();
g._isOpen=false;if(g.options.modal){var m=0;b(".ui-dialog").each(function(){if(this!=g.uiDialog[0])m=Math.max(m,b(this).css("z-index"))});b.ui.dialog.maxZ=m}}},isOpen:function(){return this._isOpen},moveToTop:function(f,g){if(this.options.modal&&!f||!this.options.stack&&!this.options.modal)return this._trigger("focus",g);if(this.options.zIndex>b.ui.dialog.maxZ)b.ui.dialog.maxZ=this.options.zIndex;this.overlay&&this.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=++b.ui.dialog.maxZ);f={scrollTop:this.element.attr("scrollTop"),
scrollLeft:this.element.attr("scrollLeft")};this.uiDialog.css("z-index",++b.ui.dialog.maxZ);this.element.attr(f);this._trigger("focus",g)},open:function(){if(!this._isOpen){var f=this.options,g=this.uiDialog;this.overlay=f.modal?new b.ui.dialog.overlay(this):null;g.next().length&&g.appendTo("body");this._size();this._position(f.position);g.show(f.show);this.moveToTop(true);f.modal&&g.bind("keypress.ui-dialog",function(m){if(m.keyCode==b.ui.keyCode.TAB){var l=b(":tabbable",this),d=l.filter(":first")[0],
r=l.filter(":last")[0];if(m.target==r&&!m.shiftKey)setTimeout(function(){d.focus()},1);else m.target==d&&m.shiftKey&&setTimeout(function(){r.focus()},1)}});b([]).add(g.find(".ui-dialog-content :tabbable:first")).add(g.find(".ui-dialog-buttonpane :tabbable:first")).add(g).filter(":first").focus();this._trigger("open");this._isOpen=true}},_createButtons:function(f){var g=this,m=false,l=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiDialog.find(".ui-dialog-buttonpane").remove();
typeof f=="object"&&f!==null&&b.each(f,function(){return!(m=true)});if(m){b.each(f,function(d,r){b('<button type="button"></button>').addClass("ui-state-default ui-corner-all").text(d).click(function(){r.apply(g.element[0],arguments)}).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}).focus(function(){b(this).addClass("ui-state-focus")}).blur(function(){b(this).removeClass("ui-state-focus")}).appendTo(l)});l.appendTo(this.uiDialog)}},_makeDraggable:function(){var f=
this,g=this.options,m;this.uiDialog.draggable({cancel:".ui-dialog-content",handle:".ui-dialog-titlebar",containment:"document",start:function(){m=g.height;b(this).height(b(this).height()).addClass("ui-dialog-dragging");g.dragStart&&g.dragStart.apply(f.element[0],arguments)},drag:function(){g.drag&&g.drag.apply(f.element[0],arguments)},stop:function(){b(this).removeClass("ui-dialog-dragging").height(m);g.dragStop&&g.dragStop.apply(f.element[0],arguments);b.ui.dialog.overlay.resize()}})},_makeResizable:function(f){f=
f===undefined?this.options.resizable:f;var g=this,m=this.options;this.uiDialog.resizable({cancel:".ui-dialog-content",alsoResize:this.element,maxWidth:m.maxWidth,maxHeight:m.maxHeight,minWidth:m.minWidth,minHeight:m.minHeight,start:function(){b(this).addClass("ui-dialog-resizing");m.resizeStart&&m.resizeStart.apply(g.element[0],arguments)},resize:function(){m.resize&&m.resize.apply(g.element[0],arguments)},handles:typeof f=="string"?f:"n,e,s,w,se,sw,ne,nw",stop:function(){b(this).removeClass("ui-dialog-resizing");
m.height=b(this).height();m.width=b(this).width();m.resizeStop&&m.resizeStop.apply(g.element[0],arguments);b.ui.dialog.overlay.resize()}}).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_position:function(f){var g=b(window),m=b(document),l=m.scrollTop();m=m.scrollLeft();var d=l;if(b.inArray(f,["center","top","right","bottom","left"])>=0)f=[f=="right"||f=="left"?f:"center",f=="top"||f=="bottom"?f:"middle"];if(f.constructor!=Array)f=["center","middle"];if(f[0].constructor==Number)m+=
f[0];else switch(f[0]){case "left":m+=0;break;case "right":m+=g.width()-this.uiDialog.outerWidth();break;default:case "center":m+=(g.width()-this.uiDialog.outerWidth())/2}if(f[1].constructor==Number)l+=f[1];else switch(f[1]){case "top":l+=0;break;case "bottom":l+=g.height()-this.uiDialog.outerHeight();break;default:case "middle":l+=(g.height()-this.uiDialog.outerHeight())/2}l=Math.max(l,d);this.uiDialog.css({top:l,left:m})},_setData:function(f,g){c[f]&&this.uiDialog.data(c[f],g);switch(f){case "buttons":this._createButtons(g);
break;case "closeText":this.uiDialogTitlebarCloseText.text(g);break;case "dialogClass":this.uiDialog.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+g);break;case "draggable":g?this._makeDraggable():this.uiDialog.draggable("destroy");break;case "height":this.uiDialog.height(g);break;case "position":this._position(g);break;case "resizable":var m=this.uiDialog,l=this.uiDialog.is(":data(resizable)");l&&!g&&m.resizable("destroy");l&&typeof g=="string"&&
m.resizable("option","handles",g);l||this._makeResizable(g);break;case "title":b(".ui-dialog-title",this.uiDialogTitlebar).html(g||"&nbsp;");break;case "width":this.uiDialog.width(g);break}b.widget.prototype._setData.apply(this,arguments)},_size:function(){var f=this.options;this.element.css({height:0,minHeight:0,width:"auto"});var g=this.uiDialog.css({height:"auto",width:f.width}).height();this.element.css({minHeight:Math.max(f.minHeight-g,0),height:f.height=="auto"?"auto":Math.max(f.height-g,0)})}});
b.extend(b.ui.dialog,{version:"1.7.2",defaults:{autoOpen:true,bgiframe:false,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:"center",resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},getter:"isOpen",uuid:0,maxZ:0,getTitleId:function(f){return"ui-dialog-title-"+(f.attr("id")||++this.uuid)},overlay:function(f){this.$el=b.ui.dialog.overlay.create(f)}});
b.extend(b.ui.dialog.overlay,{instances:[],maxZ:0,events:b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(f){return f+".dialog-overlay"}).join(" "),create:function(f){if(this.instances.length===0){setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,function(m){return(b(m.target).parents(".ui-dialog").css("zIndex")||0)>b.ui.dialog.overlay.maxZ})},1);b(document).bind("keydown.dialog-overlay",function(m){f.options.closeOnEscape&&
m.keyCode&&m.keyCode==b.ui.keyCode.ESCAPE&&f.close(m)});b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize)}var g=b("<div></div>").appendTo(document.body).addClass("ui-widget-overlay").css({width:this.width(),height:this.height()});f.options.bgiframe&&b.fn.bgiframe&&g.bgiframe();this.instances.push(g);return g},destroy:function(f){this.instances.splice(b.inArray(this.instances,f),1);this.instances.length===0&&b([document,window]).unbind(".dialog-overlay");f.remove();var g=0;b.each(this.instances,
function(){g=Math.max(g,this.css("z-index"))});this.maxZ=g},height:function(){if(b.browser.msie&&b.browser.version<7){var f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),g=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return f<g?b(window).height()+"px":f+"px"}else return b(document).height()+"px"},width:function(){if(b.browser.msie&&b.browser.version<7){var f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),g=Math.max(document.documentElement.offsetWidth,
document.body.offsetWidth);return f<g?b(window).width()+"px":f+"px"}else return b(document).width()+"px"},resize:function(){var f=b([]);b.each(b.ui.dialog.overlay.instances,function(){f=f.add(this)});f.css({width:0,height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function(b){b.widget("ui.tabs",{_init:function(){if(this.options.deselectable!==undefined)this.options.collapsible=this.options.deselectable;this._tabify(true)},_setData:function(c,f){if(c=="selected")this.options.collapsible&&f==this.options.selected||this.select(f);else{this.options[c]=f;if(c=="deselectable")this.options.collapsible=f;this._tabify()}},_tabId:function(c){return c.title&&c.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+b.data(c)},_sanitizeSelector:function(c){return c.replace(/:/g,
"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+b.data(this.list[0]));return b.cookie.apply(null,[c].concat(b.makeArray(arguments)))},_ui:function(c,f){return{tab:c,panel:f,index:this.anchors.index(c)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var c=b(this);c.html(c.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function f(B,F){B.css({display:""});
b.browser.msie&&F.opacity&&B[0].style.removeAttribute("filter")}this.list=this.element.children("ul:first");this.lis=b("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return b("a",this)[0]});this.panels=b([]);var g=this,m=this.options,l=/^#.+/;this.anchors.each(function(B,F){var G=b(F).attr("href"),i=G.split("#")[0],aa;if(i&&(i===location.toString().split("#")[0]||(aa=b("base")[0])&&i===aa.href)){G=F.hash;F.href=G}if(l.test(G))g.panels=g.panels.add(g._sanitizeSelector(G));else if(G!=
"#"){b.data(F,"href.tabs",G);b.data(F,"load.tabs",G.replace(/#.*$/,""));G=g._tabId(F);F.href="#"+G;F=b("#"+G);if(!F.length){F=b(m.panelTemplate).attr("id",G).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(g.panels[B-1]||g.list);F.data("destroy.tabs",true)}g.panels=g.panels.add(F)}else m.disabled.push(B)});if(c){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");
this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(m.selected===undefined){location.hash&&this.anchors.each(function(B,F){if(F.hash==location.hash){m.selected=B;return false}});if(typeof m.selected!="number"&&m.cookie)m.selected=parseInt(g._cookie(),10);if(typeof m.selected!="number"&&this.lis.filter(".ui-tabs-selected").length)m.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));m.selected=m.selected||0}else if(m.selected===
null)m.selected=-1;m.selected=m.selected>=0&&this.anchors[m.selected]||m.selected<0?m.selected:0;m.disabled=b.unique(m.disabled.concat(b.map(this.lis.filter(".ui-state-disabled"),function(B){return g.lis.index(B)}))).sort();b.inArray(m.selected,m.disabled)!=-1&&m.disabled.splice(b.inArray(m.selected,m.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(m.selected>=0&&this.anchors.length){this.panels.eq(m.selected).removeClass("ui-tabs-hide");
this.lis.eq(m.selected).addClass("ui-tabs-selected ui-state-active");g.element.queue("tabs",function(){g._trigger("show",null,g._ui(g.anchors[m.selected],g.panels[m.selected]))});this.load(m.selected)}b(window).bind("unload",function(){g.lis.add(g.anchors).unbind(".tabs");g.lis=g.anchors=g.panels=null})}else m.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[m.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");m.cookie&&this._cookie(m.selected,m.cookie);c=0;for(var d;d=
this.lis[c];c++)b(d)[b.inArray(c,m.disabled)!=-1&&!b(d).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");m.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(m.event!="mouseover"){var r=function(B,F){F.is(":not(.ui-state-disabled)")&&F.addClass("ui-state-"+B)},s=function(B,F){F.removeClass("ui-state-"+B)};this.lis.bind("mouseover.tabs",function(){r("hover",b(this))});this.lis.bind("mouseout.tabs",function(){s("hover",b(this))});
this.anchors.bind("focus.tabs",function(){r("focus",b(this).closest("li"))});this.anchors.bind("blur.tabs",function(){s("focus",b(this).closest("li"))})}var k,j;if(m.fx)if(b.isArray(m.fx)){k=m.fx[0];j=m.fx[1]}else k=j=m.fx;var w=j?function(B,F){b(B).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");F.hide().removeClass("ui-tabs-hide").animate(j,j.duration||"normal",function(){f(F,j);g._trigger("show",null,g._ui(B,F[0]))})}:function(B,F){b(B).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");
F.removeClass("ui-tabs-hide");g._trigger("show",null,g._ui(B,F[0]))},C=k?function(B,F){F.animate(k,k.duration||"normal",function(){g.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");F.addClass("ui-tabs-hide");f(F,k);g.element.dequeue("tabs")})}:function(B,F){g.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");F.addClass("ui-tabs-hide");g.element.dequeue("tabs")};this.anchors.bind(m.event+".tabs",function(){var B=this,F=b(this).closest("li"),
G=g.panels.filter(":not(.ui-tabs-hide)"),i=b(g._sanitizeSelector(this.hash));if(F.hasClass("ui-tabs-selected")&&!m.collapsible||F.hasClass("ui-state-disabled")||F.hasClass("ui-state-processing")||g._trigger("select",null,g._ui(this,i[0]))===false){this.blur();return false}m.selected=g.anchors.index(this);g.abort();if(m.collapsible)if(F.hasClass("ui-tabs-selected")){m.selected=-1;m.cookie&&g._cookie(m.selected,m.cookie);g.element.queue("tabs",function(){C(B,G)}).dequeue("tabs");this.blur();return false}else if(!G.length){m.cookie&&
g._cookie(m.selected,m.cookie);g.element.queue("tabs",function(){w(B,i)});g.load(g.anchors.index(this));this.blur();return false}m.cookie&&g._cookie(m.selected,m.cookie);if(i.length){G.length&&g.element.queue("tabs",function(){C(B,G)});g.element.queue("tabs",function(){w(B,i)});g.load(g.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";b.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},destroy:function(){var c=this.options;this.abort();
this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var f=b.data(this,"href.tabs");if(f)this.href=f;var g=b(this).unbind(".tabs");b.each(["href","load","cache"],function(m,l){g.removeData(l+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){b.data(this,"destroy.tabs")?
b(this).remove():b(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});c.cookie&&this._cookie(null,c.cookie)},add:function(c,f,g){if(g===undefined)g=this.anchors.length;var m=this,l=this.options;f=b(l.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,f));c=!c.indexOf("#")?c.replace("#",""):this._tabId(b("a",f)[0]);f.addClass("ui-state-default ui-corner-top").data("destroy.tabs",
true);var d=b("#"+c);d.length||(d=b(l.panelTemplate).attr("id",c).data("destroy.tabs",true));d.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(g>=this.lis.length){f.appendTo(this.list);d.appendTo(this.list[0].parentNode)}else{f.insertBefore(this.lis[g]);d.insertBefore(this.panels[g])}l.disabled=b.map(l.disabled,function(r){return r>=g?++r:r});this._tabify();if(this.anchors.length==1){f.addClass("ui-tabs-selected ui-state-active");d.removeClass("ui-tabs-hide");this.element.queue("tabs",
function(){m._trigger("show",null,m._ui(m.anchors[0],m.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[g],this.panels[g]))},remove:function(c){var f=this.options,g=this.lis.eq(c).remove(),m=this.panels.eq(c).remove();if(g.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(c+(c+1<this.anchors.length?1:-1));f.disabled=b.map(b.grep(f.disabled,function(l){return l!=c}),function(l){return l>=c?--l:l});this._tabify();this._trigger("remove",null,this._ui(g.find("a")[0],
m[0]))},enable:function(c){var f=this.options;if(b.inArray(c,f.disabled)!=-1){this.lis.eq(c).removeClass("ui-state-disabled");f.disabled=b.grep(f.disabled,function(g){return g!=c});this._trigger("enable",null,this._ui(this.anchors[c],this.panels[c]))}},disable:function(c){var f=this.options;if(c!=f.selected){this.lis.eq(c).addClass("ui-state-disabled");f.disabled.push(c);f.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c]))}},select:function(c){if(typeof c=="string")c=
this.anchors.index(this.anchors.filter("[href$="+c+"]"));else if(c===null)c=-1;if(c==-1&&this.options.collapsible)c=this.options.selected;this.anchors.eq(c).trigger(this.options.event+".tabs")},load:function(c){var f=this,g=this.options,m=this.anchors.eq(c)[0],l=b.data(m,"load.tabs");this.abort();if(!l||this.element.queue("tabs").length!==0&&b.data(m,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(c).addClass("ui-state-processing");if(g.spinner){var d=b("span",m);d.data("label.tabs",d.html()).html(g.spinner)}this.xhr=
b.ajax(b.extend({},g.ajaxOptions,{url:l,success:function(r,s){b(f._sanitizeSelector(m.hash)).html(r);f._cleanup();g.cache&&b.data(m,"cache.tabs",true);f._trigger("load",null,f._ui(f.anchors[c],f.panels[c]));try{g.ajaxOptions.success(r,s)}catch(k){}f.element.dequeue("tabs")}}))}},abort:function(){this.element.queue([]);this.panels.stop(false,true);if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup()},url:function(c,f){this.anchors.eq(c).removeData("cache.tabs").data("load.tabs",f)},length:function(){return this.anchors.length}});
b.extend(b.ui.tabs,{version:"1.7.2",getter:"length",defaults:{ajaxOptions:null,cache:false,cookie:null,collapsible:false,disabled:[],event:"click",fx:null,idPrefix:"ui-tabs-",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'}});b.extend(b.ui.tabs.prototype,{rotation:null,rotate:function(c,f){var g=this,m=this.options,l=g._rotate||(g._rotate=function(d){clearTimeout(g.rotation);g.rotation=setTimeout(function(){var r=m.selected;
g.select(++r<g.anchors.length?r:0)},c);d&&d.stopPropagation()});f=g._unrotate||(g._unrotate=!f?function(d){d.clientX&&g.rotate(null)}:function(){t=m.selected;l()});if(c){this.element.bind("tabsshow",l);this.anchors.bind(m.event+".tabs",f);l()}else{clearTimeout(g.rotation);this.element.unbind("tabsshow",l);this.anchors.unbind(m.event+".tabs",f);delete this._rotate;delete this._unrotate}}})})(jQuery);
jQuery.effects||function(b){function c(l,d){var r=l[1]&&l[1].constructor==Object?l[1]:{};if(d)r.mode=d;d=l[1]&&l[1].constructor!=Object?l[1]:r.duration?r.duration:l[2];d=b.fx.off?0:typeof d==="number"?d:b.fx.speeds[d]||b.fx.speeds._default;var s=r.callback||b.isFunction(l[1])&&l[1]||b.isFunction(l[2])&&l[2]||b.isFunction(l[3])&&l[3];return[l[0],r,d,s]}function f(l){var d;if(l&&l.constructor==Array&&l.length==3)return l;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(l))return[parseInt(d[1],
10),parseInt(d[2],10),parseInt(d[3],10)];if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(l))return[parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55];if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(l))return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)];if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(l))return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(l))return m.transparent;
return m[b.trim(l).toLowerCase()]}function g(l,d){var r;do{r=b.curCSS(l,d);if(r!=""&&r!="transparent"||b.nodeName(l,"body"))break;d="backgroundColor"}while(l=l.parentNode);return f(r)}b.effects={version:"1.7.2",save:function(l,d){for(var r=0;r<d.length;r++)d[r]!==null&&l.data("ec.storage."+d[r],l[0].style[d[r]])},restore:function(l,d){for(var r=0;r<d.length;r++)d[r]!==null&&l.css(d[r],l.data("ec.storage."+d[r]))},setMode:function(l,d){if(d=="toggle")d=l.is(":hidden")?"show":"hide";return d},getBaseline:function(l,
d){var r;switch(l[0]){case "top":r=0;break;case "middle":r=0.5;break;case "bottom":r=1;break;default:r=l[0]/d.height}switch(l[1]){case "left":l=0;break;case "center":l=0.5;break;case "right":l=1;break;default:l=l[1]/d.width}return{x:l,y:r}},createWrapper:function(l){if(l.parent().is(".ui-effects-wrapper"))return l.parent();var d={width:l.outerWidth(true),height:l.outerHeight(true),"float":l.css("float")};l.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');
var r=l.parent();if(l.css("position")=="static"){r.css({position:"relative"});l.css({position:"relative"})}else{var s=l.css("top");if(isNaN(parseInt(s,10)))s="auto";var k=l.css("left");if(isNaN(parseInt(k,10)))k="auto";r.css({position:l.css("position"),top:s,left:k,zIndex:l.css("z-index")}).show();l.css({position:"relative",top:0,left:0})}r.css(d);return r},removeWrapper:function(l){if(l.parent().is(".ui-effects-wrapper"))return l.parent().replaceWith(l);return l},setTransition:function(l,d,r,s){s=
s||{};b.each(d,function(k,j){unit=l.cssUnit(j);if(unit[0]>0)s[j]=unit[0]*r+unit[1]});return s},animateClass:function(l,d,r,s){var k=typeof r=="function"?r:s?s:null,j=typeof r=="string"?r:null;return this.each(function(){var w={},C=b(this),B=C.attr("style")||"";if(typeof B=="object")B=B.cssText;if(l.toggle)C.hasClass(l.toggle)?(l.remove=l.toggle):(l.add=l.toggle);var F=b.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);l.add&&C.addClass(l.add);l.remove&&
C.removeClass(l.remove);var G=b.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);l.add&&C.removeClass(l.add);l.remove&&C.addClass(l.remove);for(var i in G)if(typeof G[i]!="function"&&G[i]&&i.indexOf("Moz")==-1&&i.indexOf("length")==-1&&G[i]!=F[i]&&(i.match(/color/i)||!i.match(/color/i)&&!isNaN(parseInt(G[i],10)))&&(F.position!="static"||F.position=="static"&&!i.match(/left|top|bottom|right/)))w[i]=G[i];C.animate(w,d,j,function(){if(typeof b(this).attr("style")==
"object"){b(this).attr("style").cssText="";b(this).attr("style").cssText=B}else b(this).attr("style",B);l.add&&b(this).addClass(l.add);l.remove&&b(this).removeClass(l.remove);k&&k.apply(this,arguments)})})}};b.fn.extend({_show:b.fn.show,_hide:b.fn.hide,__toggle:b.fn.toggle,_addClass:b.fn.addClass,_removeClass:b.fn.removeClass,_toggleClass:b.fn.toggleClass,effect:function(l,d,r,s){return b.effects[l]?b.effects[l].call(this,{method:l,options:d||{},duration:r,callback:s}):null},show:function(){return!arguments[0]||
arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._show.apply(this,arguments):this.effect.apply(this,c(arguments,"show"))},hide:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._hide.apply(this,arguments):this.effect.apply(this,c(arguments,"hide"))},toggle:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])||b.isFunction(arguments[0])||typeof arguments[0]==
"boolean"?this.__toggle.apply(this,arguments):this.effect.apply(this,c(arguments,"toggle"))},addClass:function(l,d,r,s){return d?b.effects.animateClass.apply(this,[{add:l},d,r,s]):this._addClass(l)},removeClass:function(l,d,r,s){return d?b.effects.animateClass.apply(this,[{remove:l},d,r,s]):this._removeClass(l)},toggleClass:function(l,d,r,s){return typeof d!=="boolean"&&d?b.effects.animateClass.apply(this,[{toggle:l},d,r,s]):this._toggleClass(l,d)},morph:function(l,d,r,s,k){return b.effects.animateClass.apply(this,
[{add:d,remove:l},r,s,k])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(l){var d=this.css(l),r=[];b.each(["em","px","%","pt"],function(s,k){if(d.indexOf(k)>0)r=[parseFloat(d),k]});return r}});b.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(l,d){b.fx.step[d]=function(r){if(r.state==0){r.start=g(r.elem,d);r.end=f(r.end)}r.elem.style[d]="rgb("+[Math.max(Math.min(parseInt(r.pos*(r.end[0]-
r.start[0])+r.start[0],10),255),0),Math.max(Math.min(parseInt(r.pos*(r.end[1]-r.start[1])+r.start[1],10),255),0),Math.max(Math.min(parseInt(r.pos*(r.end[2]-r.start[2])+r.start[2],10),255),0)].join(",")+")"}});var m={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,
140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,
0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};b.easing.jswing=b.easing.swing;b.extend(b.easing,{def:"easeOutQuad",swing:function(l,d,r,s,k){return b.easing[b.easing.def](l,d,r,s,k)},easeInQuad:function(l,d,r,s,k){return s*(d/=k)*d+r},easeOutQuad:function(l,d,r,s,k){return-s*(d/=k)*(d-2)+r},easeInOutQuad:function(l,d,r,s,k){if((d/=k/2)<1)return s/2*d*d+r;return-s/2*(--d*(d-2)-1)+r},easeInCubic:function(l,d,r,s,k){return s*(d/=k)*d*d+r},easeOutCubic:function(l,
d,r,s,k){return s*((d=d/k-1)*d*d+1)+r},easeInOutCubic:function(l,d,r,s,k){if((d/=k/2)<1)return s/2*d*d*d+r;return s/2*((d-=2)*d*d+2)+r},easeInQuart:function(l,d,r,s,k){return s*(d/=k)*d*d*d+r},easeOutQuart:function(l,d,r,s,k){return-s*((d=d/k-1)*d*d*d-1)+r},easeInOutQuart:function(l,d,r,s,k){if((d/=k/2)<1)return s/2*d*d*d*d+r;return-s/2*((d-=2)*d*d*d-2)+r},easeInQuint:function(l,d,r,s,k){return s*(d/=k)*d*d*d*d+r},easeOutQuint:function(l,d,r,s,k){return s*((d=d/k-1)*d*d*d*d+1)+r},easeInOutQuint:function(l,
d,r,s,k){if((d/=k/2)<1)return s/2*d*d*d*d*d+r;return s/2*((d-=2)*d*d*d*d+2)+r},easeInSine:function(l,d,r,s,k){return-s*Math.cos(d/k*(Math.PI/2))+s+r},easeOutSine:function(l,d,r,s,k){return s*Math.sin(d/k*(Math.PI/2))+r},easeInOutSine:function(l,d,r,s,k){return-s/2*(Math.cos(Math.PI*d/k)-1)+r},easeInExpo:function(l,d,r,s,k){return d==0?r:s*Math.pow(2,10*(d/k-1))+r},easeOutExpo:function(l,d,r,s,k){return d==k?r+s:s*(-Math.pow(2,-10*d/k)+1)+r},easeInOutExpo:function(l,d,r,s,k){if(d==0)return r;if(d==
k)return r+s;if((d/=k/2)<1)return s/2*Math.pow(2,10*(d-1))+r;return s/2*(-Math.pow(2,-10*--d)+2)+r},easeInCirc:function(l,d,r,s,k){return-s*(Math.sqrt(1-(d/=k)*d)-1)+r},easeOutCirc:function(l,d,r,s,k){return s*Math.sqrt(1-(d=d/k-1)*d)+r},easeInOutCirc:function(l,d,r,s,k){if((d/=k/2)<1)return-s/2*(Math.sqrt(1-d*d)-1)+r;return s/2*(Math.sqrt(1-(d-=2)*d)+1)+r},easeInElastic:function(l,d,r,s,k){l=1.70158;var j=0,w=s;if(d==0)return r;if((d/=k)==1)return r+s;j||(j=k*0.3);if(w<Math.abs(s)){w=s;l=j/4}else l=
j/(2*Math.PI)*Math.asin(s/w);return-(w*Math.pow(2,10*(d-=1))*Math.sin((d*k-l)*2*Math.PI/j))+r},easeOutElastic:function(l,d,r,s,k){l=1.70158;var j=0,w=s;if(d==0)return r;if((d/=k)==1)return r+s;j||(j=k*0.3);if(w<Math.abs(s)){w=s;l=j/4}else l=j/(2*Math.PI)*Math.asin(s/w);return w*Math.pow(2,-10*d)*Math.sin((d*k-l)*2*Math.PI/j)+s+r},easeInOutElastic:function(l,d,r,s,k){l=1.70158;var j=0,w=s;if(d==0)return r;if((d/=k/2)==2)return r+s;j||(j=k*0.3*1.5);if(w<Math.abs(s)){w=s;l=j/4}else l=j/(2*Math.PI)*Math.asin(s/
w);if(d<1)return-0.5*w*Math.pow(2,10*(d-=1))*Math.sin((d*k-l)*2*Math.PI/j)+r;return w*Math.pow(2,-10*(d-=1))*Math.sin((d*k-l)*2*Math.PI/j)*0.5+s+r},easeInBack:function(l,d,r,s,k,j){if(j==undefined)j=1.70158;return s*(d/=k)*d*((j+1)*d-j)+r},easeOutBack:function(l,d,r,s,k,j){if(j==undefined)j=1.70158;return s*((d=d/k-1)*d*((j+1)*d+j)+1)+r},easeInOutBack:function(l,d,r,s,k,j){if(j==undefined)j=1.70158;if((d/=k/2)<1)return s/2*d*d*(((j*=1.525)+1)*d-j)+r;return s/2*((d-=2)*d*(((j*=1.525)+1)*d+j)+2)+r},
easeInBounce:function(l,d,r,s,k){return s-b.easing.easeOutBounce(l,k-d,0,s,k)+r},easeOutBounce:function(l,d,r,s,k){return(d/=k)<1/2.75?s*7.5625*d*d+r:d<2/2.75?s*(7.5625*(d-=1.5/2.75)*d+0.75)+r:d<2.5/2.75?s*(7.5625*(d-=2.25/2.75)*d+0.9375)+r:s*(7.5625*(d-=2.625/2.75)*d+0.984375)+r},easeInOutBounce:function(l,d,r,s,k){if(d<k/2)return b.easing.easeInBounce(l,d*2,0,s,k)*0.5+r;return b.easing.easeOutBounce(l,d*2-k,0,s,k)*0.5+s*0.5+r}})}(jQuery);var SWFUpload,swfobject;if(SWFUpload==undefined)SWFUpload=function(b){this.initSWFUpload(b)};SWFUpload.prototype.initSWFUpload=function(b){try{this.customSettings={};this.settings={};this.eventQueue=[];this.movieName="SWFUpload_"+SWFUpload.movieCount++;this.movieElement=null;SWFUpload.instances[this.movieName]=this;this.initSettings(b);this.loadSupport();this.swfuploadPreload()&&this.loadFlash();this.displayDebugInfo()}catch(c){delete SWFUpload.instances[this.movieName];throw c;}};
SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.5.0 2010-01-15 Beta 2";SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290,RESIZE:-300};
SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2};SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.RESIZE_ENCODING={JPEG:-1,PNG:-2};
SWFUpload.completeURL=function(b){try{var c="",f=-1;if(typeof b!=="string"||b.match(/^https?:\/\//i)||b.match(/^\//)||b==="")return b;f=window.location.pathname.lastIndexOf("/");c=f<=0?"/":window.location.pathname.substr(0,f)+"/";return c+b}catch(g){return b}};SWFUpload.onload=function(){};a=SWFUpload.prototype;
a.initSettings=function(b){this.ensureDefault=function(c,f){var g=b[c];this.settings[c]=g!=undefined?g:f};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",false);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",false);this.ensureDefault("requeue_on_error",false);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description",
"All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("flash9_url","swfupload_fp9.swf");this.ensureDefault("prevent_swf_caching",true);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");
this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",false);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",false);this.settings.debug_enabled=this.settings.debug;
this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_preload_handler",null);this.ensureDefault("swfupload_load_failed_handler",null);this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_resize_start_handler",null);this.ensureDefault("upload_start_handler",
null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("mouse_click_handler",null);this.ensureDefault("mouse_out_handler",null);this.ensureDefault("mouse_over_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(this.settings.prevent_swf_caching){this.settings.flash_url=
this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime();this.settings.flash9_url=this.settings.flash9_url+(this.settings.flash9_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()}if(!this.settings.preserve_relative_urls){this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url);this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)}delete this.ensureDefault};
a.loadSupport=function(){this.support={loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}};
a.loadFlash=function(){var b,c,f;if(this.support.loading)if(document.getElementById(this.movieName)!==null){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"])}else{b=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(b==undefined){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["button place holder not found"])}else{c=(b.currentStyle&&b.currentStyle.display||window.getComputedStyle&&
document.defaultView.getComputedStyle(b,null).getPropertyValue("display"))!=="block"?"span":"div";c=document.createElement(c);f=this.getFlashHTML();try{c.innerHTML=f}catch(g){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"]);return}f=c.getElementsByTagName("object");if(!f||f.length>1||f.length===0){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"])}else{if(f.length===
1)this.movieElement=f[0];b.parentNode.replaceChild(c.firstChild,b);if(window[this.movieName]==undefined)window[this.movieName]=this.getMovieElement()}}}else this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"])};
a.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload"><param name="wmode" value="',this.settings.button_window_mode,'" /><param name="movie" value="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" />',
'<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};
a.getFlashVars=function(){var b,c;c=this.buildParamString();b=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(b),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",
encodeURIComponent(c),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),
"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),
"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};a.getMovieElement=function(){if(this.movieElement==undefined)this.movieElement=document.getElementById(this.movieName);if(this.movieElement===null)throw"Could not find Flash element";return this.movieElement};
a.buildParamString=function(){var b,c,f=[];c=this.settings.post_params;if(typeof c==="object")for(b in c)c.hasOwnProperty(b)&&f.push(encodeURIComponent(b.toString())+"="+encodeURIComponent(c[b].toString()));return f.join("&amp;")};
a.destroy=function(){var b;try{this.cancelUpload(null,false);if(b=this.cleanUp())try{b.parentNode.removeChild(b)}catch(c){}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return true}catch(f){return false}};
a.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\nVersion: ",SWFUpload.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",this.settings.upload_url,"\n\tflash_url:                ",this.settings.flash_url,"\n\tflash9_url:                ",this.settings.flash9_url,"\n\tuse_query_string:         ",this.settings.use_query_string.toString(),"\n\trequeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n\thttp_success:             ",
this.settings.http_success.join(", "),"\n\tassume_success_timeout:   ",this.settings.assume_success_timeout,"\n\tfile_post_name:           ",this.settings.file_post_name,"\n\tpost_params:              ",this.settings.post_params.toString(),"\n\tfile_types:               ",this.settings.file_types,"\n\tfile_types_description:   ",this.settings.file_types_description,"\n\tfile_size_limit:          ",this.settings.file_size_limit,"\n\tfile_upload_limit:        ",this.settings.file_upload_limit,"\n\tfile_queue_limit:         ",
this.settings.file_queue_limit,"\n\tdebug:                    ",this.settings.debug.toString(),"\n\tprevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",this.settings.button_image_url.toString(),"\n\tbutton_width:             ",this.settings.button_width.toString(),"\n\tbutton_height:            ",
this.settings.button_height.toString(),"\n\tbutton_text:              ",this.settings.button_text.toString(),"\n\tbutton_text_style:        ",this.settings.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n\tbutton_action:            ",this.settings.button_action.toString(),"\n\tbutton_cursor:            ",this.settings.button_cursor.toString(),"\n\tbutton_disabled:          ",
this.settings.button_disabled.toString(),"\n\tcustom_settings:          ",this.settings.custom_settings.toString(),"\nEvent Handlers:\n\tswfupload_preload_handler assigned:  ",(typeof this.settings.swfupload_preload_handler==="function").toString(),"\n\tswfupload_load_failed_handler assigned:  ",(typeof this.settings.swfupload_load_failed_handler==="function").toString(),"\n\tswfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n\tmouse_click_handler assigned:       ",
(typeof this.settings.mouse_click_handler==="function").toString(),"\n\tmouse_over_handler assigned:        ",(typeof this.settings.mouse_over_handler==="function").toString(),"\n\tmouse_out_handler assigned:         ",(typeof this.settings.mouse_out_handler==="function").toString(),"\n\tfile_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n\tfile_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),
"\n\tfile_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n\tupload_resize_start_handler assigned:      ",(typeof this.settings.upload_resize_start_handler==="function").toString(),"\n\tupload_start_handler assigned:      ",(typeof this.settings.upload_start_handler==="function").toString(),"\n\tupload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n\tupload_error_handler assigned:      ",
(typeof this.settings.upload_error_handler==="function").toString(),"\n\tupload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n\tupload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n\tdebug_handler assigned:             ",(typeof this.settings.debug_handler==="function").toString(),"\nSupport:\n\tLoad:                     ",this.support.loading?"Yes":"No","\n\tImage Resize:             ",
this.support.imageResize?"Yes":"No","\n"].join(""))};a.addSetting=function(b,c,f){return c==undefined?(this.settings[b]=f):(this.settings[b]=c)};a.getSetting=function(b){if(this.settings[b]!=undefined)return this.settings[b];return""};
a.callFlash=function(b,c){var f,g,m;c=c||[];f=this.getMovieElement();try{if(f!=undefined){m=f.CallFunction('<invoke name="'+b+'" returntype="javascript">'+__flash__argumentsToXML(c,0)+"</invoke>");g=eval(m)}else this.debug("Can't call flash because the movie wasn't found.")}catch(l){this.debug("Exception calling flash function '"+b+"': "+l.message)}if(g!=undefined&&typeof g.post==="object")g=this.unescapeFilePostParams(g);return g};a.selectFile=function(){this.callFlash("SelectFile")};
a.selectFiles=function(){this.callFlash("SelectFiles")};a.startUpload=function(b){this.callFlash("StartUpload",[b])};a.startResizedUpload=function(b,c,f,g,m,l){this.callFlash("StartUpload",[b,{width:c,height:f,encoding:g,quality:m,allowEnlarging:l}])};a.cancelUpload=function(b,c){if(c!==false)c=true;this.callFlash("CancelUpload",[b,c])};a.stopUpload=function(){this.callFlash("StopUpload")};a.requeueUpload=function(b){return this.callFlash("RequeueUpload",[b])};a.getStats=function(){return this.callFlash("GetStats")};
a.setStats=function(b){this.callFlash("SetStats",[b])};a.getFile=function(b){return typeof b==="number"?this.callFlash("GetFileByIndex",[b]):this.callFlash("GetFile",[b])};a.getQueueFile=function(b){return typeof b==="number"?this.callFlash("GetFileByQueueIndex",[b]):this.callFlash("GetFile",[b])};a.addFileParam=function(b,c,f){return this.callFlash("AddFileParam",[b,c,f])};a.removeFileParam=function(b,c){this.callFlash("RemoveFileParam",[b,c])};
a.setUploadURL=function(b){this.settings.upload_url=b.toString();this.callFlash("SetUploadURL",[b])};a.setPostParams=function(b){this.settings.post_params=b;this.callFlash("SetPostParams",[b])};a.addPostParam=function(b,c){this.settings.post_params[b]=c;this.callFlash("SetPostParams",[this.settings.post_params])};a.removePostParam=function(b){delete this.settings.post_params[b];this.callFlash("SetPostParams",[this.settings.post_params])};
a.setFileTypes=function(b,c){this.settings.file_types=b;this.settings.file_types_description=c;this.callFlash("SetFileTypes",[b,c])};a.setFileSizeLimit=function(b){this.settings.file_size_limit=b;this.callFlash("SetFileSizeLimit",[b])};a.setFileUploadLimit=function(b){this.settings.file_upload_limit=b;this.callFlash("SetFileUploadLimit",[b])};a.setFileQueueLimit=function(b){this.settings.file_queue_limit=b;this.callFlash("SetFileQueueLimit",[b])};
a.setFilePostName=function(b){this.settings.file_post_name=b;this.callFlash("SetFilePostName",[b])};a.setUseQueryString=function(b){this.settings.use_query_string=b;this.callFlash("SetUseQueryString",[b])};a.setRequeueOnError=function(b){this.settings.requeue_on_error=b;this.callFlash("SetRequeueOnError",[b])};a.setHTTPSuccess=function(b){if(typeof b==="string")b=b.replace(" ","").split(",");this.settings.http_success=b;this.callFlash("SetHTTPSuccess",[b])};
a.setAssumeSuccessTimeout=function(b){this.settings.assume_success_timeout=b;this.callFlash("SetAssumeSuccessTimeout",[b])};a.setDebugEnabled=function(b){this.settings.debug_enabled=b;this.callFlash("SetDebugEnabled",[b])};a.setButtonImageURL=function(b){if(b==undefined)b="";this.settings.button_image_url=b;this.callFlash("SetButtonImageURL",[b])};
a.setButtonDimensions=function(b,c){this.settings.button_width=b;this.settings.button_height=c;var f=this.getMovieElement();if(f!=undefined){f.style.width=b+"px";f.style.height=c+"px"}this.callFlash("SetButtonDimensions",[b,c])};a.setButtonText=function(b){this.settings.button_text=b;this.callFlash("SetButtonText",[b])};a.setButtonTextPadding=function(b,c){this.settings.button_text_top_padding=c;this.settings.button_text_left_padding=b;this.callFlash("SetButtonTextPadding",[b,c])};
a.setButtonTextStyle=function(b){this.settings.button_text_style=b;this.callFlash("SetButtonTextStyle",[b])};a.setButtonDisabled=function(b){this.settings.button_disabled=b;this.callFlash("SetButtonDisabled",[b])};a.setButtonAction=function(b){this.settings.button_action=b;this.callFlash("SetButtonAction",[b])};a.setButtonCursor=function(b){this.settings.button_cursor=b;this.callFlash("SetButtonCursor",[b])};
a.queueEvent=function(b,c){var f=this;if(c==undefined)c=[];else c instanceof Array||(c=[c]);if(typeof this.settings[b]==="function"){this.eventQueue.push(function(){this.settings[b].apply(this,c)});setTimeout(function(){f.executeNextEvent()},0)}else if(this.settings[b]!==null)throw"Event handler "+b+" is unknown or is not a function";};a.executeNextEvent=function(){var b=this.eventQueue?this.eventQueue.shift():null;typeof b==="function"&&b.apply(this)};
a.unescapeFilePostParams=function(b){var c=/[$]([0-9a-f]{4})/i,f={},g,m,l;if(b!=undefined){for(m in b.post)if(b.post.hasOwnProperty(m)){for(g=m;(l=c.exec(g))!==null;)g=g.replace(l[0],String.fromCharCode(parseInt("0x"+l[1],16)));f[g]=b.post[m]}b.post=f}return b};
a.swfuploadPreload=function(){var b;if(typeof this.settings.swfupload_preload_handler==="function")b=this.settings.swfupload_preload_handler.call(this);else if(this.settings.swfupload_preload_handler!=undefined)throw"upload_start_handler must be a function";if(b===undefined)b=true;return!!b};a.flashReady=function(){this.cleanUp()?this.queueEvent("swfupload_loaded_handler"):this.debug("Flash called back ready but the flash movie can't be found.")};
a.cleanUp=function(){var b,c=this.getMovieElement();try{if(c&&typeof c.CallFunction==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(b in c)try{if(typeof c[b]==="function")c[b]=null}catch(f){}}}catch(g){}window.__flash__removeCallback=function(m,l){try{if(m)m[l]=null}catch(d){}};return c};a.mouseClick=function(){this.queueEvent("mouse_click_handler")};a.mouseOver=function(){this.queueEvent("mouse_over_handler")};
a.mouseOut=function(){this.queueEvent("mouse_out_handler")};a.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};a.fileQueued=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("file_queued_handler",b)};a.fileQueueError=function(b,c,f){b=this.unescapeFilePostParams(b);this.queueEvent("file_queue_error_handler",[b,c,f])};a.fileDialogComplete=function(b,c,f){this.queueEvent("file_dialog_complete_handler",[b,c,f])};
a.uploadResizeStart=function(b,c){b=this.unescapeFilePostParams(b);this.queueEvent("upload_resize_start_handler",[b,c.width,c.height,c.encoding,c.quality])};a.uploadStart=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("return_upload_start_handler",b)};
a.returnUploadStart=function(b){var c;if(typeof this.settings.upload_start_handler==="function"){b=this.unescapeFilePostParams(b);c=this.settings.upload_start_handler.call(this,b)}else if(this.settings.upload_start_handler!=undefined)throw"upload_start_handler must be a function";if(c===undefined)c=true;c=!!c;this.callFlash("ReturnUploadStart",[c])};a.uploadProgress=function(b,c,f){b=this.unescapeFilePostParams(b);this.queueEvent("upload_progress_handler",[b,c,f])};
a.uploadError=function(b,c,f){b=this.unescapeFilePostParams(b);this.queueEvent("upload_error_handler",[b,c,f])};a.uploadSuccess=function(b,c,f){b=this.unescapeFilePostParams(b);this.queueEvent("upload_success_handler",[b,c,f])};a.uploadComplete=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("upload_complete_handler",b)};a.debug=function(b){this.queueEvent("debug_handler",b)};
a.debugMessage=function(b){var c,f;if(this.settings.debug){c=[];if(typeof b==="object"&&typeof b.name==="string"&&typeof b.message==="string"){for(f in b)b.hasOwnProperty(f)&&c.push(f+": "+b[f]);b=c.join("\n")||"";c=b.split("\n");b="EXCEPTION: "+c.join("\nEXCEPTION: ");SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(b)}};SWFUpload.Console={};
SWFUpload.Console.writeLine=function(b){var c,f;try{c=document.getElementById("SWFUpload_Console");if(!c){f=document.createElement("form");document.getElementsByTagName("body")[0].appendChild(f);c=document.createElement("textarea");c.id="SWFUpload_Console";c.style.fontFamily="monospace";c.setAttribute("wrap","off");c.wrap="off";c.style.overflow="auto";c.style.width="700px";c.style.height="350px";c.style.margin="5px";f.appendChild(c)}c.value+=b+"\n";c.scrollTop=c.scrollHeight-c.clientHeight}catch(g){alert("Exception: "+
g.name+" Message: "+g.message)}};
swfobject=function(){function b(){if(!wa){try{var A=ba.getElementsByTagName("body")[0].appendChild(i("span"));A.parentNode.removeChild(A)}catch(H){return}wa=true;A=za.length;for(var O=0;O<A;O++)za[O]()}}function c(A){if(wa)A();else za[za.length]=A}function f(A){if(typeof ka.addEventListener!=ea)ka.addEventListener("load",A,false);else if(typeof ba.addEventListener!=ea)ba.addEventListener("load",A,false);else if(typeof ka.attachEvent!=ea)aa(ka,"onload",A);else if(typeof ka.onload=="function"){var H=
ka.onload;ka.onload=function(){H();A()}}else ka.onload=A}function g(){ya?m():l()}function m(){var A=ba.getElementsByTagName("body")[0],H=i(sa);H.setAttribute("type",Ha);var O=A.appendChild(H);if(O){var Q=0;(function(){if(typeof O.GetVariable!=ea){var R=O.GetVariable("$version");if(R){R=R.split(" ")[1].split(",");S.pv=[parseInt(R[0],10),parseInt(R[1],10),parseInt(R[2],10)]}}else if(Q<10){Q++;setTimeout(arguments.callee,10);return}A.removeChild(H);O=null;l()})()}else l()}function l(){var A=qa.length;
if(A>0)for(var H=0;H<A;H++){var O=qa[H].id,Q=qa[H].callbackFn,R={success:false,id:O};if(S.pv[0]>0){var Y=G(O);if(Y)if(U(qa[H].swfVersion)&&!(S.wk&&S.wk<312)){ga(O,true);if(Q){R.success=true;R.ref=d(O);Q(R)}}else if(qa[H].expressInstall&&r()){R={};R.data=qa[H].expressInstall;R.width=Y.getAttribute("width")||"0";R.height=Y.getAttribute("height")||"0";if(Y.getAttribute("class"))R.styleclass=Y.getAttribute("class");if(Y.getAttribute("align"))R.align=Y.getAttribute("align");var Z={};Y=Y.getElementsByTagName("param");
for(var ha=Y.length,ja=0;ja<ha;ja++)if(Y[ja].getAttribute("name").toLowerCase()!="movie")Z[Y[ja].getAttribute("name")]=Y[ja].getAttribute("value");s(R,Z,O,Q)}else{k(Y);Q&&Q(R)}}else{ga(O,true);if(Q){if((O=d(O))&&typeof O.SetVariable!=ea){R.success=true;R.ref=O}Q(R)}}}}function d(A){var H=null;if((A=G(A))&&A.nodeName=="OBJECT")if(typeof A.SetVariable!=ea)H=A;else if(A=A.getElementsByTagName(sa)[0])H=A;return H}function r(){return!Ca&&U("6.0.65")&&(S.win||S.mac)&&!(S.wk&&S.wk<312)}function s(A,H,O,
Q){Ca=true;Ma=Q||null;Na={success:false,id:O};var R=G(O);if(R){if(R.nodeName=="OBJECT"){Ba=j(R);ma=null}else{Ba=R;ma=O}A.id=Qa;if(typeof A.width==ea||!/%$/.test(A.width)&&parseInt(A.width,10)<310)A.width="310";if(typeof A.height==ea||!/%$/.test(A.height)&&parseInt(A.height,10)<137)A.height="137";ba.title=ba.title.slice(0,47)+" - Flash Player Installation";Q=S.ie&&S.win?"ActiveX":"PlugIn";Q="MMredirectURL="+ka.location.toString().replace(/&/g,"%26")+"&MMplayerType="+Q+"&MMdoctitle="+ba.title;if(typeof H.flashvars!=
ea)H.flashvars+="&"+Q;else H.flashvars=Q;if(S.ie&&S.win&&R.readyState!=4){Q=i("div");O+="SWFObjectNew";Q.setAttribute("id",O);R.parentNode.insertBefore(Q,R);R.style.display="none";(function(){R.readyState==4?R.parentNode.removeChild(R):setTimeout(arguments.callee,10)})()}w(A,H,O)}}function k(A){if(S.ie&&S.win&&A.readyState!=4){var H=i("div");A.parentNode.insertBefore(H,A);H.parentNode.replaceChild(j(A),H);A.style.display="none";(function(){A.readyState==4?A.parentNode.removeChild(A):setTimeout(arguments.callee,
10)})()}else A.parentNode.replaceChild(j(A),A)}function j(A){var H=i("div");if(S.win&&S.ie)H.innerHTML=A.innerHTML;else if(A=A.getElementsByTagName(sa)[0])if(A=A.childNodes)for(var O=A.length,Q=0;Q<O;Q++)!(A[Q].nodeType==1&&A[Q].nodeName=="PARAM")&&A[Q].nodeType!=8&&H.appendChild(A[Q].cloneNode(true));return H}function w(A,H,O){var Q,R=G(O);if(S.wk&&S.wk<312)return Q;if(R){if(typeof A.id==ea)A.id=O;if(S.ie&&S.win){var Y="";for(var Z in A)if(A[Z]!=Object.prototype[Z])if(Z.toLowerCase()=="data")H.movie=
A[Z];else if(Z.toLowerCase()=="styleclass")Y+=' class="'+A[Z]+'"';else if(Z.toLowerCase()!="classid")Y+=" "+Z+'="'+A[Z]+'"';Z="";for(var ha in H)if(H[ha]!=Object.prototype[ha])Z+='<param name="'+ha+'" value="'+H[ha]+'" />';R.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+Y+">"+Z+"</object>";Aa[Aa.length]=A.id;Q=G(A.id)}else{ha=i(sa);ha.setAttribute("type",Ha);for(Y in A)if(A[Y]!=Object.prototype[Y])if(Y.toLowerCase()=="styleclass")ha.setAttribute("class",A[Y]);else Y.toLowerCase()!=
"classid"&&ha.setAttribute(Y,A[Y]);for(var ja in H)H[ja]!=Object.prototype[ja]&&ja.toLowerCase()!="movie"&&C(ha,ja,H[ja]);R.parentNode.replaceChild(ha,R);Q=ha}}return Q}function C(A,H,O){var Q=i("param");Q.setAttribute("name",H);Q.setAttribute("value",O);A.appendChild(Q)}function B(A){var H=G(A);if(H&&H.nodeName=="OBJECT")if(S.ie&&S.win){H.style.display="none";(function(){H.readyState==4?F(A):setTimeout(arguments.callee,10)})()}else H.parentNode.removeChild(H)}function F(A){if(A=G(A)){for(var H in A)if(typeof A[H]==
"function")A[H]=null;A.parentNode.removeChild(A)}}function G(A){var H=null;try{H=ba.getElementById(A)}catch(O){}return H}function i(A){return ba.createElement(A)}function aa(A,H,O){A.attachEvent(H,O);ra[ra.length]=[A,H,O]}function U(A){var H=S.pv;A=A.split(".");A[0]=parseInt(A[0],10);A[1]=parseInt(A[1],10)||0;A[2]=parseInt(A[2],10)||0;return H[0]>A[0]||H[0]==A[0]&&H[1]>A[1]||H[0]==A[0]&&H[1]==A[1]&&H[2]>=A[2]?true:false}function L(A,H,O,Q){if(!(S.ie&&S.mac)){var R=ba.getElementsByTagName("head")[0];
if(R){O=O&&typeof O=="string"?O:"screen";if(Q)Oa=ta=null;if(!ta||Oa!=O){Q=i("style");Q.setAttribute("type","text/css");Q.setAttribute("media",O);ta=R.appendChild(Q);if(S.ie&&S.win&&typeof ba.styleSheets!=ea&&ba.styleSheets.length>0)ta=ba.styleSheets[ba.styleSheets.length-1];Oa=O}if(S.ie&&S.win)ta&&typeof ta.addRule==sa&&ta.addRule(A,H);else ta&&typeof ba.createTextNode!=ea&&ta.appendChild(ba.createTextNode(A+" {"+H+"}"))}}}function ga(A,H){if(Ra){H=H?"visible":"hidden";if(wa&&G(A))G(A).style.visibility=
H;else L("#"+A,"visibility:"+H)}}function xa(A){return/[\\\"<>\.;]/.exec(A)!=null&&typeof encodeURIComponent!=ea?encodeURIComponent(A):A}var ea="undefined",sa="object",Ha="application/x-shockwave-flash",Qa="SWFObjectExprInst",ka=window,ba=document,la=navigator,ya=false,za=[g],qa=[],Aa=[],ra=[],Ba,ma,Ma,Na,wa=false,Ca=false,ta,Oa,Ra=true,S=function(){var A=typeof ba.getElementById!=ea&&typeof ba.getElementsByTagName!=ea&&typeof ba.createElement!=ea,H=la.userAgent.toLowerCase(),O=la.platform.toLowerCase(),
Q=O?/win/.test(O):/win/.test(H);O=O?/mac/.test(O):/mac/.test(H);H=/webkit/.test(H)?parseFloat(H.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;var R=!+"\u000b1",Y=[0,0,0],Z=null;if(typeof la.plugins!=ea&&typeof la.plugins["Shockwave Flash"]==sa){if((Z=la.plugins["Shockwave Flash"].description)&&!(typeof la.mimeTypes!=ea&&la.mimeTypes[Ha]&&!la.mimeTypes[Ha].enabledPlugin)){ya=true;R=false;Z=Z.replace(/^.*\s+(\S+\s+\S+$)/,"$1");Y[0]=parseInt(Z.replace(/^(.*)\..*$/,"$1"),10);Y[1]=parseInt(Z.replace(/^.*\.(.*)\s.*$/,
"$1"),10);Y[2]=/[a-zA-Z]/.test(Z)?parseInt(Z.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof ka.ActiveXObject!=ea)try{var ha=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(ha)if(Z=ha.GetVariable("$version")){R=true;Z=Z.split(" ")[1].split(",");Y=[parseInt(Z[0],10),parseInt(Z[1],10),parseInt(Z[2],10)]}}catch(ja){}return{w3:A,pv:Y,wk:H,ie:R,win:Q,mac:O}}();(function(){if(S.w3){if(typeof ba.readyState!=ea&&ba.readyState=="complete"||typeof ba.readyState==ea&&(ba.getElementsByTagName("body")[0]||
ba.body))b();if(!wa){typeof ba.addEventListener!=ea&&ba.addEventListener("DOMContentLoaded",b,false);if(S.ie&&S.win){ba.attachEvent("onreadystatechange",function(){if(ba.readyState=="complete"){ba.detachEvent("onreadystatechange",arguments.callee);b()}});ka==top&&function(){if(!wa){try{ba.documentElement.doScroll("left")}catch(A){setTimeout(arguments.callee,0);return}b()}}()}S.wk&&function(){wa||(/loaded|complete/.test(ba.readyState)?b():setTimeout(arguments.callee,0))}();f(b)}}})();(function(){S.ie&&
S.win&&window.attachEvent("onunload",function(){for(var A=ra.length,H=0;H<A;H++)ra[H][0].detachEvent(ra[H][1],ra[H][2]);A=Aa.length;for(H=0;H<A;H++)B(Aa[H]);for(var O in S)S[O]=null;S=null;for(var Q in swfobject)swfobject[Q]=null;swfobject=null})})();return{registerObject:function(A,H,O,Q){if(S.w3&&A&&H){var R={};R.id=A;R.swfVersion=H;R.expressInstall=O;R.callbackFn=Q;qa[qa.length]=R;ga(A,false)}else Q&&Q({success:false,id:A})},getObjectById:function(A){if(S.w3)return d(A)},embedSWF:function(A,H,
O,Q,R,Y,Z,ha,ja,Da){var Ea={success:false,id:H};if(S.w3&&!(S.wk&&S.wk<312)&&A&&H&&O&&Q&&R){ga(H,false);c(function(){O+="";Q+="";var ua={};if(ja&&typeof ja===sa)for(var va in ja)ua[va]=ja[va];ua.data=A;ua.width=O;ua.height=Q;va={};if(ha&&typeof ha===sa)for(var Ja in ha)va[Ja]=ha[Ja];if(Z&&typeof Z===sa)for(var Ka in Z)if(typeof va.flashvars!=ea)va.flashvars+="&"+Ka+"="+Z[Ka];else va.flashvars=Ka+"="+Z[Ka];if(U(R)){Ja=w(ua,va,H);ua.id==H&&ga(H,true);Ea.success=true;Ea.ref=Ja}else if(Y&&r()){ua.data=
Y;s(ua,va,H,Da);return}else ga(H,true);Da&&Da(Ea)})}else Da&&Da(Ea)},switchOffAutoHideShow:function(){Ra=false},ua:S,getFlashPlayerVersion:function(){return{major:S.pv[0],minor:S.pv[1],release:S.pv[2]}},hasFlashPlayerVersion:U,createSWF:function(A,H,O){if(S.w3)return w(A,H,O)},showExpressInstall:function(A,H,O,Q){S.w3&&r()&&s(A,H,O,Q)},removeSWF:function(A){S.w3&&B(A)},createCSS:function(A,H,O,Q){S.w3&&L(A,H,O,Q)},addDomLoadEvent:c,addLoadEvent:f,getQueryParamValue:function(A){var H=ba.location.search||
ba.location.hash;if(H){if(/\?/.test(H))H=H.split("?")[1];if(A==null)return xa(H);H=H.split("&");for(var O=0;O<H.length;O++)if(H[O].substring(0,H[O].indexOf("="))==A)return xa(H[O].substring(H[O].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Ca){var A=G(Qa);if(A&&Ba){A.parentNode.replaceChild(Ba,A);if(ma){ga(ma,true);if(S.ie&&S.win)Ba.style.display="block"}Ma&&Ma(Na)}Ca=false}}}}();swfobject.addDomLoadEvent(function(){typeof SWFUpload.onload==="function"&&SWFUpload.onload.call(window)});if(typeof SWFUpload==="function"){SWFUpload.prototype.initSettings=function(b){return function(c){typeof b==="function"&&b.call(this,c);this.refreshCookies(false)}}(SWFUpload.prototype.initSettings);SWFUpload.prototype.refreshCookies=function(b){if(b===undefined)b=true;b=!!b;var c=this.settings.post_params,f,g=document.cookie.split(";"),m=g.length,l,d,r;for(f=0;f<m;f++){for(l=g[f];l.charAt(0)===" ";)l=l.substring(1,l.length);d=l.indexOf("=");if(d>0){r=l.substring(0,d);l=l.substring(d+1);c[r]=l}}b&&
this.setPostParams(c)}};(function(b){b.fn.modalTabs=function(c){var f={attr:"href",history:true};c&&b.extend(f,c);this.each(function(){var g=this;b(".modal-toolbar a",g).live("click",function(l){l.preventDefault();b("a",g).removeClass("selected");b(this).addClass("selected");l=b(this).attr(f.attr);if(f.attr=="href")l=l.replace(/^.*#/,"");b(".modal-tab-view").hide();b("#"+l+"-pane").show();if(f.history)document.location.href=document.location.href.replace(/^.*/,"#"+anchor);return true});var m=function(){var l=document.location.hash.replace("#",
"");if(l=="")l="edit";return l};if(f.history){b(window).hashchange(function(){b("a[href=#"+m()+"]",g).click()});b(window).trigger("hashchange");b("a[href=#"+m()+"]").click();history.navigationMode="compatible"}b(".modal-tab-view",g).each(function(){var l=this;b("a.swap-form",l).live("click",function(){b("a.swap-form, fieldset",l).toggle();return false})})})}})(jQuery);jQuery.cookie=function(b,c,f){if(typeof c!="undefined"){f=f||{};if(c===null){c="";f.expires=-1}var g="";if(f.expires&&(typeof f.expires=="number"||f.expires.toUTCString)){if(typeof f.expires=="number"){g=new Date;g.setTime(g.getTime()+f.expires*24*60*60*1E3)}else g=f.expires;g="; expires="+g.toUTCString()}var m=f.path?"; path="+f.path:"",l=f.domain?"; domain="+f.domain:"";f=f.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(c),g,m,l,f].join("")}else{c=null;if(document.cookie&&document.cookie!=
""){f=document.cookie.split(";");for(g=0;g<f.length;g++){m=jQuery.trim(f[g]);if(m.substring(0,b.length+1)==b+"="){c=decodeURIComponent(m.substring(b.length+1));break}}}return c}};if(!this.JSON)this.JSON={};
(function(){function b(k){return k<10?"0"+k:k}function c(k){m.lastIndex=0;return m.test(k)?'"'+k.replace(m,function(j){var w=r[j];return typeof w==="string"?w:"\\u"+("0000"+j.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+k+'"'}function f(k,j){var w,C,B=l,F,G=j[k];if(G&&typeof G==="object"&&typeof G.toJSON==="function")G=G.toJSON(k);if(typeof s==="function")G=s.call(j,k,G);switch(typeof G){case "string":return c(G);case "number":return isFinite(G)?String(G):"null";case "boolean":case "null":return String(G);case "object":if(!G)return"null";
l+=d;F=[];if(Object.prototype.toString.apply(G)==="[object Array]"){C=G.length;for(k=0;k<C;k+=1)F[k]=f(k,G)||"null";j=F.length===0?"[]":l?"[\n"+l+F.join(",\n"+l)+"\n"+B+"]":"["+F.join(",")+"]";l=B;return j}if(s&&typeof s==="object"){C=s.length;for(k=0;k<C;k+=1){w=s[k];if(typeof w==="string")if(j=f(w,G))F.push(c(w)+(l?": ":":")+j)}}else for(w in G)if(Object.hasOwnProperty.call(G,w))if(j=f(w,G))F.push(c(w)+(l?": ":":")+j);j=F.length===0?"{}":l?"{\n"+l+F.join(",\n"+l)+"\n"+B+"}":"{"+F.join(",")+"}";
l=B;return j}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,d,r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;if(typeof JSON.stringify!=="function")JSON.stringify=function(k,j,w){var C;d=l="";if(typeof w==="number")for(C=0;C<w;C+=1)d+=" ";else if(typeof w==="string")d=w;if((s=j)&&typeof j!=="function"&&(typeof j!=="object"||typeof j.length!=="number"))throw new Error("JSON.stringify");return f("",
{"":k})};if(typeof JSON.parse!=="function")JSON.parse=function(k,j){function w(C,B){var F,G,i=C[B];if(i&&typeof i==="object")for(F in i)if(Object.hasOwnProperty.call(i,F)){G=w(i,F);if(G!==undefined)i[F]=G;else delete i[F]}return j.call(C,B,i)}g.lastIndex=0;if(g.test(k))k=k.replace(g,function(C){return"\\u"+("0000"+C.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(k.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){k=eval("("+k+")");return typeof j==="function"?w({"":k},""):k}throw new SyntaxError("JSON.parse");}})();(function(b){b.extend(b.fn,{validate:function(c){if(this.length){var f=b.data(this[0],"validator");if(f)return f;f=new b.validator(c,this[0]);b.data(this[0],"validator",f);if(f.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){f.cancelSubmit=true});this.submit(function(g){function m(){if(f.settings.submitHandler){f.settings.submitHandler.call(f,f.currentForm);return false}return true}f.settings.debug&&g.preventDefault();if(f.cancelSubmit){f.cancelSubmit=false;return m()}if(f.form()){if(f.pendingRequest){f.formSubmitted=
true;return false}return m()}else{f.focusInvalid();return false}})}return f}else c&&c.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(b(this[0]).is("form"))return this.validate().form();else{var c=false,f=b(this[0].form).validate();this.each(function(){c|=f.element(this)});return c}},removeAttrs:function(c){var f={},g=this;b.each(c.split(/\s/),function(m,l){f[l]=g.attr(l);g.removeAttr(l)});return f},rules:function(c,f){var g=this[0];
if(c){var m=b.data(g.form,"validator").settings,l=m.rules,d=b.validator.staticRules(g);switch(c){case "add":b.extend(d,b.validator.normalizeRule(f));l[g.name]=d;if(f.messages)m.messages[g.name]=b.extend(m.messages[g.name],f.messages);break;case "remove":if(!f){delete l[g.name];return d}var r={};b.each(f.split(/\s/),function(s,k){r[k]=d[k];delete d[k]});return r}}c=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(g),b.validator.classRules(g),b.validator.attributeRules(g),b.validator.staticRules(g)),
g);if(c.required){f=c.required;delete c.required;c=b.extend({required:f},c)}return c}});b.extend(b.expr[":"],{blank:function(c){return!b.trim(c.value)},filled:function(c){return!!b.trim(c.value)},unchecked:function(c){return!c.checked}});b.format=function(c,f){if(arguments.length==1)return function(){var g=b.makeArray(arguments);g.unshift(c);return b.format.apply(this,g)};if(arguments.length>2&&f.constructor!=Array)f=b.makeArray(arguments).slice(1);if(f.constructor!=Array)f=[f];b.each(f,function(g,
m){c=c.replace(new RegExp("\\{"+g+"\\}","g"),m)});return c};b.validator=function(c,f){this.settings=b.extend({},b.validator.defaults,c);this.currentForm=f;this.init()};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(c){this.lastActive=c;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&
this.settings.unhighlight.call(this,c,this.settings.errorClass);this.errorsFor(c).hide()}},onfocusout:function(c){if(!this.checkable(c)&&(c.name in this.submitted||!this.optional(c)))this.element(c)},onkeyup:function(c){if(c.name in this.submitted||c==this.lastElement)this.element(c)},onclick:function(c){c.name in this.submitted&&this.element(c)},highlight:function(c,f){b(c).addClass(f)},unhighlight:function(c,f){b(c).removeClass(f)}},setDefaults:function(c){b.extend(b.validator.defaults,c)},messages:{required:"This field is required.",
remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",dateDE:"Bitte geben Sie ein g\u00fcltiges Datum ein.",number:"Please enter a valid number.",numberDE:"Bitte geben Sie eine Nummer ein.",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",
maxlength:b.format("Please enter no more than {0} characters."),minlength:b.format("Please enter at least {0} characters."),rangelength:b.format("Please enter a value between {0} and {1} characters long."),range:b.format("Please enter a value between {0} and {1}."),max:b.format("Please enter a value less than or equal to {0}."),min:b.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function c(m){var l=b.data(this[0].form,"validator");
l.settings["on"+m.type]&&l.settings["on"+m.type].call(l,this[0])}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var f=this.groups={};b.each(this.settings.groups,function(m,l){b.each(l.split(/\s/),function(d,r){f[r]=
m})});var g=this.settings.rules;b.each(g,function(m,l){g[m]=b.validator.normalizeRule(l)});b(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",c).delegate("click",":radio, :checkbox",c);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",
[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var c=0,f=this.currentElements=this.elements();f[c];c++)this.check(f[c]);return this.valid()},element:function(c){this.lastElement=c=this.clean(c);this.prepareElement(c);this.currentElements=b(c);var f=this.check(c);if(f)delete this.invalid[c.name];else this.invalid[c.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return f},showErrors:function(c){if(c){b.extend(this.errorMap,
c);this.errorList=[];for(var f in c)this.errorList.push({message:c[f],element:this.findByName(f)[0]});this.successList=b.grep(this.successList,function(g){return!(g.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},
objectLength:function(c){var f=0;for(var g in c)f++;return f},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus()}catch(c){}},findLastActive:function(){var c=this.lastActive;return c&&b.grep(this.errorList,function(f){return f.element.name==c.name}).length==
1&&c},elements:function(){var c=this,f={};return b([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in f||!c.objectLength(b(this).rules()))return false;return f[this.name]=true})},clean:function(c){return b(c)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},
reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.formSubmitted=false;this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(c){this.reset();this.toHide=this.errorsFor(c)},check:function(c){c=this.clean(c);if(this.checkable(c))c=this.findByName(c.name)[0];var f=b(c).rules(),g=false;for(method in f){var m={method:method,parameters:f[method]};try{var l=b.validator.methods[method].call(this,
c.value.replace(/\r/g,""),c,m.parameters);if(l=="dependency-mismatch")g=true;else{g=false;if(l=="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!l){this.formatAndAdd(c,m);return false}}}catch(d){this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+m.method+"' method");throw d;}}if(!g){this.objectLength(f)&&this.successList.push(c);return true}},customMetaMessage:function(c,f){if(b.metadata)return(c=this.settings.meta?
b(c).metadata()[this.settings.meta]:b(c).metadata())&&c.messages&&c.messages[f]},customMessage:function(c,f){return(c=this.settings.messages[c])&&(c.constructor==String?c:c[f])},findDefined:function(){for(var c=0;c<arguments.length;c++)if(arguments[c]!==undefined)return arguments[c]},defaultMessage:function(c,f){return this.findDefined(this.customMessage(c.name,f),this.customMetaMessage(c,f),!this.settings.ignoreTitle&&c.title||undefined,b.validator.messages[f],"<strong>Warning: No message defined for "+
c.name+"</strong>")},formatAndAdd:function(c,f){var g=this.defaultMessage(c,f.method);if(typeof g=="function")g=g.call(this,f.parameters,c);this.errorList.push({message:g,element:c});this.errorMap[c.name]=g;this.submitted[c.name]=g},addWrapper:function(c){if(this.settings.wrapper)c=c.add(c.parents(this.settings.wrapper));return c},defaultShowErrors:function(){for(var c=0;this.errorList[c];c++){var f=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,f.element,this.settings.errorClass);
this.showLabel(f.element,f.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(c=0;this.successList[c];c++)this.showLabel(this.successList[c]);if(this.settings.unhighlight){c=0;for(f=this.validElements();f[c];c++)this.settings.unhighlight.call(this,f[c],this.settings.errorClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},
invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(c,f){var g=this.errorsFor(c);if(g.length){g.removeClass().addClass(this.settings.errorClass);g.attr("generated")&&g.html(f)}else{g=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:true}).addClass(this.settings.errorClass).html(f||"");if(this.settings.wrapper)g=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(g).length||(this.settings.errorPlacement?
this.settings.errorPlacement(g,b(c)):g.insertAfter(c))}if(!f&&this.settings.success){g.text("");typeof this.settings.success=="string"?g.addClass(this.settings.success):this.settings.success(g)}this.toShow=this.toShow.add(g)},errorsFor:function(c){return this.errors().filter("[for='"+this.idOrName(c)+"']")},idOrName:function(c){return this.groups[c.name]||(this.checkable(c)?c.name:c.id||c.name)},checkable:function(c){return/radio|checkbox/i.test(c.type)},findByName:function(c){var f=this.currentForm;
return b(document.getElementsByName(c)).map(function(g,m){return m.form==f&&m.name==c&&m||null})},getLength:function(c,f){switch(f.nodeName.toLowerCase()){case "select":return b("option:selected",f).length;case "input":if(this.checkable(f))return this.findByName(f.name).filter(":checked").length}return c.length},depend:function(c,f){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,f):true},dependTypes:{"boolean":function(c){return c},string:function(c,f){return!!b(c,f.form).length},
"function":function(c,f){return c(f)}},optional:function(c){return!b.validator.methods.required.call(this,b.trim(c.value),c)&&"dependency-mismatch"},startRequest:function(c){if(!this.pending[c.name]){this.pendingRequest++;this.pending[c.name]=true}},stopRequest:function(c,f){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[c.name];if(f&&this.pendingRequest==0&&this.formSubmitted&&this.form())b(this.currentForm).submit();else!f&&this.pendingRequest==0&&this.formSubmitted&&
b(this.currentForm).triggerHandler("invalid-form",[this])},previousValue:function(c){return b.data(c,"previousValue")||b.data(c,"previousValue",previous={old:null,valid:true,message:this.defaultMessage(c,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(c,f){c.constructor==String?
(this.classRuleSettings[c]=f):b.extend(this.classRuleSettings,c)},classRules:function(c){var f={};(c=b(c).attr("class"))&&b.each(c.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(f,b.validator.classRuleSettings[this])});return f},attributeRules:function(c){var f={};c=b(c);for(method in b.validator.methods){var g=c.attr(method);if(g)f[method]=g}f.maxlength&&/-1|2147483647|524288/.test(f.maxlength)&&delete f.maxlength;return f},metadataRules:function(c){if(!b.metadata)return{};
var f=b.data(c.form,"validator").settings.meta;return f?b(c).metadata()[f]:b(c).metadata()},staticRules:function(c){var f={},g=b.data(c.form,"validator");if(g.settings.rules)f=b.validator.normalizeRule(g.settings.rules[c.name])||{};return f},normalizeRules:function(c,f){b.each(c,function(g,m){if(m===false)delete c[g];else if(m.param||m.depends){var l=true;switch(typeof m.depends){case "string":l=!!b(m.depends,f.form).length;break;case "function":l=m.depends.call(f,f);break}if(l)c[g]=m.param!==undefined?
m.param:true;else delete c[g]}});b.each(c,function(g,m){c[g]=b.isFunction(m)?m(f):m});b.each(["minlength","maxlength","min","max"],function(){if(c[this])c[this]=Number(c[this])});b.each(["rangelength","range"],function(){if(c[this])c[this]=[Number(c[this][0]),Number(c[this][1])]});if(b.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}c.messages&&delete c.messages;
return c},normalizeRule:function(c){if(typeof c=="string"){var f={};b.each(c.split(/\s/),function(){f[this]=true});c=f}return c},addMethod:function(c,f,g){b.validator.methods[c]=f;b.validator.messages[c]=g;f.length<3&&b.validator.addClassRules(c,b.validator.normalizeRule(c))},methods:{required:function(c,f,g){if(!this.depend(g,f))return"dependency-mismatch";switch(f.nodeName.toLowerCase()){case "select":c=b("option:selected",f);return c.length>0&&(f.type=="select-multiple"||(b.browser.msie&&!c[0].attributes.value.specified?
c[0].text:c[0].value).length>0);case "input":if(this.checkable(f))return this.getLength(c,f)>0;default:return b.trim(c).length>0}},remote:function(c,f,g){if(this.optional(f))return"dependency-mismatch";var m=this.previousValue(f);this.settings.messages[f.name]||(this.settings.messages[f.name]={});this.settings.messages[f.name].remote=typeof m.message=="function"?m.message(c):m.message;g=typeof g=="string"&&{url:g}||g;if(m.old!==c){m.old=c;var l=this;this.startRequest(f);var d={};d[f.name]=c;b.ajax(b.extend(true,
{url:g,mode:"abort",port:"validate"+f.name,dataType:"json",data:d,success:function(r){if(r){var s=l.formSubmitted;l.prepareElement(f);l.formSubmitted=s;l.successList.push(f);l.showErrors()}else{s={};s[f.name]=r||l.defaultMessage(f,"remote");l.showErrors(s)}m.valid=r;l.stopRequest(f,r)}},g));return"pending"}else if(this.pending[f.name])return"pending";return m.valid},minlength:function(c,f,g){return this.optional(f)||this.getLength(b.trim(c),f)>=g},maxlength:function(c,f,g){return this.optional(f)||
this.getLength(b.trim(c),f)<=g},rangelength:function(c,f,g){c=this.getLength(b.trim(c),f);return this.optional(f)||c>=g[0]&&c<=g[1]},min:function(c,f,g){return this.optional(f)||c>=g},max:function(c,f,g){return this.optional(f)||c<=g},range:function(c,f,g){return this.optional(f)||c>=g[0]&&c<=g[1]},email:function(c,f){return this.optional(f)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(c)},
url:function(c,f){return this.optional(f)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},
date:function(c,f){return this.optional(f)||!/Invalid|NaN/.test(new Date(c))},dateISO:function(c,f){return this.optional(f)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},dateDE:function(c,f){return this.optional(f)||/^\d\d?\.\d\d?\.\d\d\d?\d?$/.test(c)},number:function(c,f){return this.optional(f)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(c)},numberDE:function(c,f){return this.optional(f)||/^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(c)},digits:function(c,f){return this.optional(f)||/^\d+$/.test(c)},
creditcard:function(c,f){if(this.optional(f))return"dependency-mismatch";if(/[^0-9-]+/.test(c))return false;var g=f=0,m=false;c=c.replace(/\D/g,"");for(n=c.length-1;n>=0;n--){g=c.charAt(n);g=parseInt(g,10);if(m)if((g*=2)>9)g-=9;f+=g;m=!m}return f%10==0},accept:function(c,f,g){g=typeof g=="string"?g:"png|jpe?g|gif";return this.optional(f)||c.match(new RegExp(".("+g+")$","i"))},equalTo:function(c,f,g){return c==b(g).val()}}})})(jQuery);
(function(b){var c=b.ajax,f={};b.ajax=function(g){g=b.extend(g,b.extend({},b.ajaxSettings,g));var m=g.port;if(g.mode=="abort"){f[m]&&f[m].abort();return f[m]=c.apply(this,arguments)}return c.apply(this,arguments)}})(jQuery);
(function(b){b.each({focus:"focusin",blur:"focusout"},function(c,f){b.event.special[f]={setup:function(){if(b.browser.msie)return false;this.addEventListener(c,b.event.special[f].handler,true)},teardown:function(){if(b.browser.msie)return false;this.removeEventListener(c,b.event.special[f].handler,true)},handler:function(g){arguments[0]=b.event.fix(g);arguments[0].type=f;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{delegate:function(c,f,g){return this.bind(c,function(m){var l=b(m.target);
if(l.is(f))return g.apply(l,arguments)})},triggerEvent:function(c,f){return this.triggerHandler(c,[b.event.fix({type:c,target:f})])}})})(jQuery);var currentDialogHideFunction=null,currentDialogType=null;
$(function(){var b=false,c=null,f=$(".call-dialog").css("opacity",0);$("form",f).live("submit",function(m){m.preventDefault()});var g=function(m,l){c&&clearTimeout(c);l.shown=false;$(".call-button").data("link",l);c=setTimeout(function(){c=null;f.animate({top:"-=35px",opacity:0},250,"swing",function(){b=false;f.css("display","none")})},100);$(".screen").hide();$(".invoke-call-button span").text("Call");$(".call-dialing").hide();currentDialogType=currentDialogHideFunction=null;return false};$(".twilio-call").each(function(){var m=
false,l=this;l.shown=false;var d=$(this),r=function(s,k){currentDialogType=="sms"&&currentDialogHideFunction();c&&clearTimeout(c);if(m||k.shown)return false;if(b){b=false;$(".call-button").data("link").shown=false;$(".call-dialog").hide()}s="";if(k){s=$(k).text()!="Call"?$(k).text():"";target=$(k).attr("href")}b=m=true;f.css({position:"absolute",left:d.get(0).offsetLeft,top:d.get(0).offsetTop,display:"block"}).animate({top:"+=35px",opacity:1},250,"swing",function(){m=false;k.shown=true});$(".call-button").data("link",
k);$("input[name=to]",f).val(s);$("input[name=target]",f).val(target);$(".screen").show();currentDialogType="call";currentDialogHideFunction=function(){g(null,k)};return true};$(window).keypress(function(s){s.keyCode==27&&g(s,l)});$(this).hasClass("hover")?$([d.get(0),f.get(0)]).mouseover(function(s){r(s,l)}).mouseout(function(s){g(s,l)}):$(d).click(function(s){return r(s,l)?false:g(s,l)});$(".close",f).live("click",function(s){g(s,l);s.preventDefault()})});$(".call-button",f).click(function(m){$(".invoke-call-button span").text("Calling...");
$(".call-dialing").show();var l=$(this).data("link");$(this).attr("disabled","disabled");var d=$(this);$.ajax({url:OpenVBX.home+"/messages/call",data:$("form input, form select",f),dataType:"json",type:"POST",success:function(r){d.removeAttr("disabled");g(m,l);if(r.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Unable to complete call. Message from server: "+r.message);$(".error-dialog").dialog("open")}else $.notify("You are now being connected to "+
$("input[name=to]",f).val())}});m.preventDefault()});$(".screen").live("click",function(m){m.preventDefault();b&&$(".close",f).click()})});
$(function(){var b=false,c=null,f=$(".sms-dialog").css("opacity",0);$("form",f).live("submit",function(l){l.preventDefault()});var g=function(l,d){$(".send-sms-button").removeAttr("disabled");c&&clearTimeout(c);d||(d=$(".sms-button").data("link"));d.shown=false;$(".sms-button").data("link",d);c=setTimeout(function(){c=null;f.animate({top:"-=35px",opacity:0},250,"swing",function(){b=false;f.css("display","none")})},100);$(".screen").hide();$(".send-sms-button span").text("Send SMS");$(".sms-sending").hide();
currentDialogType=currentDialogHideFunction=null;return false};$(".twilio-sms").each(function(){var l=false,d=this;d.shown=false;var r=$(this),s=function(k,j){$(".send-sms-button").attr("rel",$(j).attr("rel"));$(".send-sms-button").removeAttr("disabled");currentDialogType=="call"&&currentDialogHideFunction();c&&clearTimeout(c);if(l||j.shown)return false;if(b){b=false;$(".sms-button").data("link").shown=false;$(".sms-dialog").hide()}k="";if(j){k=$(j).text().match(/sms/i)?"":$(j).text();target=$(j).attr("href")}b=
l=true;f.css({position:"absolute",left:r.get(0).offsetLeft,top:r.get(0).offsetTop,display:"block"}).animate({top:"+=35px",opacity:1},250,"swing",function(){l=false;j.shown=true});$(".sms-button").data("link",j);$("input[name=to]",f).val(k);$("input[name=target]",f).val(target);$(".screen").show();currentDialogType="sms";currentDialogHideFunction=function(){g(null,j)};return true};$(window).keypress(function(k){k.keyCode==27&&g(k,d)});$(this).hasClass("hover")?$([r.get(0),f.get(0)]).mouseover(function(k){s(k,
d)}).mouseout(function(k){g(k,d)}):$(r).click(function(k){return s(k,d)?false:g(k,d)});$(".close",f).live("click",function(k){g(k,d);k.preventDefault()})});$(".send-sms-button",f).click(function(l){$(".send-sms-button span").text("Sending...");$(".send-sms-button .sms-sending").show();var d=$(this).data("link");$(this).attr("disabled","disabled");var r=$(l.target).attr("rel"),s=$(this);$.ajax({url:OpenVBX.home+"/messages/sms"+(r?"/"+r:""),data:$("form input, form select, form textarea",f),dataType:"json",
type:"POST",success:function(k){s.removeAttr("disabled");g(l,d);if(k.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Unable to send sms. Message from server: "+k.message);$(".error-dialog").dialog("open")}else{$.notify("SMS sent to "+$("input[name=to]",f).val());$("textarea",f).val("");$("input",f).val("")}}});return false});var m=function(){var l=$(this).val().length;$(".count",
f).text(160-l)};$("textarea",f).live("keypress",m);$("textarea",f).live("keyup",m);$("textarea",f).live("load",m);$(".screen").live("click",function(l){l.preventDefault();b&&$(".close",f).click()})});jQuery.fn.flicker=function(b){var c=jQuery.extend({color:"#FEEEBD",speed:"slow"},b),f=function(g){if(!g.flickerLocked){g.flickerLocked=true;var m=$(g).css("background-color");$(g).animate({backgroundColor:c.color,queue:true},c.speed).animate({backgroundColor:m,queue:true},c.speed,function(){g.flickerLocked=false})}};return this.each(function(){f(this);return $(this)})};(function(b,c,f){function g(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}var m="hashchange",l=document,d,r=b.event.special,s=l.documentMode,k="on"+m in c&&(s===f||s>7);b.fn[m]=function(j){return j?this.bind(m,j):this.trigger(m)};b.fn[m].delay=50;r[m]=b.extend(r[m],{setup:function(){if(k)return false;b(d.start)},teardown:function(){if(k)return false;b(d.stop)}});d=function(){function j(){var aa=g(),U=i(B);if(aa!==B){G(B=aa,U);b(c).trigger(m)}else if(U!==B)location.href=location.href.replace(/#.*/,
"")+U;C=setTimeout(j,b.fn[m].delay)}var w={},C,B=g(),F=function(aa){return aa},G=F,i=F;w.start=function(){C||j()};w.stop=function(){C&&clearTimeout(C);C=f};b.browser.msie&&!k&&function(){var aa,U;w.start=function(){if(!aa){U=(U=b.fn[m].src)&&U+g();aa=b('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){U||G(g());j()}).attr("src",U||"javascript:0").insertAfter("body")[0].contentWindow;l.onpropertychange=function(){try{if(event.propertyName==="title")aa.document.title=l.title}catch(L){}}}};
w.stop=F;i=function(){return g(aa.location.href)};G=function(L,ga){var xa=aa.document,ea=b.fn[m].domain;if(L!==ga){xa.title=l.title;xa.open();ea&&xa.write('<script>document.domain="'+ea+'"<\/script>');xa.close();aa.location.hash=L}}}();return w}()})(jQuery,this);(function(b){b.extend(b.fn,{livequery:function(c,f,g){var m=this,l;if(b.isFunction(c)){g=f;f=c;c=undefined}b.each(b.livequery.queries,function(d,r){if(m.selector==r.selector&&m.context==r.context&&c==r.type&&(!f||f.$lqguid==r.fn.$lqguid)&&(!g||g.$lqguid==r.fn2.$lqguid))return(l=r)&&false});l=l||new b.livequery(this.selector,this.context,c,f,g);l.stopped=false;l.run();return this},expire:function(c,f,g){var m=this;if(b.isFunction(c)){g=f;f=c;c=undefined}b.each(b.livequery.queries,function(l,d){if(m.selector==
d.selector&&m.context==d.context&&(!c||c==d.type)&&(!f||f.$lqguid==d.fn.$lqguid)&&(!g||g.$lqguid==d.fn2.$lqguid)&&!this.stopped)b.livequery.stop(d.id)});return this}});b.livequery=function(c,f,g,m,l){this.selector=c;this.context=f;this.type=g;this.fn=m;this.fn2=l;this.elements=[];this.stopped=false;this.id=b.livequery.queries.push(this)-1;m.$lqguid=m.$lqguid||b.livequery.guid++;if(l)l.$lqguid=l.$lqguid||b.livequery.guid++;return this};b.livequery.prototype={stop:function(){var c=this;if(this.type)this.elements.unbind(this.type,
this.fn);else this.fn2&&this.elements.each(function(f,g){c.fn2.apply(g)});this.elements=[];this.stopped=true},run:function(){if(!this.stopped){var c=this,f=this.elements,g=b(this.selector,this.context),m=g.not(f);this.elements=g;if(this.type){m.bind(this.type,this.fn);f.length>0&&b.each(f,function(l,d){b.inArray(d,g)<0&&b.event.remove(d,c.type,c.fn)})}else{m.each(function(){c.fn.apply(this)});this.fn2&&f.length>0&&b.each(f,function(l,d){b.inArray(d,g)<0&&c.fn2.apply(d)})}}}};b.extend(b.livequery,
{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(b.livequery.running&&b.livequery.queue.length)for(var c=b.livequery.queue.length;c--;)b.livequery.queries[b.livequery.queue.shift()].run()},pause:function(){b.livequery.running=false},play:function(){b.livequery.running=true;b.livequery.run()},registerPlugin:function(){b.each(arguments,function(c,f){if(b.fn[f]){var g=b.fn[f];b.fn[f]=function(){var m=g.apply(this,arguments);b.livequery.run();return m}}})},run:function(c){if(c!=
undefined)b.inArray(c,b.livequery.queue)<0&&b.livequery.queue.push(c);else b.each(b.livequery.queries,function(f){b.inArray(f,b.livequery.queue)<0&&b.livequery.queue.push(f)});b.livequery.timeout&&clearTimeout(b.livequery.timeout);b.livequery.timeout=setTimeout(b.livequery.checkQueue,20)},stop:function(c){c!=undefined?b.livequery.queries[c].stop():b.each(b.livequery.queries,function(f){b.livequery.queries[f].stop()})}});b.livequery.registerPlugin("append","prepend","after","before","wrap","attr",
"removeAttr","addClass","removeClass","toggleClass","empty","remove","html");b(function(){b.livequery.play()})})(jQuery);jQuery.fn.buttonista=function(b){var c=jQuery.extend({menu:"ul",toggler:".toggler"},b),f=function(){$(this).parent().children(c.menu).toggleClass("open");return false};$(window).keypress(function(g){g.keyCode=="27"&&$(c.menu).removeClass("open")});return this.each(function(){var g=$(this);g.click(f);$(c.toggler,g.parent()).click(function(m){m.preventDefault();g.click()})})};(function(b){function c(m){for(var l=0;l<document.styleSheets.length;l++){v=document.styleSheets[l];attrClass=f(m,v);if(attrClass!=false)break}attrClass||(attrClass=Array());objStyle={};if(attrClass=="")return false;attrClass=attrClass.match(";")?attrClass.split(";"):[attrClass];b(attrClass).each(function(d,r){if(r!=""){r=r.split(":");r[0]=g(r[0]);objStyle[r[0]]=b.trim(r[1])}});return objStyle}function f(m,l){attrClass=false;if(b.browser.msie)if(l.rules.length>0)b(l.rules).each(function(d,r){if(m==
r.selectorText)attrClass=r.style.cssText});else l.imports.length>0&&b(l.imports).each(function(d,r){if(m==r.selectorText)attrClass=r.style.cssText;else if(r=="[object]"||r=="[Object CSSStyleSheet]"||r=="[object CSSImportRule]")return f(m,r)});else b(l.cssRules).each(function(d,r){if(m==r.selectorText)attrClass=r.style.cssText;else if(r=="[object CSSImportRule]")return f(m,r.styleSheet)});return attrClass}function g(m){m=b.trim(m);m=m.replace(/-/g," ");m=m.toLowerCase();strArr=m.split(" ");var l="";
b(strArr).each(function(d,r){if(d==0)l+=r;else{l+=r.substr(0,1).toUpperCase();l+=r.substr(1,r.length)}});return l}b.fn.extend({animateToClass:function(m,l,d,r){if(!m)return this;m=c(m);if(!m)return this;b(this).data("animated",true);return this.animate(m,l,d,r)},toggleAnimateToClass:function(m,l,d,r,s){m=m;if(b(this).data("animated")){b(this).data("animated",false);m=l}else b(this).data("animated",true);l=c(m);if(!l)return this;return this.animate(l,d,r,s)}})})(jQuery);$.notify=function(b,c){var f="";if(c)f=' <a href="'+c+'">Learn more</a>';$(".notify").addClass("hide");setTimeout(function(){$(".notify .message").text(b).append(f).append('<a href="" class="close action"><span class="replace">Close</span></a>');$(".notify").removeClass("hide").fadeIn("slow");$(".notify").delay(1E4).fadeOut("slow")},500);return $(".notify")};$(document).ready(function(){$(".notify .message .close.action").live("click",function(b){b.preventDefault();$(".notify").dequeue().fadeOut("fast")})});(function(b){var c=["swfupload_loaded_handler","file_queued_handler","file_queue_error_handler","file_dialog_start_handler","file_dialog_complete_handler","upload_start_handler","upload_progress_handler","upload_error_handler","upload_success_handler","upload_complete_handler","queue_complete_handler"],f=[];b.fn.swfupload=function(){var g=b.makeArray(arguments);return this.each(function(){var m;if(g.length==1&&typeof g[0]=="object"){m=b(this).data("__swfu");if(!m){var l=g[0],d=b(this);m=[];b.merge(m,
c);b.merge(m,f);b.each(m,function(s,k){var j=k.replace(/_handler$/,"").replace(/_([a-z])/g,function(w,C){return C.toUpperCase()});l[k]=function(){var w=b.Event(j);d.trigger(w,b.makeArray(arguments));return!w.isDefaultPrevented()}});b(this).data("__swfu",new SWFUpload(l))}}else if(g.length>0&&typeof g[0]=="string"){var r=g.shift();(m=b(this).data("__swfu"))&&m[r]&&m[r].apply(m,g)}})};b.fn.swfuploadUnload=function(){return this.each(function(){var g;g=b(this).data("__swfu");if(g!=null){var m=g.settings.button_placeholder,
l=b("#"+g.movieName).parent();g.destroy();l.append(m);b(this).data("__swfu",null);b(this).unbind()}})};b.swfupload={additionalHandlers:function(){if(arguments.length===0)return f.slice();else b(arguments).each(function(g,m){b.merge(f,b.makeArray(m))})},defaultHandlers:function(){return c.slice()},getInstance:function(g){return b(g).data("__swfu")}}})(jQuery);jQuery.fn.tabify=function(b){settings=jQuery.extend({selector:"#tab-",view:".vbx-tab-view",defaultView:""},b);return $(this).each(function(){var c=this;$("li",this).click(function(){$("li",c).removeClass("selected");$(this).addClass("selected");var g=$("a",this).attr("href").replace(/^.*#/,"");$(settings.view).hide();$(settings.selector+g).show();document.location.href=document.location.href.replace(/^.*/,"#"+g);return true});var f=function(){var g=document.location.hash.replace("#","");if(g=="")g=
settings.defaultView;return g};$(window).hashchange(function(){$("a[href=#"+f()+"]").click()});$(window).trigger("hashchange");$("a[href=#"+f()+"]").click();history.navigationMode="compatible"})};(function(b){function c(r,s,k){r.value=b(s).text();b(r).change();b.browser.msie||r.focus();k.hide()}function f(r,s){var k=r.getHours(),j=s.show24Hours?k:(k+11)%12+1;r=r.getMinutes();return g(j)+s.separator+g(r)+(s.show24Hours?"":k<12?" AM":" PM")}function g(r){return(r<10?"0":"")+r}function m(r,s){return typeof r=="object"?d(r):l(r,s)}function l(r,s){if(r){var k=r.split(s.separator),j=parseFloat(k[0]);k=parseFloat(k[1]);if(!s.show24Hours)if(j===12&&r.indexOf("AM")!==-1)j=0;else if(j!==12&&r.indexOf("PM")!==
-1)j+=12;return d(new Date(0,0,0,j,k,0))}return null}function d(r){r.setFullYear(2001);r.setMonth(0);r.setDate(0);return r}b.fn.timePicker=function(r){var s=b.extend({},b.fn.timePicker.defaults,r);return this.each(function(){b.timePicker(this,s)})};b.timePicker=function(r,s){r=b(r)[0];return r.timePicker||(r.timePicker=new jQuery._timePicker(r,s))};b._timePicker=function(r,s){var k=false,j=false,w=m(s.startTime,s),C=m(s.endTime,s);b(r).attr("autocomplete","OFF");for(var B=[],F=new Date(w);F<=C;){B[B.length]=
f(F,s);F=new Date(F.setMinutes(F.getMinutes()+s.step))}var G=b('<div class="time-picker'+(s.show24Hours?"":" time-picker-12hours")+'"></div>'),i=b("<ul></ul>");for(F=0;F<B.length;F++)i.append("<li>"+B[F]+"</li>");G.append(i);G.appendTo("body").hide();G.mouseover(function(){k=true}).mouseout(function(){k=false});b("li",i).mouseover(function(){if(!j){b("li.selected",G).removeClass("selected");b(this).addClass("selected")}}).mousedown(function(){k=true}).click(function(){c(r,this,G,s);k=false});var aa=
function(){if(G.is(":visible"))return false;b("li",G).removeClass("selected");var U=b(r).offset();G.css({top:U.top+r.offsetHeight,left:U.left});G.show();var L=r.value?l(r.value,s):w;U=w.getHours()*60+w.getMinutes();L=L.getHours()*60+L.getMinutes()-U;L=Math.round(L/s.step);U=d(new Date(0,0,0,0,L*s.step+U,0));U=w<U&&U<=C?U:w;U=b("li:contains("+f(U,s)+")",G);if(U.length){U.addClass("selected");G[0].scrollTop=U[0].offsetTop}return true};b(r).focus(aa).click(aa);b(r).blur(function(){k||G.hide()});B=b.browser.opera||
b.browser.mozilla?"keypress":"keydown";b(r)[B](function(U){j=true;var L=G[0].scrollTop;switch(U.keyCode){case 38:if(aa())return false;U=b("li.selected",i);var ga=U.prev().addClass("selected")[0];if(ga){U.removeClass("selected");if(ga.offsetTop<L)G[0].scrollTop=L-ga.offsetHeight}else{U.removeClass("selected");ga=b("li:last",i).addClass("selected")[0];G[0].scrollTop=ga.offsetTop-ga.offsetHeight}return false;case 40:if(aa())return false;U=b("li.selected",i);if(ga=U.next().addClass("selected")[0]){U.removeClass("selected");
if(ga.offsetTop+ga.offsetHeight>L+G[0].offsetHeight)G[0].scrollTop=L+ga.offsetHeight}else{U.removeClass("selected");b("li:first",i).addClass("selected");G[0].scrollTop=0}return false;case 13:if(G.is(":visible")){L=b("li.selected",i)[0];c(r,L,G,s)}return false;case 27:G.hide();return false}return true});b(r).keyup(function(){j=false});this.getTime=function(){return l(r.value,s)};this.setTime=function(U){r.value=f(d(U),s);b(r).change()}};b.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,
0,0),endTime:new Date(0,0,0,23,30,0),separator:":",show24Hours:true}})(jQuery);var _st=window.setTimeout;window.setTimeout=function(b,c){if(typeof b=="function"){var f=Array.prototype.slice.call(arguments,2);return _st(function(){b.apply(null,f)},c)}return _st(b,c)};
$.fn.extend({left:function(b){if(b===undefined)return $(this).offset().left;else $(this).css("left",b)},top:function(b){if(b===undefined)return $(this).offset().top;else $(this).css("top",b)},right:function(b){if(b===undefined)return $(this).offset().left+$(this).outerWidth(true);else $(this).css("left",b-$(this).outerWidth(true))},bottom:function(b){if(b===undefined)return $(this).offset().top+$(this).outerHeight(true);else $(this).css("top",b-$(this).outerHeight(true))},frame:function(){return"{ "+
$(this).left()+", "+$(this).top()+", "+$(this).outerWidth(true)+", "+$(this).outerHeight(true)+" }"}});function preventDefault(b){b.preventDefault()}
function convertTimeToString(b,c,f){if(!c||!f){var g=new Date;c=(new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0)).getTime();f=(new Date(g.getFullYear(),0,1,0,0,0)).getTime()}var m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];g=new Date(b);if(b>c){b=g.getHours();g=g.getMinutes();c=b<12?"am":"pm";if(b>12)b-=12;if(b==0)b=12;return b+":"+(g<10?"0":"")+g+" "+c}else if(b>f)return m[g.getMonth()]+" "+g.getDate();else{b=g.getYear()-100;return g.getMonth()+"/"+g.getDay()+
"/"+(b<10?"0":"")+b}}OpenVBX={home:null,assets:null};
$(document).ready(function(){OpenVBX.home=$("#openvbx-logo a").eq(0).attr("href");OpenVBX.assets=$("#openvbx-assets a").eq(0).attr("href");$("button").mouseover(function(){$(this).addClass("ui-state-hover")}).mouseout(function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-focus")}).mouseup(function(){$(this).removeClass("ui-state-focus")});$.fn.values=function(b){var c=$(this).find(":input").get();if(typeof b!="object"){b={};$.each(c,function(){if(this.name&&
!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type)))b[this.name]=$(this).val()});return b}else{$.each(c,function(){if(this.name&&b[this.name])if(this.type=="checkbox"||this.type=="radio")this.checked=b[this.name]==$(this).val();else $(this).val(b[this.name])});return $(this)}};$.fn.fadeRemove=function(b){return $(this).fadeOut(b,function(){$(this).remove()})};$.postJSON=function(b,c,f){if(b.indexOf("http://")<0)b=OpenVBX.home+"/"+b;$.post(b,
c,f,"json")};$.extend($.ui.dialog.defaults,{autoOpen:false,closeOnEscape:true,closeText:"",draggable:true,height:"auto",modal:true,position:"center",resizable:false,open:function(){$("button").each(function(){$(this).text().match(/cancel/i)&&$(this).addClass("cancel")})}});$(".tabs").tabs();$.each([{name:"tabs",selector:".tabs",css:"c/ui.tabs.css"}],function(){$(this.selector).length>0&&this.css&&$("<link>").appendTo("head").attr({rel:"stylesheet",type:"text/css",href:OpenVBX.assets+"/"+this.css})});
$(":radio, :checkbox").live("click",function(){var b=$(this).hasClass("checked");if(this.checked){this.name&&$(this).attr("type")=="radio"&&$(this).siblings(".checked").removeClass("checked");$(this).addClass("checked");$("label[for="+this.id+"]").addClass("checked")}else if(b){$(this).removeClass("checked");$("label[for="+this.id+"]").removeClass("checked")}});$(".error-dialog").dialog({bgiframe:true,resizable:false,modal:true,buttons:{Okay:function(){$(this).dialog("close")}}});$.ajaxSetup({dataType:"json",
cache:false});$(document).ajaxError(function(b,c,f){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("An unknown error occurred.  Please contact your OpenVBX provider.  Unable to complete request: "+f.url);$(".error-dialog").dialog("open")})});
$(document).ready(function(){if($.browser.msie&&$.browser.version<7){$(".error-dialog").attr("title","Unsupported Browser");$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Microsoft Internet Explorer is not currently supported.  It is currently under development and will be supported in the near future.  We recommend you use Mozilla Firefox, Safari, or Chrome at this time");$(".error-dialog").dialog("open")}$(".shout-out .close").click(function(){$(".shout-out").hide();
$.cookie("mobile-app","false",{path:"/"})});$.cookie("mobile-app")=="false"?$(".shout-out").hide():$(".shout-out").show()});function convertMsecsToMinutesAndSeconds(b){var c=Math.floor(b/1E3/60);b=Math.floor(b/1E3%60);return(c<10?"0":"")+c+":"+(b<10?"0":"")+b}
$(document).ready(function(){window.soundManager=new SoundManager;soundManager.debugMode=false;soundManager.consoleOnly=true;soundManager.url=OpenVBX.assets+"assets/j/soundmanager2/soundmanager2.swf";soundManager.beginDelayedInit();soundManager.onload=function(){$(".audio-choice input[name=show_player_with_url]").each(function(b,c){b=$(c).closest(".audio-choice");c=$(c).val();Pickers.audio.showPlayer(b,"current",c,false)})}});var swfu,Pickers={timing:{setDisabled:function(b,c){$control=b.siblings("a");if(c){$("<em>").text("Closed").insertBefore(b);b.hide().find("input").val("");$control.html("add").attr({"class":"timing-add"})}else{b.show().siblings("em").remove();range=[new Date(0,0,0,9,0,0),new Date(0,0,0,17,0,0)];b.find("input").each(function(){$.timePicker($(this)).setTime(range.shift())});$control.html("remove").attr({"class":"timing-remove"})}}},audio:{picker:null,saveValue:function(b,c,f,g){b.find("input[name$=_mode]").val(c);
b.find("input[name$=_say]").val(f==null?"":f);b.find("input[name$=_play]").val(g==null?"":g);var m;if(c=="say")m=f;else if(c=="play")m=g;else alert("Unexpected mode: "+c);b.trigger("save",[c,m])},cancelDeviceRecordingIfActive:function(b){(b=b.data("cancel_recording_function"))&&b()},startDeviceRecording:function(b){b.preventDefault();var c=$(this).closest(".audio-choice");b=c.find("input[name$=_tag]").val();var f=$("select[name=callerid] option:first"),g=$("input[name=callerid]");f=f.length>0?f.val():
g.val();g=c.find(".audio-choice-record").find("input[name=number]").val();var m=function(){c.find(".audio-choice-editor .audio-choice-record .input").show();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").hide();c.find(".audio-choice-editor .audio-choice-record .status.in-call").hide()},l=function(){c.find(".audio-choice-editor .audio-choice-record .input").hide();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").hide();c.find(".audio-choice-editor .audio-choice-record .status.in-call").show()},
d=false,r=null;c.data("cancel_recording_function",function(){if(!d){d=true;m();r!=null&&$.ajax({url:OpenVBX.home+"/audiofiles/cancel_recording",type:"POST",dataType:"json",data:{id:r},success:function(){}})}});(function(){c.find(".audio-choice-editor .audio-choice-record .input").hide();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").show();c.find(".audio-choice-editor .audio-choice-record .status.in-call").hide()})();$.ajax({url:OpenVBX.home+"/audiofiles/add_from_twilio_recording",
data:{to:g,callerid:f,tag:b},success:function(s){if(s.error){m();$(".audio-choice-record .error",c).html(s.message).removeClass("hide")}else{r=s.id;if(d&&s.id)$.ajax({url:OpenVBX.home+"audiofiles/cancel_recording",type:"POST",dataType:"json",data:{id:r},success:function(){}});else{l();var k=function(C){c.data("cancel_recording_function",null);m();Pickers.audio.saveValue(c,"play",null,C.url);Pickers.audio.insertRecordingIntoLibrary(c,C.url,C.label);Pickers.audio.closeEditorAndShowPlayValue(c,C.url,
true)},j=0,w=function(C){if(!d){if(C)if(C.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){m();$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("There was a problem checking to see if the recording had finished: "+C.message);$(".error-dialog").dialog("open");return}else if(C.finished)return k(C);if(j<=25){j++;return setTimeout(function(){$.ajax({url:OpenVBX.home+"/audiofiles/check_if_recording_is_finished",type:"POST",dataType:"json",
data:{id:r},success:w,error:function(){},global:false})},6E3)}}};w()}}},type:"POST",dataType:"json"})},insertRecordingIntoLibrary:function(b,c,f){var g=b.find("select[name=library]");$("<option value='"+c+"' title='"+(new Date).getTime()/1E3+"'>"+f+"</option>").insertAfter(g.find("option[value=]"));b.find(".audio-choice-library .empty-container").hide();b.find(".audio-choice-library .chooser-container").show()},chooseRecordingFromLibrary:function(b){b.preventDefault();b=$(this).closest(".audio-choice");
Pickers.audio.showPlayer(b,"library",$(this).val(),true)},setRecordingFromLibarary:function(b){b.preventDefault();b=$(this).closest(".audio-choice");var c=b.find("select[name=library]").val();if(c!=""){Pickers.audio.saveValue(b,"play",null,c);Pickers.audio.closeEditorAndShowPlayValue(b,c,false)}},hidePlayer:function(b,c){var f=b.data("soundId");if(f){soundManager.destroySound(f);b.data("soundId",null)}b.find("."+c+"-player").hide()},showPlayer:function(b,c,f,g){if(matches=f.match(/^vbx-audio-upload:\/\/(.*)$/))f=
OpenVBX.assets+"/audio-uploads/"+matches[1];var m=b.find("."+c+"-player");m.show();var l=m.find("."+c+"-play-button"),d=m.find("."+c+"-pause-button"),r=m.find("."+c+"-load-bar"),s=m.find("."+c+"-play-bar"),k=m.find("."+c+"-play-time");l.show();d.hide();r.css("width","0px");s.css("width","0px");k.html('<img src="'+OpenVBX.assets+'assets/i/ajax-loader.gif" alt="..." />');var j=function(B,F){r.css("width","100%");s.css("width",F+"%");k.text(convertMsecsToMinutesAndSeconds(B.position))};c=function(){l.show();
d.hide()};m=function(){l.hide();d.show()};var w=b.data("soundId");w!=null&&soundManager.getSoundById(w)!=null&&soundManager.destroySound(w);w="sound-"+Math.round(Math.random()*1E6).toString(16);b.data("soundId",w);var C=soundManager.createSound({id:w,url:f,onplay:m,onresume:m,onpause:c,onfinish:c,onload:function(){k.html("");r.css("width","100%")},whileloading:function(){var B=Math.round(this.bytesLoaded/this.bytesTotal*100);r.css("width",B+"%")},whileplaying:function(){var B=Math.round(this.position/
this.duration*100);j(this,B)}});l.unbind();l.click(function(B){B.preventDefault();C.paused?C.resume():C.play()});d.unbind();d.click(function(B){B.preventDefault();C.pause()});r.unbind();r.click(function(B){var F=r.offset();B=B.pageX-F.left;F=r.width();C.setPosition(B/F*C.durationEstimate);j(C,Math.round(B/F*100))});g?C.play():C.load()},selectAction:function(b){b.preventDefault();b=$(this).attr("href");var c=$(this).closest(".audio-choice");c.trigger("editor-open",[c]);c.find(".audio-choice-selector").hide();
c.find(".audio-choice-editor").show();c.find(".audio-choice-editor .audio-choice-"+b).show();if(b=="read-text"){var f=c.find("input[name$=_say]").val();c.find(".audio-choice-editor .audio-choice-"+b).find("textarea").val(f)}else if(b=="library"){b=c.find(".audio-choice-library").find("select[name=library]");b.unbind("change",Pickers.audio.chooseRecordingFromLibrary);b.change(Pickers.audio.chooseRecordingFromLibrary);b.find("option").each(function(m,l){l=$(l);if((m=l.attr("title"))&&m!=""){l.attr("title",
"");m=parseInt(m)*1E3;l.text(l.text()+" ("+convertTimeToString(m)+")")}})}else if(b=="upload"){swfControl=c.find(".swfupload-control");b=c.find(".button");var g=function(m){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text(m);$(".error-dialog").dialog("open")};swfControl.swfupload({upload_url:OpenVBX.home+"/audiofiles/add_file",file_size_limit:"10240",file_types:"*.mp3",file_types_description:"Audio Files",
file_upload_limit:"0",flash_url:OpenVBX.assets+"assets/j/swfupload/swfupload.swf",button_image_url:OpenVBX.assets+"assets/j/swfupload/transparent_538x68.png",button_width:"100%",button_height:68,button_placeholder:b[0],button_window_mode:"transparent",debug:false,post_params:{tag:c.find("input[name$=_tag]").val()}}).bind("fileQueued",function(){$(this).swfupload("startUpload");c.find(".audio-choice-editor .audio-choice-upload .upload-bar-container").show();c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("visibility",
"hidden");c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("height","0px")}).bind("uploadSuccess",function(m,l,d){m=JSON.parse(d);if(m.error)g(m.message);else{Pickers.audio.saveValue(c,"play",null,m.url);Pickers.audio.insertRecordingIntoLibrary(c,m.url,m.label);Pickers.audio.closeEditorAndShowPlayValue(c,m.url,true)}c.find(".audio-choice-editor .audio-choice-upload .upload-progress-bar").css("width","0px");c.find(".audio-choice-editor .audio-choice-upload .upload-bar-container").hide();
c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("visibility","visible");c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("height","68px")}).bind("uploadProgress",function(m,l,d,r){c.find(".audio-choice-editor .audio-choice-upload .upload-progress-bar").css("width",d/r*100+"%")}).bind("uploadComplete",function(){}).bind("uploadError",function(m,l,d,r){g("Upload failed: "+r)})}},closeEditor:function(b){b.trigger("editor-close",[b]);b.find(".audio-choice-upload").is(":visible")&&
b.find(".swfupload-control").swfuploadUnload();b.find(".audio-choice-record").is(":visible")&&Pickers.audio.cancelDeviceRecordingIfActive(b);b.find("select[name=library]").attr("selectedIndex",0);Pickers.audio.hidePlayer(b,"library");b.find(".audio-choice-editor-padding").children().each(function(){$(this).hide()});b.find(".audio-choice-editor").hide()},closeEditorsAndShowSelector:function(b){b.preventDefault();b=$(this).closest(".audio-choice");Pickers.audio.closeEditor(b);b.find(".error").text("").addClass("hide");
b.find(".audio-choice-selector").show()},closeEditorAndShowSayValue:function(b,c){Pickers.audio.closeEditor(b);b.find(".audio-choice-current-value").show();b.find(".audio-choice-current-value .audio-choice-play-audio").hide();b.find(".audio-choice-current-value .audio-choice-read-text").show();b.find(".audio-choice-current-value .audio-choice-read-text").find(".read-text").text(c)},closeEditorAndShowPlayValue:function(b,c,f){Pickers.audio.closeEditor(b);b.find(".audio-choice-current-value").show();
b.find(".audio-choice-current-value .audio-choice-play-audio").show();b.find(".audio-choice-current-value .audio-choice-read-text").hide();b.find(".audio-choice-current-value .audio-choice-read-text").find(".read-text").text();Pickers.audio.showPlayer(b,"current",c,f)},showInputSelector:function(b){b.preventDefault();b=$(this).closest(".audio-choice");var c=b.find(".audio-choice-current-value");c.children().each(function(){$(this).hide()});c.hide();b.find(".audio-choice-selector").show();b.find(".audio-choice-close-button").show()},
closeSelectorAndShowCurrentValue:function(b){b.preventDefault();b=$(this).closest(".audio-choice");b.find(".audio-choice-editor").hide();b.find(".audio-choice-selector").hide();b.find(".audio-choice-current-value").show();var c=b.find("input[name$=_mode]").val();if(c=="say")b.find(".audio-choice-current-value .audio-choice-read-text").show();else c=="play"?b.find(".audio-choice-current-value .audio-choice-play-audio").show():alert("Unexpected mode: "+c)},saveReadText:function(b,c){b.preventDefault();
b=$(this).closest(".audio-choice-read-text");if($(c).length){b=$(c).closest(".audio-choice-read-text");c=$(c).closest(".audio-choice")}else c=$(this).closest(".audio-choice");if(b=b.find(".voicemail-text").val()){Pickers.audio.saveValue(c,"say",b,null);Pickers.audio.closeEditorAndShowSayValue(c,b)}}},usergroup:{picker:null,open:function(b){$(".usergroup-dialog").length>0&&$(".usergroup-dialog").remove();$("body").append($(b));$(".usergroup-dialog").dialog({bgiframe:true,resizable:false,height:480,
width:500,modal:true,title:"Choose a user or group",overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Cancel:function(){$(this).dialog("close")},"Add User":Pickers.usergroup.addUser,"Add Group":Pickers.usergroup.addGroup}});$(".usergroup-dialog").dialog("open")},dialog:function(b){b.preventDefault();Pickers.usergroup.picker=b.target;$.ajax({url:OpenVBX.home+"/dialog/usergroup",cache:false,data:{barebones:1},success:function(c){Pickers.usergroup.open(c)},dataType:"html"});return false},hoverIn:function(b){$(b.target).parents("tr").addClass("hover")},
hoverOut:function(b){$(b.target).parents("tr").removeClass("hover")},select:function(b){var c=$(b.target).parents("tr"),f=c.attr("rel").replace(/^(user|group)_/,"");c=c.hasClass("user")?"user":"group";var g="";b=$(b.target).parents("tr").children("td");g=c=="user"?$(b[1]).text()+" ("+$(b[2]).text()+")":$(b[1]).text();Pickers.usergroup.setPickerValue(f,c,g)},setPickerValue:function(b,c,f){var g=$(Pickers.usergroup.picker).parents(".usergroup-container");$(g).find("p").addClass("selected-usergroup").removeClass("placeholder");
$("input.usergroup-id",g).val(b);$("input.usergroup-type",g).val(c);$(".selected-usergroup",g).text(f);$(".usergroup-dialog").dialog("close");$(g).trigger("usergroup-selected",[f,c,b])},editUser:function(b){b.preventDefault();b.stopPropagation();b=$(b.target).closest("tr").attr("rel").replace(/^user_/,"");$.postJSON("accounts/user/get",{id:b},showUserEdit);$(document).unbind("user-edited",Pickers.usergroup.userEdited);$(document).bind("user-edited",Pickers.usergroup.userEdited);return false},editGroup:function(b){b.preventDefault();
b.stopPropagation();b=$(b.target).closest("tr").attr("rel").replace(/^group_/,"");$.postJSON("accounts/group/get",{id:b},showGroupEdit);$(document).unbind("group-edited",Pickers.usergroup.groupEdited);$(document).bind("group-edited",Pickers.usergroup.groupEdited);return false},addUser:function(){showUserAdd(null);$(document).unbind("user-added",Pickers.usergroup.userAdded);$(document).bind("user-added",Pickers.usergroup.userAdded)},addGroup:function(){showGroupEdit(null);$(document).unbind("group-added",
Pickers.usergroup.groupAdded);$(document).bind("group-added",Pickers.usergroup.groupAdded)},userAdded:function(b,c){Pickers.usergroup.setPickerValue(c.id,"user",c.first_name+" "+c.last_name+" ("+c.email+")")},userEdited:function(b,c){b=$(".usergroup-dialog .users-and-groups-table tr[rel=user_"+c.id+"]").find("td");$(b[1]).text(c.first_name+" "+c.last_name);$(b[2]).text(c.email)},groupAdded:function(b,c){Pickers.usergroup.setPickerValue(c.id,"group",c.name)},groupEdited:function(b,c){b=$(".usergroup-dialog .users-and-groups-table tr[rel=group_"+
c.id+"]").find("td");$(b[1]).text(c.name)}}};
$(document).ready(function(){if($.browser.msie){$(".audio-choice-selector a").livequery("click",Pickers.audio.selectAction);$(".audio-choice-editor .audio-choice-close-button").livequery("click",Pickers.audio.closeEditorsAndShowSelector);$(".audio-choice-editor .audio-choice-read-text button[type=submit]").livequery("click",Pickers.audio.saveReadText);$(".audio-choice-current-value .change").livequery("click",Pickers.audio.showInputSelector);$(".audio-choice-selector .audio-choice-close-button").livequery("click",Pickers.audio.closeSelectorAndShowCurrentValue);
$(".audio-choice-editor .audio-choice-record button[type=submit]").livequery("click",Pickers.audio.startDeviceRecording);$(".audio-choice-editor .audio-choice-library button[type=submit]").livequery("click",Pickers.audio.setRecordingFromLibarary);$(".audio-choice-editor .swfupload-control").livequery("mouseenter",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").addClass("hover")});$(".audio-choice-editor .swfupload-control").livequery("mouseleave",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").removeClass("hover")});
$(".usergroup-picker").livequery("click",Pickers.usergroup.dialog);$(".usergroup-dialog td").livequery("mouseover",Pickers.usergroup.hoverIn).livequery("mouseout",Pickers.usergroup.hoverOut);$(".usergroup-dialog td").livequery("click",Pickers.usergroup.select);$(".usergroup-dialog a.edit-user").livequery("click",Pickers.usergroup.editUser);$(".usergroup-dialog a.edit-group").livequery("click",Pickers.usergroup.editGroup)}else{$(".audio-choice-selector a").live("click",Pickers.audio.selectAction);
$(".audio-choice-editor .audio-choice-close-button").live("click",Pickers.audio.closeEditorsAndShowSelector);$(".audio-choice-editor .audio-choice-read-text button[type=submit]").live("click",Pickers.audio.saveReadText);$(".audio-choice-current-value .change").live("click",Pickers.audio.showInputSelector);$(".audio-choice-selector .audio-choice-close-button").live("click",Pickers.audio.closeSelectorAndShowCurrentValue);$(".audio-choice-editor .audio-choice-record button[type=submit]").live("click",
Pickers.audio.startDeviceRecording);$(".audio-choice-editor .audio-choice-library button[type=submit]").live("click",Pickers.audio.setRecordingFromLibarary);$(".audio-choice-editor .swfupload-control").live("mouseenter",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").addClass("hover")});$(".audio-choice-editor .swfupload-control").live("mouseleave",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").removeClass("hover")});$(".usergroup-picker").live("click",
Pickers.usergroup.dialog);$(".usergroup-dialog td").live("mouseover",Pickers.usergroup.hoverIn).live("mouseout",Pickers.usergroup.hoverOut);$(".usergroup-dialog td").live("click",Pickers.usergroup.select);$(".usergroup-dialog a.edit-user").live("click",Pickers.usergroup.editUser);$(".usergroup-dialog a.edit-group").live("click",Pickers.usergroup.editGroup)}});var Message={};
Message.Select={select_all:function(b){$("input[type=checkbox]",b).attr("checked","checked").trigger("checked")},select_none:function(b){$("input[type=checkbox]",b).removeAttr("checked").trigger("unchecked")},select_unread:function(b){$("input[type=checkbox]",b.filter(".read")).removeAttr("checked").trigger("unchecked");$("input[type=checkbox]",b.filter(".unread")).attr("checked","checked").trigger("checked")},select_read:function(b){$("input[type=checkbox]",b.filter(".unread")).removeAttr("checked").trigger("unchecked");$("input[type=checkbox]",
b.filter(".read")).attr("checked","checked").trigger("checked")}};
Message.Detail={update:function(b,c,f){b=typeof b=="object"?b.join(","):b;$.ajax({url:OpenVBX.home+"messages/details/"+b,success:function(g){if(!g.error){f(g);$.ajax({url:OpenVBX.home+"messages/inbox",success:function(m){m.error||$.each(m.folders,function(){$(".count[rel="+this.id+"]").text(this["new"])})},type:"GET",dataType:"json"})}},error:function(){},data:c,dataType:"json",type:"POST"})},archive:function(b,c){this.update(b,{archived:true},c)},assign:function(b,c,f){this.update(b,{assigned:c},
f)}};
Message.Player={getRecordingUrls:function(b){if(Message.Player.messageIdsToRecordingURLs)return b();$.ajax({success:function(c){if(!c.error){Message.Player.messageIdsToRecordingURLs={};if("recording_url"in c)Message.Player.messageIdsToRecordingURLs[c.id]=c.recording_url+".mp3";if("messages"in c)for(var f in Message.Player.messages){var g=c.messages[f];Message.Player.messageIdsToRecordingURLs[g.id]=g.recording_url+".mp3"}Message.Player.allowPause=true;return b()}},type:"GET",dataType:"json"})},messageIdsToRecordingURLs:null,
currentSoundObject:null,currentMessageAnchor:null,lastLoadBarHandler:null,allowPause:false,nextMessageToPlayAnchor:null,togglePlayForMessage:function(b){var c=function(f){if(Message.Player.currentMessageAnchor!=null&&Message.Player.currentMessageAnchor!=f){Message.Player.nextMessageToPlayAnchor=f;Message.Player.currentSoundObject.stop()}else if(Message.Player.currentMessageAnchor!=null&&Message.Player.currentMessageAnchor==f)if(Message.Player.currentSoundObject.paused)Message.Player.currentSoundObject.resume();
else Message.Player.allowPause?Message.Player.currentSoundObject.pause():Message.Player.currentSoundObject.stop();else Message.Player.playMessage(f)};Message.Player.getRecordingUrls(function(){c(b)})},playMessage:function(b){Message.Player.currentMessageAnchor=b;b=$(b);var c=b.attr("id").replace("play-","");Message.Player.currentSoundId="message-"+c;if(!(c in Message.Player.messageIdsToRecordingURLs))throw"Unable to find the recording URL for id '"+c+"'";c=Message.Player.messageIdsToRecordingURLs[c];
b=b.closest(".message-row");var f=b.find(".playback-button"),g=b.find(".player"),m=b.find(".transcript");g=b.find(".player");var l=b.find(".load-bar"),d=b.find(".play-bar"),r=b.find(".play-time"),s=function(k,j){l.css("width","100%");d.css("width",j+"%");r.text(convertMsecsToMinutesAndSeconds(k.position))};b=function(){f.removeClass("pause").removeClass("stop").addClass("play");g.removeClass("current-player").hide();m.show();Message.Player.currentMessageAnchor=null;Message.Player.currentSoundObject.destruct();
Message.Player.currentSoundObject=null;if(Message.Player.nextMessageToPlayAnchor!=null){var k=Message.Player.nextMessageToPlayAnchor;Message.Player.nextMessageToPlayAnchor=null;Message.Player.togglePlayForMessage(k)}};Message.Player.currentSoundObject=soundManager.createSound({id:Message.Player.currentSoundId,url:c,onplay:function(){f.removeClass("play");Message.Player.allowPause?f.addClass("pause"):f.addClass("stop");g.addClass("current-player").show();m.hide()},onresume:function(){f.removeClass("play").addClass("pause")},
onpause:function(){f.removeClass("pause").addClass("play")},onstop:b,onfinish:b,onload:function(){r.html("");l.css("width","100%")},whileloading:function(){var k=Math.round(this.bytesLoaded/this.bytesTotal*100);l.css("width",k+"%")},whileplaying:function(){var k=Math.round(this.position/this.duration*100);s(this,k)}});Message.Player.currentSoundObject.play();Message.Player.lastLoadBarHandler!=null&&l.unbind("click",Message.Player.lastLoadBarHandler);Message.Player.lastLoadBarHandler=function(k){k.stopPropagation();
var j=Message.Player.currentSoundObject,w=l.offset();k=k.pageX-w.left;w=l.width();j.setPosition(k/w*j.durationEstimate);s(j,Math.round(k/w*100))};l.click(Message.Player.lastLoadBarHandler)}};
$(document).ready(function(){(function(){var c=new Date,f=(new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0)).getTime(),g=(new Date(c.getFullYear(),0,1,0,0,0)).getTime();$(".unformatted-absolute-timestamp").each(function(m,l){l=$(l);m=parseInt(l.text())*1E3;l.text(convertTimeToString(m,f,g));l.removeClass("hide")});c=function(){$(".unformatted-relative-timestamp").each(function(m,l){l=$(l);m=l.data("timestamp");if(!m){m=parseInt(l.text())*1E3;l.data("timestamp",m)}var d=(new Date).getTime(),
r=d-m,s=Math.floor(r/1E3/60);r=Math.floor(r/1E3/60/60);d>m&&d-m<36E5?l.text(r==0?s+" minutes ago":r+" hour"+(r>1?"s":"")+" ago"):l.text(convertTimeToString(m));l.removeClass("hide")})};c();setInterval(c,6E4)})();Message.Player.player=$("#audio-player");$("a.quick-play").click(function(c){c.preventDefault();Message.Player.togglePlayForMessage(this)});$(".caller-id-phone a").click(function(){var c=$(this);c.parents("ul.caller-id-phone")?c.hide().parents("ul").append('<li class="calling">Calling...</li>'):
c.hide().parent().append('<li class="calling">Calling...</li>');$.ajax({url:$(this).attr("href"),data:{callerid:$(".callerid",this).text(),from:$(".from",this).text(),to:$(".to",this).text()},dataType:"json",type:"POST",success:function(f){if(f.error){$(".error-dialog").data("dialog.uiDialog").uiDialogTitlebar.text("Twilio Sandbox");$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text(f.message);$(".error-dialog").dialog("open")}$(".quick-call-popup .calling").remove();$(".quick-call-popup.open").toggleClass("open");
c.show()}});return false});$(".quick-call-popup").click(function(){return false});$(".quick-sms-popup").click(function(){return false});$(".quick-sms-popup .send-button").click(function(c){var f=$(this).parents(".quick-sms-popup");$(".sending-sms-loader").show();$.ajax({url:OpenVBX.home+"messages/sms/"+$(this).attr("rel"),data:{from:$(".from-phone",f).text(),to:$(".sms-to-phone",f).text(),content:$("input[name=content]",f).val()},success:function(g){$(".sending-sms-loader").hide();if(!g.error){$("textarea",
f).val("");$(f).hide()}},error:function(){$(".sending-sms-loader").hide()},type:"POST",dataType:"json"});c.preventDefault()});$(".message-row").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});$(".message-row td").mousedown(function(){$(".message-row").removeClass("clicked");$(this).parent().addClass("mousedown")});$("body").mouseup(function(){$(".message-row").removeClass("mousedown")});$(".message-row td.message-details-link").click(function(){$(this).parent().addClass("clicked");
document.location=OpenVBX.home+"messages/details/"+$(this).parent().attr("rel")});$(".select").click(function(){var c=$(this).attr("class").replace("select ","").replace("-","_");c=Message.Select[c]||function(){};c($(".message-row"));$(".dropdown-select-button").parent().children("ul.open").toggleClass("open");return false});$("input[type=checkbox]").change(function(){this.checked?$(this).trigger("checked"):$(this).trigger("unchecked")});$(".message-select input[type=checkbox]").bind("checked",function(){$(this).parent().parent().addClass("checked")}).bind("unchecked",
function(){$(this).parent().parent().removeClass("checked")});$(".assign-button").buttonista({menu:".assign-to-popup"});$(".assign-button").click(function(c){var f=$(this).parent().children(".assign-to-popup");f.top($(this).top()-1);f.right($(this).right()+5);var g=$(document).scrollTop(),m=$(document).scrollTop()+$(window).height();f.top()<g&&f.top(g+10);f.bottom()>m&&f.bottom(m-10);c.preventDefault()});$(".quick-call-button").buttonista({menu:".quick-call-popup"});$(".quick-sms-button").buttonista({menu:".quick-sms-popup",
toggler:".sms-toggler"});var b=function(){var c=$(this).val().length;$(this).parents(".quick-sms-popup, #reply-sms").children(".count").text(160-c)};$(".quick-sms-popup input[name=content]").live("keypress",b);$(".quick-sms-popup input[name=content]").keypress();$("#reply-sms textarea").live("keypress",b);$("#reply-sms textarea").live("change",b);$("#reply-sms textarea").keypress();$("#reply-sms .submit-button").click(function(c){c.preventDefault();$("#reply-sms button").attr("disabled","disabled");
$("#reply-sms .loader").show();$.ajax({url:$("#reply-sms").attr("action"),data:$("#reply-sms"),success:function(){$("#reply-sms .loader").hide();$.notify("SMS sent");$("#reply-sms textarea").val("");$("#reply-sms .submit-button").removeAttr("disabled").flicker()},type:"POST",dataType:"json"});return false});$(".dropdown-select-button").buttonista();$(".delete-button").click(function(){if($(".delete-button").attr("id").match("delete-")){c=$(this).attr("id").replace("delete-","");Message.Detail.archive(c,
function(){$(".delete-button span").text("Deleted")})}else{var c=[];$("input[name^=message]:checked").each(function(){c.push($(this).val())}).queue(function(){c.length&&Message.Detail.archive(c,function(){for(var f in c)$("tr[rel="+c[f]+"]").remove();$.notify("Deleted "+c.length+" message"+(c.length>1?"s":""))})})}return false});$(".assign-user-list .user a").live("click",function(c){c.preventDefault();var f=$(this),g;g=(c=f.text().match(/\((..)\)$/))?c[1]:"";Message.Detail.assign($(this).parents("tr").attr("rel"),
$(this).attr("rel"),function(){f.parents("ul").find("li").removeClass("assigned");f.parent().addClass("assigned");f.parents("td").find(".owner-name").text(g);f.parents(".assign-to-popup").removeClass("open")})});$("#save-details").click(function(){$("#message-details").submit()})});$(document).ready(function(){OpenVBX.version={check:function(b){b&&!b.error&&$.notify("OpenVBX Update is available","http://openvbx.org/download");$.cookie("last-update",true,{expires:1,path:"/"})}};$.cookie("last-update")||$.getJSON(OpenVBX.home+"/client/updates",OpenVBX.version.check)});
