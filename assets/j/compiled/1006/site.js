/*

 SoundManager 2: JavaScript Sound for the Web
 ----------------------------------------------
 http://schillmania.com/projects/soundmanager2/

 Copyright (c) 2007, Scott Schiller. All rights reserved.
 Code provided under the BSD License:
 http://schillmania.com/projects/soundmanager2/license.txt

 V2.97a.20110706
*/
var a;
(function(b){function c(e,g){function l(s){return function(h){if(!this._t||!this._t._a){this._t&&this._t.sID?f._wD(p+"ignoring "+h.type+": "+this._t.sID):f._wD(p+"ignoring "+h.type);return null}else return s.call(this,h)}}function k(){if(f.debugURLParam.test(R))f.debugMode=true;if(u(f.debugID))return false;var s,h,M,S;if(f.debugMode&&!u(f.debugID)&&(!pb||!f.useConsole||f.useConsole&&pb&&!f.consoleOnly)){s=E.createElement("div");s.id=f.debugID+"-toggle";h={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",
height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};s.appendChild(E.createTextNode("-"));s.onclick=Ka;s.title="Toggle SM2 debug console";if(y.match(/msie 6/i)){s.style.position="absolute";s.style.cursor="hand"}for(S in h)if(h.hasOwnProperty(S))s.style[S]=h[S];h=E.createElement("div");h.id=f.debugID;h.style.display=f.debugMode?"block":"none";if(f.debugMode&&!u(s.id)){try{M=ab();M.appendChild(s)}catch(F){throw new Error(ga("appXHTML"));
}M.appendChild(h)}}}this.flashVersion=8;this.debugMode=true;this.debugFlash=false;this.useConsole=true;this.waitForWindowLoad=this.consoleOnly=false;this.nullURL="about:blank";this.allowPolling=true;this.useFastPolling=false;this.useMovieStar=true;this.bgColor="#ffffff";this.useHighPerformance=false;this.flashPollingInterval=null;this.flashLoadTimeout=1E3;this.wmode=null;this.allowScriptAccess="always";this.useHTML5Audio=this.useFlashBlock=false;this.html5Test=/^probably$/i;this.preferFlash=this.useGlobalHTML5Audio=
true;this.requireFlash=false;this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:true},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:true},ogg:{type:["audio/ogg; codecs=vorbis"],required:false},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:false}};this.defaultOptions={autoLoad:false,stream:true,autoPlay:false,
loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfailure:null,onfinish:null,onbeforefinish:null,onbeforefinishtime:5E3,onbeforefinishcomplete:null,onjustbeforefinish:null,onjustbeforefinishtime:200,multiShot:true,multiShotEvents:false,position:null,pan:0,type:null,usePolicyFile:false,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions=
{bufferTime:3,serverURL:null,onconnect:null,duration:null};this.version=null;this.versionNumber="V2.97a.20110706";this.movieURL=null;this.url=e||null;this.altURL=null;this.enabled=this.swfLoaded=false;this.o=null;this.movieID="sm2-container";this.id=g||"sm2movie";this.swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};
this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.didFlashBlock=this.specialWmodeCase=false;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.baseMimeTypes=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.netStreamMimeTypes=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.netStreamTypes=["aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"];this.netStreamPattern=
new RegExp("\\.("+this.netStreamTypes.join("|")+")(\\?.*)?$","i");this.mimePattern=this.baseMimeTypes;this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};
this.hasHTML5=null;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=false;var o,f=this,p="HTML5::",u,y=navigator.userAgent,C=b,R=C.location.href.toString(),K=this.flashVersion,E=document,Q,j,la=[],ba=true,P,qa=false,Ha=false,fa=false,wa=false,Wa=false,pa,ya=0,ia,sa,Ma,Da,za,Qa,Ba,Sa,Ca,Na,cb,Ia,La,Aa,bb,ab,Z,D,J,V=["log","info","warn","error"],X,Y,ka,ha=null,ra=null,ga,Ra,Ja,Ka,Ea,Ta,Xa,xa,jb=false,db=false,qb,ub,Ya=null,vb,lb,eb,Ua,mb,Fa,Ga,rb=Array.prototype.slice,fb=false,gb,Za,wb;e=
y.match(/pre\//i);g=y.match(/(ipad|iphone|ipod)/i);y.match(/mobile/i);var Va=y.match(/msie/i),Bb=y.match(/webkit/i),kb=y.match(/safari/i)&&!y.match(/chrome/i),Cb=y.match(/opera/i),sb=!R.match(/usehtml5audio/i)&&!R.match(/sm2\-ignorebadua/i)&&kb&&y.match(/OS X 10_6_([3-7])/i),pb=typeof console!=="undefined"&&typeof console.log!=="undefined",nb=typeof E.hasFocus!=="undefined"?E.hasFocus():null,$a=typeof E.hasFocus==="undefined"&&kb,xb=!$a,yb=/(mp3|mp4|mpa)/i;this.html5Only=false;this._use_maybe=R.match(/sm2\-useHTML5Maybe\=1/i);
this._overHTTP=E.location?E.location.protocol.match(/http/i):null;this._http=!this._overHTTP?"http:":"";this.useAltURL=!this._overHTTP;this._global_a=null;if(g||e){f.useHTML5Audio=true;f.ignoreFlash=true;fb=f.useGlobalHTML5Audio=true}if(e||this._use_maybe)f.html5Test=/^(probably|maybe)$/i;(function(){var s=R,h=null;if(s.indexOf("#sm2-usehtml5audio=")!==-1){h=s.charAt(s.indexOf("#sm2-usehtml5audio=")+19)==="1";if(typeof console!=="undefined"&&typeof console.log!=="undefined")console.log((h?"Enabling ":
"Disabling ")+"useHTML5Audio via URL parameter");f.useHTML5Audio=h}})();this.supported=this.ok=function(){return Ya?fa&&!wa:f.useHTML5Audio&&f.hasHTML5};this.getMovie=function(s){return Va?C[s]:kb?u(s)||E[s]:u(s)};this.createSound=function(s){function h(){M=Ea(M);f.sounds[F.id]=new o(F);f.soundIDs.push(F.id);return f.sounds[F.id]}var M=null,S=null,F=null;if(!fa||!f.ok()){Xa("soundManager.createSound(): "+ga(!fa?"notReady":"notOK"));return false}if(arguments.length===2)s={id:arguments[0],url:arguments[1]};
F=M=sa(s);F.id.toString().charAt(0).match(/^[0-9]$/)&&f._wD("soundManager.createSound(): "+ga("badID",F.id),2);f._wD("soundManager.createSound(): "+F.id+" ("+F.url+")",1);if(xa(F.id,true)){f._wD("soundManager.createSound(): "+F.id+" exists",1);return f.sounds[F.id]}if(lb(F)){S=h();f._wD("Loading sound "+F.id+" via HTML5");S._setup_html5(F)}else{if(K>8&&f.useMovieStar){if(F.isMovieStar===null)F.isMovieStar=F.serverURL||(F.type?F.type.match(f.netStreamPattern):false)||F.url.match(f.netStreamPattern)?
true:false;F.isMovieStar&&f._wD("soundManager.createSound(): using MovieStar handling");if(F.isMovieStar){if(F.usePeakData){pa("noPeak");F.usePeakData=false}F.loops>1&&pa("noNSLoop")}}F=Ta(F,"soundManager.createSound(): ");S=h();if(K===8)f.o._createSound(F.id,F.onjustbeforefinishtime,F.loops||1,F.usePolicyFile);else{f.o._createSound(F.id,F.url,F.onjustbeforefinishtime,F.usePeakData,F.useWaveformData,F.useEQData,F.isMovieStar,F.isMovieStar?F.bufferTime:false,F.loops||1,F.serverURL,F.duration||null,
F.autoPlay,true,F.autoLoad,F.usePolicyFile);if(!F.serverURL){S.connected=true;F.onconnect&&F.onconnect.apply(S)}}if((F.autoLoad||F.autoPlay)&&!F.serverURL)S.load(F)}F.autoPlay&&!F.serverURL&&S.play();return S};this.destroySound=function(s,h){if(!xa(s))return false;var M=f.sounds[s],S;M._iO={};M.stop();M.unload();for(S=0;S<f.soundIDs.length;S++)if(f.soundIDs[S]===s){f.soundIDs.splice(S,1);break}h||M.destruct(true);delete f.sounds[s];return true};this.load=function(s,h){if(!xa(s))return false;return f.sounds[s].load(h)};
this.unload=function(s){if(!xa(s))return false;return f.sounds[s].unload()};this.start=this.play=function(s,h){if(!fa||!f.ok()){Xa("soundManager.play(): "+ga(!fa?"notReady":"notOK"));return false}if(!xa(s)){h instanceof Object||(h={url:h});if(h&&h.url){f._wD('soundManager.play(): attempting to create "'+s+'"',1);h.id=s;return f.createSound(h).play()}else return false}return f.sounds[s].play(h)};this.setPosition=function(s,h){if(!xa(s))return false;return f.sounds[s].setPosition(h)};this.stop=function(s){if(!xa(s))return false;
f._wD("soundManager.stop("+s+")",1);return f.sounds[s].stop()};this.stopAll=function(){f._wD("soundManager.stopAll()",1);for(var s in f.sounds)f.sounds[s]instanceof o&&f.sounds[s].stop()};this.pause=function(s){if(!xa(s))return false;return f.sounds[s].pause()};this.pauseAll=function(){for(var s=f.soundIDs.length;s--;)f.sounds[f.soundIDs[s]].pause()};this.resume=function(s){if(!xa(s))return false;return f.sounds[s].resume()};this.resumeAll=function(){for(var s=f.soundIDs.length;s--;)f.sounds[f.soundIDs[s]].resume()};
this.togglePause=function(s){if(!xa(s))return false;return f.sounds[s].togglePause()};this.setPan=function(s,h){if(!xa(s))return false;return f.sounds[s].setPan(h)};this.setVolume=function(s,h){if(!xa(s))return false;return f.sounds[s].setVolume(h)};this.mute=function(s){var h=0;if(typeof s!=="string")s=null;if(s){if(!xa(s))return false;f._wD('soundManager.mute(): Muting "'+s+'"');return f.sounds[s].mute()}else{f._wD("soundManager.mute(): Muting all sounds");for(h=f.soundIDs.length;h--;)f.sounds[f.soundIDs[h]].mute();
f.muted=true}return true};this.muteAll=function(){f.mute()};this.unmute=function(s){if(typeof s!=="string")s=null;if(s){if(!xa(s))return false;f._wD('soundManager.unmute(): Unmuting "'+s+'"');return f.sounds[s].unmute()}else{f._wD("soundManager.unmute(): Unmuting all sounds");for(s=f.soundIDs.length;s--;)f.sounds[f.soundIDs[s]].unmute();f.muted=false}return true};this.unmuteAll=function(){f.unmute()};this.toggleMute=function(s){if(!xa(s))return false;return f.sounds[s].toggleMute()};this.getMemoryUse=
function(){if(K===8)return 0;if(f.o)return parseInt(f.o._getMemoryUse(),10)};this.disable=function(s){if(typeof s==="undefined")s=false;if(wa)return false;wa=true;pa("shutdown",1);for(var h=f.soundIDs.length;h--;)X(f.sounds[f.soundIDs[h]]);ia(s);Ga.remove(C,"load",za);return true};this.canPlayMIME=function(s){var h;if(f.hasHTML5)h=eb({type:s});return!Ya||h?h:s?s.match(f.mimePattern)?true:false:null};this.canPlayURL=function(s){var h;if(f.hasHTML5)h=eb({url:s});return!Ya||h?h:s?s.match(f.filePattern)?
true:false:null};this.canPlayLink=function(s){if(typeof s.type!=="undefined"&&s.type)if(f.canPlayMIME(s.type))return true;return f.canPlayURL(s.href)};this.getSoundById=function(s,h){if(!s)throw new Error("soundManager.getSoundById(): sID is null/undefined");var M=f.sounds[s];!M&&!h&&f._wD('"'+s+'" is an invalid sound ID.',2);return M};this.onready=function(s,h){if(s&&s instanceof Function){fa&&f._wD(ga("queue","onready"));h||(h=C);Ma("onready",s,h);Da();return true}else throw ga("needFunction","onready");
};this.ontimeout=function(s,h){if(s&&s instanceof Function){fa&&f._wD(ga("queue","ontimeout"));h||(h=C);Ma("ontimeout",s,h);Da({type:"ontimeout"});return true}else throw ga("needFunction","ontimeout");};this.getMoviePercent=function(){return f.o&&typeof f.o.PercentLoaded!=="undefined"?f.o.PercentLoaded():null};this._wD=this._writeDebug=function(s,h,M){var S,F;if(!f.debugMode)return false;if(typeof M!=="undefined"&&M)s=s+" | "+(new Date).getTime();if(pb&&f.useConsole){M=V[h];typeof console[M]!=="undefined"?
console[M](s):console.log(s);if(f.useConsoleOnly)return true}try{S=u("soundmanager-debug");if(!S)return false;F=E.createElement("div");if(++ya%2===0)F.className="sm2-alt";h=typeof h==="undefined"?0:parseInt(h,10);F.appendChild(E.createTextNode(s));if(h){if(h>=2)F.style.fontWeight="bold";if(h===3)F.style.color="#ff3333"}S.insertBefore(F,S.firstChild)}catch(B){}return true};this._debug=function(){pa("currentObj",1);for(var s=0,h=f.soundIDs.length;s<h;s++)f.sounds[f.soundIDs[s]]._debug()};this.reboot=
function(){f._wD("soundManager.reboot()");f.soundIDs.length&&f._wD("Destroying "+f.soundIDs.length+" SMSound objects...");var s,h;for(s=f.soundIDs.length;s--;)f.sounds[f.soundIDs[s]].destruct();try{if(Va)ra=f.o.innerHTML;ha=f.o.parentNode.removeChild(f.o);f._wD("Flash movie removed.")}catch(M){pa("badRemove",2)}ra=ha=null;f.enabled=fa=jb=db=qa=Ha=wa=f.swfLoaded=false;f.soundIDs=f.sounds=[];f.o=null;for(s in la)if(la.hasOwnProperty(s))for(h=la[s].length;h--;)la[s][h].fired=false;f._wD("soundManager: Rebooting...");
C.setTimeout(function(){f.beginDelayedInit()},20)};this.destruct=function(){f._wD("soundManager.destruct()");f.disable(true)};this.beginDelayedInit=function(){Wa=true;Aa();setTimeout(cb,20);Ba()};this._html5_events={abort:l(function(){f._wD(p+"abort: "+this._t.sID)}),canplay:l(function(){if(this._t._html5_canplay)return true;this._t._html5_canplay=true;f._wD(p+"canplay: "+this._t.sID+", "+this._t.url);this._t._onbufferchange(0);var s=!isNaN(this._t.position)?this._t.position/1E3:null;if(this._t.position&&
this.currentTime!==s){f._wD(p+"canplay: setting position to "+s+"");try{this.currentTime=s}catch(h){f._wD(p+"setting position failed: "+h.message,2)}}}),load:l(function(){if(!this._t.loaded){this._t._onbufferchange(0);this._t._whileloading(this._t.bytesTotal,this._t.bytesTotal,this._t._get_html5_duration());this._t._onload(true)}}),emptied:l(function(){f._wD(p+"emptied: "+this._t.sID)}),ended:l(function(){f._wD(p+"ended: "+this._t.sID);this._t._onfinish()}),error:l(function(){f._wD(p+"error: "+this.error.code);
this._t._onload(false)}),loadeddata:l(function(){f._wD(p+"loadeddata: "+this._t.sID)}),loadedmetadata:l(function(){f._wD(p+"loadedmetadata: "+this._t.sID)}),loadstart:l(function(){f._wD(p+"loadstart: "+this._t.sID);this._t._onbufferchange(1)}),play:l(function(){f._wD(p+"play: "+this._t.sID+", "+this._t.url);this._t._onbufferchange(0)}),playing:l(function(){f._wD(p+"playing: "+this._t.sID+", "+this._t.url);this._t._onbufferchange(0)}),progress:l(function(s){if(this._t.loaded)return false;var h,M,S;
S=0;var F=s.type==="progress";M=s.target.buffered;var B=s.loaded||0,I=s.total||1;if(M&&M.length){for(h=M.length;h--;)S=M.end(h)-M.start(h);B=S/s.target.duration;if(F&&M.length>1){S=[];M=M.length;for(h=0;h<M;h++)S.push(s.target.buffered.start(h)+"-"+s.target.buffered.end(h));f._wD(p+"progress: timeRanges: "+S.join(", "))}F&&!isNaN(B)&&f._wD(p+"progress: "+this._t.sID+": "+Math.floor(B*100)+"% loaded")}if(!isNaN(B)){this._t._onbufferchange(0);this._t._whileloading(B,I,this._t._get_html5_duration());
B&&I&&B===I&&f._html5_events.load.call(this,s)}}),ratechange:l(function(){f._wD(p+"ratechange: "+this._t.sID)}),suspend:l(function(s){f._wD(p+"suspend: "+this._t.sID);f._html5_events.progress.call(this,s)}),stalled:l(function(){f._wD(p+"stalled: "+this._t.sID)}),timeupdate:l(function(){this._t._onTimer()}),waiting:l(function(){f._wD(p+"waiting: "+this._t.sID);this._t._onbufferchange(1)})};o=function(s){var h=this,M,S,F;this.sID=s.id;this.url=s.url;this._iO=this.instanceOptions=this.options=sa(s);
this.pan=this.options.pan;this.volume=this.options.volume;this._lastURL=null;this.isHTML5=false;this._a=null;this.id3={};this._debug=function(){if(f.debugMode){var B=null,I=[],aa,ma;for(B in h.options)if(h.options[B]!==null)if(h.options[B]instanceof Function){aa=h.options[B].toString();aa=aa.replace(/\s\s+/g," ");ma=aa.indexOf("{");I.push(" "+B+": {"+aa.substr(ma+1,Math.min(Math.max(aa.indexOf("\n")-1,64),64)).replace(/\n/g,"")+"... }")}else I.push(" "+B+": "+h.options[B]);f._wD("SMSound() merged options: {\n"+
I.join(", \n")+"\n}")}};this._debug();this.load=function(B){var I=null;if(typeof B!=="undefined"){h._iO=sa(B,h.options);h.instanceOptions=h._iO}else{B=h.options;h._iO=B;h.instanceOptions=h._iO;if(h._lastURL&&h._lastURL!==h.url){pa("manURL");h._iO.url=h.url;h.url=null}}if(!h._iO.url)h._iO.url=h.url;f._wD("SMSound.load(): "+h._iO.url,1);if(h._iO.url===h.url&&h.readyState!==0&&h.readyState!==2){pa("onURL",1);return h}h._lastURL=h.url;h.loaded=false;h.readyState=1;h.playState=0;if(lb(h._iO)){I=h._setup_html5(h._iO);
if(I._called_load)f._wD("HTML5 ignoring request to load again: "+h.sID);else{f._wD(p+"load: "+h.sID);h._html5_canplay=false;I.load();I._called_load=true;h._iO.autoPlay&&h.play()}}else try{h.isHTML5=false;h._iO=Ta(Ea(h._iO));K===8?f.o._load(h.sID,h._iO.url,h._iO.stream,h._iO.autoPlay,h._iO.whileloading?1:0,h._iO.loops||1,h._iO.usePolicyFile):f.o._load(h.sID,h._iO.url,h._iO.stream?true:false,h._iO.autoPlay?true:false,h._iO.loops||1,h._iO.autoLoad?true:false,h._iO.usePolicyFile)}catch(aa){pa("smError",
2);P("onload",false);D()}return h};this.unload=function(){if(h.readyState!==0){f._wD('SMSound.unload(): "'+h.sID+'"');if(h.isHTML5){S();if(h._a){h._a.pause();h._a.src=""}}else K===8?f.o._unload(h.sID,f.nullURL):f.o._unload(h.sID);M()}return h};this.destruct=function(B){f._wD('SMSound.destruct(): "'+h.sID+'"');if(h.isHTML5){S();if(h._a){h._a.pause();h._a.src="";fb||h._remove_html5_events()}}else{h._iO.onfailure=null;f.o._destroySound(h.sID)}B||f.destroySound(h.sID,true)};this.start=this.play=function(B,
I){I=I===undefined?true:I;B||(B={});h._iO=sa(B,h._iO);h._iO=sa(h._iO,h.options);h.instanceOptions=h._iO;if(h._iO.serverURL)if(!h.connected){if(!h.getAutoPlay()){f._wD("SMSound.play():  Netstream not connected yet - setting autoPlay");h.setAutoPlay(true)}return h}if(lb(h._iO)){h._setup_html5(h._iO);F()}if(h.playState===1&&!h.paused)if(B=h._iO.multiShot)f._wD('SMSound.play(): "'+h.sID+'" already playing (multi-shot)',1);else{f._wD('SMSound.play(): "'+h.sID+'" already playing (one-shot)',1);return h}if(h.loaded)f._wD('SMSound.play(): "'+
h.sID+'"');else if(h.readyState===0){f._wD('SMSound.play(): Attempting to load "'+h.sID+'"',1);if(!h.isHTML5)h._iO.autoPlay=true;h.load(h._iO)}else if(h.readyState===2){f._wD('SMSound.play(): Could not load "'+h.sID+'" - exiting',2);return h}else f._wD('SMSound.play(): "'+h.sID+'" is loading - attempting to play..',1);if(h.paused&&h.position&&h.position>0){f._wD('SMSound.play(): "'+h.sID+'" is resuming from paused state',1);h.resume()}else{f._wD('SMSound.play(): "'+h.sID+'" is starting to play');
h.playState=1;h.paused=false;if(!h.instanceCount||h._iO.multiShotEvents||K>8&&!h.isHTML5&&!h.getAutoPlay())h.instanceCount++;h.position=typeof h._iO.position!=="undefined"&&!isNaN(h._iO.position)?h._iO.position:0;if(!h.isHTML5)h._iO=Ta(Ea(h._iO));if(h._iO.onplay&&I){h._iO.onplay.apply(h);h._onplay_called=true}h.setVolume(h._iO.volume,true);h.setPan(h._iO.pan,true);if(h.isHTML5){F();I=h._setup_html5();h.setPosition(h.position);I.play()}else f.o._start(h.sID,h._iO.loops||1,K===9?h.position:h.position/
1E3)}return h};this.stop=function(B){if(h.playState===1){h._onbufferchange(0);h.resetOnPosition(0);if(!h.isHTML5)h.playState=0;h.paused=false;h._iO.onstop&&h._iO.onstop.apply(h);if(h.isHTML5){if(h._a){h.setPosition(0);h._a.pause();h.playState=0;h._onTimer();S();h.unload()}}else{f.o._stop(h.sID,B);h._iO.serverURL&&h.unload()}h.instanceCount=0;h._iO={}}return h};this.setAutoPlay=function(B){f._wD("sound "+h.sID+" turned autoplay "+(B?"on":"off"));h._iO.autoPlay=B;if(h.isHTML5)h._a&&B&&h.play();else f.o._setAutoPlay(h.sID,
B);if(B)if(!h.instanceCount&&h.readyState===1){h.instanceCount++;f._wD("sound "+h.sID+" incremented instance count to "+h.instanceCount)}};this.getAutoPlay=function(){return h._iO.autoPlay};this.setPosition=function(B){if(B===undefined)B=0;var I=h.isHTML5?Math.max(B,0):Math.min(h.duration||h._iO.duration,Math.max(B,0));h.position=I;B=h.position/1E3;h.resetOnPosition(h.position);h._iO.position=I;if(h.isHTML5){if(h._a)if(h._html5_canplay){if(h._a.currentTime!==B){f._wD("setPosition("+B+"): setting position");
try{h._a.currentTime=B;if(h.playState===0||h.paused)h._a.pause()}catch(aa){f._wD("setPosition("+B+"): setting position failed: "+aa.message,2)}}}else f._wD("setPosition("+B+"): delaying, sound not ready")}else{B=K===9?h.position:B;if(h.readyState&&h.readyState!==2)f.o._setPosition(h.sID,B,h.paused||!h.playState)}h.isHTML5&&h.paused&&h._onTimer(true);return h};this.pause=function(B){if(h.paused||h.playState===0&&h.readyState!==1)return h;f._wD("SMSound.pause()");h.paused=true;if(h.isHTML5){h._setup_html5().pause();
S()}else if(B||B===undefined)f.o._pause(h.sID);h._iO.onpause&&h._iO.onpause.apply(h);return h};this.resume=function(){if(!h.paused)return h;f._wD("SMSound.resume()");h.paused=false;h.playState=1;if(h.isHTML5){h._setup_html5().play();F()}else{h._iO.isMovieStar&&h.setPosition(h.position);f.o._pause(h.sID)}if(!h._onplay_called&&h._iO.onplay){h._iO.onplay.apply(h);h._onplay_called=true}else h._iO.onresume&&h._iO.onresume.apply(h);return h};this.togglePause=function(){f._wD("SMSound.togglePause()");if(h.playState===
0){h.play({position:K===9&&!h.isHTML5?h.position:h.position/1E3});return h}h.paused?h.resume():h.pause();return h};this.setPan=function(B,I){if(typeof B==="undefined")B=0;if(typeof I==="undefined")I=false;h.isHTML5||f.o._setPan(h.sID,B);h._iO.pan=B;if(!I){h.pan=B;h.options.pan=B}return h};this.setVolume=function(B,I){if(typeof B==="undefined")B=100;if(typeof I==="undefined")I=false;if(h.isHTML5){if(h._a)h._a.volume=Math.max(0,Math.min(1,B/100))}else f.o._setVolume(h.sID,f.muted&&!h.muted||h.muted?
0:B);h._iO.volume=B;if(!I){h.volume=B;h.options.volume=B}return h};this.mute=function(){h.muted=true;if(h.isHTML5){if(h._a)h._a.muted=true}else f.o._setVolume(h.sID,0);return h};this.unmute=function(){h.muted=false;var B=typeof h._iO.volume!=="undefined";if(h.isHTML5){if(h._a)h._a.muted=false}else f.o._setVolume(h.sID,B?h._iO.volume:h.options.volume);return h};this.toggleMute=function(){return h.muted?h.unmute():h.mute()};this.onposition=function(B,I,aa){h._onPositionItems.push({position:B,method:I,
scope:typeof aa!=="undefined"?aa:h,fired:false});return h};this.processOnPosition=function(){var B,I;B=h._onPositionItems.length;if(!B||!h.playState||h._onPositionFired>=B)return false;for(B=B;B--;){I=h._onPositionItems[B];if(!I.fired&&h.position>=I.position){I.method.apply(I.scope,[I.position]);I.fired=true;f._onPositionFired++}}return true};this.resetOnPosition=function(B){var I,aa;I=h._onPositionItems.length;if(!I)return false;for(I=I;I--;){aa=h._onPositionItems[I];if(aa.fired&&B<=aa.position){aa.fired=
false;f._onPositionFired--}}return true};this._onTimer=function(B){var I={};if(h._hasTimer||B)if(h._a&&(B||(h.playState>0||h.readyState===1)&&!h.paused)){h.duration=h._get_html5_duration();h.durationEstimate=h.duration;B=h._a.currentTime?h._a.currentTime*1E3:0;h._whileplaying(B,I,I,I,I);return true}else{f._wD('_onTimer: Warn for "'+h.sID+'": '+(!h._a?"Could not find element. ":"")+(h.playState===0?"playState bad, 0?":"playState = "+h.playState+", OK"));return false}};this._get_html5_duration=function(){var B=
h._a?h._a.duration*1E3:h._iO?h._iO.duration:undefined;return B&&!isNaN(B)&&B!==Infinity?B:h._iO?h._iO.duration:null};F=function(){h.isHTML5&&qb(h)};S=function(){h.isHTML5&&ub(h)};M=function(){h._onPositionItems=[];h._onPositionFired=0;h._hasTimer=null;h._onplay_called=false;h._a=null;h._html5_canplay=false;h.bytesLoaded=null;h.bytesTotal=null;h.position=null;h.duration=h._iO&&h._iO.duration?h._iO.duration:null;h.durationEstimate=null;h.failures=0;h.loaded=false;h.playState=0;h.paused=false;h.readyState=
0;h.muted=false;h.didBeforeFinish=false;h.didJustBeforeFinish=false;h.isBuffering=false;h.instanceOptions={};h.instanceCount=0;h.peakData={left:0,right:0};h.waveformData={left:[],right:[]};h.eqData=[];h.eqData.left=[];h.eqData.right=[]};M();this._setup_html5=function(B){B=sa(h._iO,B);var I=fb?f._global_a:h._a,aa=decodeURI(B.url),ma=I&&I._t?I._t.instanceOptions:null;if(I){if(I._t&&ma.url===B.url&&(!h._lastURL||h._lastURL===ma.url))return I;f._wD("setting new URL on existing object: "+aa+(h._lastURL?
", old URL: "+h._lastURL:""));fb&&I._t&&I._t.playState&&B.url!==ma.url&&I._t.stop();M();I.src=B.url;h.url=B.url;h._lastURL=B.url;I._called_load=false}else{f._wD("creating HTML5 Audio() element with URL: "+aa);I=new Audio(B.url);I._called_load=false;if(fb)f._global_a=I}h.isHTML5=true;h._a=I;I._t=h;h._add_html5_events();I.loop=B.loops>1?"loop":"";if(B.autoLoad||B.autoPlay){I.autobuffer="auto";I.preload="auto";h.load();I._called_load=true}else{I.autobuffer=false;I.preload="none"}I.loop=B.loops>1?"loop":
"";return I};this._add_html5_events=function(){function B(aa,ma,ta){return h._a?h._a.addEventListener(aa,ma,ta||false):null}if(h._a._added_events)return false;var I;f._wD(p+"adding event listeners: "+h.sID);h._a._added_events=true;for(I in f._html5_events)f._html5_events.hasOwnProperty(I)&&B(I,f._html5_events[I]);return true};this._remove_html5_events=function(){function B(aa,ma,ta){return h._a?h._a.removeEventListener(aa,ma,ta||false):null}f._wD(p+"removing event listeners: "+h.sID);h._a._added_events=
false;for(var I in f._html5_events)f._html5_events.hasOwnProperty(I)&&B(I,f._html5_events[I])};this._whileloading=function(B,I,aa,ma){h.bytesLoaded=B;h.bytesTotal=I;h.duration=Math.floor(aa);h.bufferLength=ma;if(h._iO.isMovieStar)h.durationEstimate=h.duration;else{h.durationEstimate=h._iO.duration?h.duration>h._iO.duration?h.duration:h._iO.duration:parseInt(h.bytesTotal/h.bytesLoaded*h.duration,10);if(h.durationEstimate===undefined)h.durationEstimate=h.duration}h.readyState!==3&&h._iO.whileloading&&
h._iO.whileloading.apply(h)};this._onid3=function(B,I){f._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.');var aa=[],ma,ta;ma=0;for(ta=B.length;ma<ta;ma++)aa[B[ma]]=I[ma];h.id3=sa(h.id3,aa);h._iO.onid3&&h._iO.onid3.apply(h)};this._whileplaying=function(B,I,aa,ma,ta){if(isNaN(B)||B===null)return false;if(h.playState===0&&B>0)B=0;h.position=B;h.processOnPosition();if(K>8&&!h.isHTML5){if(h._iO.usePeakData&&typeof I!=="undefined"&&I)h.peakData={left:I.leftPeak,right:I.rightPeak};if(h._iO.useWaveformData&&
typeof aa!=="undefined"&&aa)h.waveformData={left:aa.split(","),right:ma.split(",")};if(h._iO.useEQData)if(typeof ta!=="undefined"&&ta&&ta.leftEQ){B=ta.leftEQ.split(",");h.eqData=B;h.eqData.left=B;if(typeof ta.rightEQ!=="undefined"&&ta.rightEQ)h.eqData.right=ta.rightEQ.split(",")}}if(h.playState===1){!h.isHTML5&&f.flashVersion===8&&!h.position&&h.isBuffering&&h._onbufferchange(0);h._iO.whileplaying&&h._iO.whileplaying.apply(h);if((h.loaded||!h.loaded&&h._iO.isMovieStar)&&h._iO.onbeforefinish&&h._iO.onbeforefinishtime&&
!h.didBeforeFinish&&h.duration-h.position<=h._iO.onbeforefinishtime)h._onbeforefinish()}return true};this._onconnect=function(B){B=B===1;f._wD('SMSound._onconnect(): "'+h.sID+'"'+(B?" connected.":" failed to connect? - "+h.url),B?1:2);if(h.connected=B){h.failures=0;if(xa(h.sID))if(h.getAutoPlay())h.play(undefined,h.getAutoPlay());else h._iO.autoLoad&&h.load();h._iO.onconnect&&h._iO.onconnect.apply(h,[B])}};this._onload=function(B){B=B?true:false;f._wD('SMSound._onload(): "'+h.sID+'"'+(B?" loaded.":
" failed to load? - "+h.url),B?1:2);if(!B&&!h.isHTML5){f.sandbox.noRemote===true&&f._wD("SMSound._onload(): "+ga("noNet"),1);f.sandbox.noLocal===true&&f._wD("SMSound._onload(): "+ga("noLocal"),1)}h.loaded=B;h.readyState=B?3:2;h._onbufferchange(0);h._iO.onload&&h._iO.onload.apply(h,[B]);return true};this._onfailure=function(B,I,aa){h.failures++;f._wD('SMSound._onfailure(): "'+h.sID+'" count '+h.failures);h._iO.onfailure&&h.failures===1?h._iO.onfailure(h,B,I,aa):f._wD("SMSound._onfailure(): ignoring")};
this._onbeforefinish=function(){if(!h.didBeforeFinish){h.didBeforeFinish=true;if(h._iO.onbeforefinish){f._wD('SMSound._onbeforefinish(): "'+h.sID+'"');h._iO.onbeforefinish.apply(h)}}};this._onjustbeforefinish=function(){if(!h.didJustBeforeFinish){h.didJustBeforeFinish=true;if(h._iO.onjustbeforefinish){f._wD('SMSound._onjustbeforefinish(): "'+h.sID+'"');h._iO.onjustbeforefinish.apply(h)}}};this._onfinish=function(){var B=h._iO.onfinish;h._onbufferchange(0);h.resetOnPosition(0);h._iO.onbeforefinishcomplete&&
h._iO.onbeforefinishcomplete.apply(h);h.didBeforeFinish=false;h.didJustBeforeFinish=false;if(h.instanceCount){h.instanceCount--;if(!h.instanceCount){h.playState=0;h.paused=false;h.instanceCount=0;h.instanceOptions={};h._iO={};S()}if(!h.instanceCount||h._iO.multiShotEvents)if(B){f._wD('SMSound._onfinish(): "'+h.sID+'"');B.apply(h)}}};this._onbufferchange=function(B){if(h.playState===0)return false;if(B&&h.isBuffering||!B&&!h.isBuffering)return false;h.isBuffering=B===1;if(h._iO.onbufferchange){f._wD("SMSound._onbufferchange(): "+
B);h._iO.onbufferchange.apply(h)}return true};this._ondataerror=function(B){if(h.playState>0){f._wD("SMSound._ondataerror(): "+B);h._iO.ondataerror&&h._iO.ondataerror.apply(h)}}};ab=function(){return E.body?E.body:E._docElement?E.documentElement:E.getElementsByTagName("div")[0]};u=function(s){return E.getElementById(s)};sa=function(s,h){var M={},S,F;for(S in s)if(s.hasOwnProperty(S))M[S]=s[S];s=typeof h==="undefined"?f.defaultOptions:h;for(F in s)if(s.hasOwnProperty(F)&&typeof M[F]==="undefined")M[F]=
s[F];return M};Ga=function(){function s(I){I=rb.call(I);var aa=I.length;if(F){I[1]="on"+I[1];aa>3&&I.pop()}else aa===3&&I.push(false);return I}function h(I,aa){var ma=I.shift();aa=[B[aa]];F?ma[aa](I[0],I[1]):ma[aa].apply(ma,I)}function M(){h(s(arguments),"add")}function S(){h(s(arguments),"remove")}var F=C.attachEvent,B={add:F?"attachEvent":"addEventListener",remove:F?"detachEvent":"removeEventListener"};return{add:M,remove:S}}();lb=function(s){return!s.serverURL&&(s.type?eb({type:s.type}):eb({url:s.url})||
f.html5Only)};eb=function(s){function h(B){return f.preferFlash&&!f.ignoreFlash&&typeof f.flash[B]!=="undefined"&&f.flash[B]}if(!f.useHTML5Audio||!f.hasHTML5)return false;var M=s.url||null;s=s.type||null;var S=f.audioFormats,F;if(s&&f.html5[s]!=="undefined")return f.html5[s]&&!h(s);if(!Ua){Ua=[];for(F in S)if(S.hasOwnProperty(F)){Ua.push(F);if(S[F].related)Ua=Ua.concat(S[F].related)}Ua=new RegExp("\\.("+Ua.join("|")+")","i")}F=M?M.toLowerCase().match(Ua):null;if(!F||!F.length)if(s){M=s.indexOf(";");
F=(M!==-1?s.substr(0,M):s).substr(6)}else return false;else F=F[0].substr(1);if(F&&typeof f.html5[F]!=="undefined")return f.html5[F]&&!h(F);else{s="audio/"+F;M=f.html5.canPlayType({type:s});return(f.html5[F]=M)&&f.html5[s]&&!h(s)}};Fa=function(){function s(I){var aa,ma,ta=false;if(!h||typeof h.canPlayType!=="function")return false;if(I instanceof Array){aa=0;for(ma=I.length;aa<ma&&!ta;aa++)if(f.html5[I[aa]]||h.canPlayType(I[aa]).match(f.html5Test)){ta=true;f.html5[I[aa]]=true;f.flash[I[aa]]=!!(f.preferFlash&&
I[aa].match(yb))}return ta}else{I=h&&typeof h.canPlayType==="function"?h.canPlayType(I):false;return!!(I&&I.match(f.html5Test))}}if(!f.useHTML5Audio||typeof Audio==="undefined")return false;var h=typeof Audio!=="undefined"?Cb?new Audio(null):new Audio:null,M,S={},F,B;Za();F=f.audioFormats;for(M in F)if(F.hasOwnProperty(M)){S[M]=s(F[M].type);S["audio/"+M]=S[M];f.flash[M]=f.preferFlash&&!f.ignoreFlash&&M.match(yb)?true:false;if(F[M]&&F[M].related)for(B=F[M].related.length;B--;){S["audio/"+F[M].related[B]]=
S[M];f.html5[F[M].related[B]]=S[M];f.flash[F[M].related[B]]=S[M]}}S.canPlayType=h?s:null;f.html5=sa(f.html5,S);return true};Ia={notReady:"Not loaded yet - wait for soundManager.onload()/onready()",notOK:"Audio support is not available.",appXHTML:"soundManager::createMovie(): appendChild/innerHTML set failed. May be app/xhtml+xml DOM-related.",spcWmode:"soundManager::createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",
checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+E.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for focus-related event..",waitImpatient:"soundManager: Getting impatient, still waiting for Flash%s...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",
needFunction:"soundManager: Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',noMS:"MovieStar mode not enabled. Exiting.",currentObj:"--- soundManager._debug(): Current sound objects ---",waitEI:"soundManager::initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager::initComplete(): calling soundManager.onload()",
onloadOK:"soundManager.onload() complete",init:"soundManager::init()",didInit:"soundManager::init(): Already called?",flashJS:"soundManager: Attempting to call Flash from JS..",noPolling:"soundManager: Polling (whileloading()/whileplaying() support) is disabled.",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",
badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smFail:"soundManager: Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+f.swfCSS.swfTimedout+" CSS..",fbLoaded:"Flash loaded",fbHandler:"soundManager::flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",
onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access"};
ga=function(){var s=rb.call(arguments),h=s.shift();h=Ia&&Ia[h]?Ia[h]:"";var M,S;if(h&&s&&s.length){M=0;for(S=s.length;M<S;M++)h=h.replace("%s",s[M])}return h};Ea=function(s){if(K===8&&s.loops>1&&s.stream){pa("as2loop");s.stream=false}return s};Ta=function(s,h){if(s&&!s.usePolicyFile&&(s.onid3||s.usePeakData||s.useWaveformData||s.useEQData)){f._wD((h?h+":":"")+ga("policy"));s.usePolicyFile=true}return s};Xa=function(s){typeof console!=="undefined"&&typeof console.warn!=="undefined"?console.warn(s):
f._wD(s)};Q=function(){return false};X=function(s){for(var h in s)if(s.hasOwnProperty(h)&&typeof s[h]==="function")s[h]=Q};Y=function(s){if(typeof s==="undefined")s=false;if(wa||s){pa("smFail",2);f.disable(s)}};ka=function(s){var h=null;if(s)if(s.match(/\.swf(\?.*)?$/i)){if(h=s.substr(s.toLowerCase().lastIndexOf(".swf?")+4))return s}else if(s.lastIndexOf("/")!==s.length-1)s+="/";return(s&&s.lastIndexOf("/")!==-1?s.substr(0,s.lastIndexOf("/")+1):"./")+f.movieURL};Ca=function(){if(K!==8&&K!==9){f._wD(ga("badFV",
K,8));f.flashVersion=8}var s=f.debugMode||f.debugFlash?"_debug.swf":".swf";if(f.useHTML5Audio&&!f.html5Only&&f.audioFormats.mp4.required&&f.flashVersion<9){f._wD(ga("needfl9"));f.flashVersion=9}K=f.flashVersion;f.version=f.versionNumber+(f.html5Only?" (HTML5-only mode)":K===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(K>8){f.defaultOptions=sa(f.defaultOptions,f.flash9Options);f.features.buffering=true}if(K>8&&f.useMovieStar){f.defaultOptions=sa(f.defaultOptions,f.movieStarOptions);f.filePatterns.flash9=
new RegExp("\\.(mp3|"+f.netStreamTypes.join("|")+")(\\?.*)?$","i");f.mimePattern=f.netStreamMimeTypes;f.features.movieStar=true}else{f.useMovieStar=false;f.features.movieStar=false}f.filePattern=f.filePatterns[K!==8?"flash9":"flash8"];f.movieURL=(K===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",s);f.features.peakData=f.features.waveformData=f.features.eqData=K>8};J=function(s,h){if(!f.o||!f.allowPolling)return false;f.o._setPolling(s,h)};Z=function(s,h){function M(){f._wD("-- SoundManager 2 "+
f.version+(!f.html5Only&&f.useHTML5Audio?f.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(!f.html5Only?(f.useMovieStar?", MovieStar mode":"")+(f.useHighPerformance?", high performance mode, ":", ")+((f.flashPollingInterval?"custom ("+f.flashPollingInterval+"ms)":f.useFastPolling?"fast":"normal")+" polling")+(f.wmode?", wmode: "+f.wmode:"")+(f.debugFlash?", flash debug mode":"")+(f.useFlashBlock?", flashBlock mode":""):"")+" --",1)}h=h?h:f.url;var S=f.altURL?f.altURL:h,F;F=ab();var B,I,
aa=Ja(),ma,ta=null;ta=(ta=E.getElementsByTagName("html")[0])&&ta.dir&&ta.dir.match(/rtl/i);s=typeof s==="undefined"?f.id:s;if(qa&&Ha)return false;if(f.html5Only){Ca();M();f.oMC=u(f.movieID);j();Ha=qa=true;return false}qa=true;Ca();f.url=ka(f._overHTTP?h:S);h=f.url;f.wmode=!f.wmode&&f.useHighPerformance&&!f.useMovieStar?"transparent":f.wmode;if(f.wmode!==null&&(y.match(/msie 8/i)||!Va&&!f.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){f.specialWmodeCase=true;pa("spcWmode");f.wmode=
null}F={name:s,id:s,src:h,width:"auto",height:"auto",quality:"high",allowScriptAccess:f.allowScriptAccess,bgcolor:f.bgColor,pluginspage:f._http+"//www.macromedia.com/go/getflashplayer",type:"application/x-shockwave-flash",wmode:f.wmode,hasPriority:"true"};if(f.debugFlash)F.FlashVars="debug=1";f.wmode||delete F.wmode;if(Va){S=E.createElement("div");I='<object id="'+s+'" data="'+h+'" type="'+F.type+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+f._http+'//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="'+
F.width+'" height="'+F.height+'"><param name="movie" value="'+h+'" /><param name="AllowScriptAccess" value="'+f.allowScriptAccess+'" /><param name="quality" value="'+F.quality+'" />'+(f.wmode?'<param name="wmode" value="'+f.wmode+'" /> ':"")+'<param name="bgcolor" value="'+f.bgColor+'" />'+(f.debugFlash?'<param name="FlashVars" value="'+F.FlashVars+'" />':"")+"</object>"}else{S=E.createElement("embed");for(B in F)F.hasOwnProperty(B)&&S.setAttribute(B,F[B])}k();aa=Ja();if(F=ab()){f.oMC=u(f.movieID)?
u(f.movieID):E.createElement("div");if(f.oMC.id){ma=f.oMC.className;f.oMC.className=(ma?ma+" ":f.swfCSS.swfDefault)+(aa?" "+aa:"");f.oMC.appendChild(S);if(Va){s=f.oMC.appendChild(E.createElement("div"));s.className=f.swfCSS.swfBox;s.innerHTML=I}Ha=true}else{f.oMC.id=f.movieID;f.oMC.className=f.swfCSS.swfDefault+" "+aa;s=B=null;if(!f.useFlashBlock)if(f.useHighPerformance)B={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else{B={position:"absolute",width:"6px",
height:"6px",top:"-9999px",left:"-9999px"};if(ta)B.left=Math.abs(parseInt(B.left,10))+"px"}if(Bb)f.oMC.style.zIndex=1E4;if(!f.debugFlash)for(ma in B)if(B.hasOwnProperty(ma))f.oMC.style[ma]=B[ma];try{Va||f.oMC.appendChild(S);F.appendChild(f.oMC);if(Va){s=f.oMC.appendChild(E.createElement("div"));s.className=f.swfCSS.swfBox;s.innerHTML=I}Ha=true}catch(Eb){throw new Error(ga("appXHTML"));}}}M();f._wD("soundManager::createMovie(): Trying to load "+h+(!f._overHTTP&&f.altURL?" (alternate URL)":""),1);return true};
xa=this.getSoundById;La=function(){if(f.html5Only){Z();return false}if(f.o)return false;f.o=f.getMovie(f.id);if(!f.o){if(ha){if(Va)f.oMC.innerHTML=ra;else f.oMC.appendChild(ha);ha=null;qa=true}else Z(f.id,f.url);f.o=f.getMovie(f.id)}f.o&&pa("waitEI");f.oninitmovie instanceof Function&&setTimeout(f.oninitmovie,1);return true};Qa=function(s){if(s)f.url=s;La()};Ba=function(){setTimeout(Sa,1E3)};Sa=function(){if(jb)return false;jb=true;Ga.remove(C,"load",Ba);if($a&&!nb){pa("waitFocus");return false}var s;
if(!fa){s=f.getMoviePercent();f._wD(ga("waitImpatient",s===100?" (SWF loaded)":s>0?" (SWF "+s+"% loaded)":""))}setTimeout(function(){s=f.getMoviePercent();if(!fa){f._wD("soundManager: No Flash response within expected time.\nLikely causes: "+(s===0?"Loading "+f.movieURL+" may have failed (and/or Flash "+K+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(f.debugFlash?" "+ga("checkSWF"):""),2);if(!f._overHTTP&&s){pa("localFail",2);f.debugFlash||pa("tryDebug",2)}s===0&&f._wD(ga("swf404",
f.url));P("flashtojs",false,": Timed out"+f._overHTTP?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!fa&&xb)if(s===null)if(f.useFlashBlock||f.flashLoadTimeout===0){f.useFlashBlock&&Ra();pa("waitForever")}else Y(true);else f.flashLoadTimeout===0?pa("waitForever"):Y(true)},f.flashLoadTimeout)};Qa=function(s){if(s)f.url=s;La()};pa=function(s,h){return s?f._wD(ga(s),h):""};if(R.indexOf("debug=alert")+1&&f.debugMode)f._wD=function(s){b.alert(s)};Ka=function(){var s=u(f.debugID),
h=u(f.debugID+"-toggle");if(!s)return false;if(ba){h.innerHTML="+";s.style.display="none"}else{h.innerHTML="-";s.style.display="block"}ba=!ba};P=function(s,h,M){if(typeof sm2Debugger!=="undefined")try{sm2Debugger.handleEvent(s,h,M)}catch(S){}return true};Ja=function(){var s=[];f.debugMode&&s.push(f.swfCSS.sm2Debug);f.debugFlash&&s.push(f.swfCSS.flashDebug);f.useHighPerformance&&s.push(f.swfCSS.highPerf);return s.join(" ")};Ra=function(){var s=ga("fbHandler"),h=f.getMoviePercent(),M=f.swfCSS;if(f.ok()){f.didFlashBlock&&
f._wD(s+": Unblocked");if(f.oMC)f.oMC.className=[Ja(),M.swfDefault,M.swfLoaded+(f.didFlashBlock?" "+M.swfUnblocked:"")].join(" ")}else{if(Ya){f.oMC.className=Ja()+" "+M.swfDefault+" "+(h===null?M.swfTimedout:M.swfError);f._wD(s+": "+ga("fbTimeout")+(h?" ("+ga("fbLoaded")+")":""))}f.didFlashBlock=true;Da({type:"ontimeout",ignoreInit:true});f.onerror instanceof Function&&f.onerror.apply(C)}};Na=function(){function s(){Ga.remove(C,"focus",Na);Ga.remove(C,"load",Na)}if(nb||!$a){s();return true}nb=xb=
true;f._wD("soundManager::handleFocus()");kb&&$a&&Ga.remove(C,"mousemove",Na);jb=false;s();return true};ia=function(s){if(fa)return false;if(f.html5Only){f._wD("-- SoundManager 2: loaded --");fa=true;Da();za();return true}f.useFlashBlock&&f.flashLoadTimeout&&!f.getMoviePercent()||(fa=true);f._wD("-- SoundManager 2 "+(wa?"failed to load":"loaded")+" ("+(wa?"security/load error":"OK")+") --",1);if(wa||s){if(f.useFlashBlock)f.oMC.className=Ja()+" "+(f.getMoviePercent()===null?f.swfCSS.swfTimedout:f.swfCSS.swfError);
Da({type:"ontimeout"});P("onload",false);f.onerror instanceof Function&&f.onerror.apply(C);return false}else P("onload",true);Ga.add(C,"unload",Q);if(f.waitForWindowLoad&&!Wa){pa("waitOnload");Ga.add(C,"load",za);return false}else{f.waitForWindowLoad&&Wa&&pa("docLoaded");za()}return true};Ma=function(s,h,M){if(typeof la[s]==="undefined")la[s]=[];la[s].push({method:h,scope:M||null,fired:false})};Da=function(s){s||(s={type:"onready"});if(!fa&&s&&!s.ignoreInit)return false;if(s.type==="ontimeout"&&f.ok())return false;
var h={success:s&&s.ignoreInit?f.ok():!wa},M=s&&s.type?la[s.type]||[]:[],S=[],F,B=Ya&&f.useFlashBlock&&!f.ok();for(F=0;F<M.length;F++)M[F].fired!==true&&S.push(M[F]);if(S.length){f._wD("soundManager: Firing "+S.length+" "+s.type+"() item"+(S.length===1?"":"s"));F=0;for(s=S.length;F<s;F++){S[F].scope?S[F].method.apply(S[F].scope,[h]):S[F].method(h);if(!B)S[F].fired=true}}return true};za=function(){C.setTimeout(function(){f.useFlashBlock&&Ra();Da();if(f.onload instanceof Function){pa("onload",1);f.onload.apply(C);
pa("onloadOK",1)}f.waitForWindowLoad&&Ga.add(C,"load",za)},1)};Za=function(){if(gb!==undefined)return gb;var s=false,h=navigator,M=h.plugins,S,F=C.ActiveXObject;if(M&&M.length){if((h=h.mimeTypes)&&h["application/x-shockwave-flash"]&&h["application/x-shockwave-flash"].enabledPlugin&&h["application/x-shockwave-flash"].enabledPlugin.description)s=true}else if(typeof F!=="undefined"){try{S=new F("ShockwaveFlash.ShockwaveFlash")}catch(B){}s=!!S}return gb=s};vb=function(){var s,h;if(y.match(/iphone os (1|2|3_0|3_1)/i)?
true:false){f.hasHTML5=false;f.html5Only=true;if(f.oMC)f.oMC.style.display="none";return false}if(f.useHTML5Audio){if(!f.html5||!f.html5.canPlayType){f._wD("SoundManager: No HTML5 Audio() support detected.");f.hasHTML5=false;return true}else f.hasHTML5=true;if(sb){f._wD("soundManager::Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(!gb?" would use flash fallback for MP3/MP4, but none detected.":"will use flash fallback for MP3/MP4, if available"),
1);if(Za())return true}}else return true;for(h in f.audioFormats)if(f.audioFormats.hasOwnProperty(h))if(f.audioFormats[h].required&&!f.html5.canPlayType(f.audioFormats[h].type)||f.flash[h]||f.flash[f.audioFormats[h].type])s=true;if(f.ignoreFlash)s=false;f.html5Only=f.useHTML5Audio&&f.hasHTML5&&!s&&!f.requireFlash;return Za()&&s};j=function(){function s(){Ga.remove(C,"load",f.beginDelayedInit)}var h,M=[];pa("init");if(fa){pa("didInit");return false}if(f.hasHTML5){for(h in f.audioFormats)if(f.audioFormats.hasOwnProperty(h))M.push(h+
": "+f.html5[h]+(f.preferFlash&&f.flash[h]?" (preferring flash)":""));f._wD("-- SoundManager 2: HTML5 support tests ("+f.html5Test+"): "+M.join(", ")+" --",1)}if(f.html5Only){if(!fa){s();f.enabled=true;ia()}return true}La();try{pa("flashJS");f.o._externalInterfaceTest(false);f.allowPolling?J(true,f.flashPollingInterval?f.flashPollingInterval:f.useFastPolling?10:50):pa("noPolling",1);f.debugMode||f.o._disableDebug();f.enabled=true;P("jstoflash",true)}catch(S){f._wD("js/flash exception: "+S.toString());
P("jstoflash",false);Y(true);ia();return false}ia();s();return true};cb=function(){if(db)return false;Z();La();return db=true};Aa=function(){if(bb)return false;bb=true;k();if(!f.useHTML5Audio)if(!Za()){f._wD("SoundManager: No Flash detected, trying HTML5");f.useHTML5Audio=true}Fa();f.html5.usingFlash=vb();Ya=f.html5.usingFlash;bb=true;E.removeEventListener&&E.removeEventListener("DOMContentLoaded",Aa,false);Qa();return true};qb=function(s){if(!s._hasTimer)s._hasTimer=true};ub=function(s){if(s._hasTimer)s._hasTimer=
false};D=function(){f.onerror instanceof Function&&f.onerror();f.disable()};wb=function(){if(!sb||!Za())return false;var s=f.audioFormats,h,M;for(M in s)if(s.hasOwnProperty(M))if(M==="mp3"||M==="mp4"){f._wD("soundManager: Using flash fallback for "+M+" format");f.html5[M]=false;if(s[M]&&s[M].related)for(h=s[M].related.length;h--;)f.html5[s[M].related[h]]=false}};this._setSandboxType=function(s){var h=f.sandbox;h.type=s;h.description=h.types[typeof h.types[s]!=="undefined"?s:"unknown"];f._wD("Flash security sandbox type: "+
h.type);if(h.type==="localWithFile"){h.noRemote=true;h.noLocal=false;pa("secNote",2)}else if(h.type==="localWithNetwork"){h.noRemote=false;h.noLocal=true}else if(h.type==="localTrusted"){h.noRemote=false;h.noLocal=false}};this._externalInterfaceOK=function(s){if(f.swfLoaded)return false;var h=(new Date).getTime();f._wD("soundManager::externalInterfaceOK()"+(s?" (~"+(h-s)+" ms)":""));P("swf",true);P("flashtojs",true);f.swfLoaded=true;$a=false;sb&&wb();Va?setTimeout(j,100):j()};mb=function(){if(E.readyState===
"complete"){Aa();E.detachEvent("onreadystatechange",mb)}return true};if(!f.hasHTML5||Ya){Ga.add(C,"focus",Na);Ga.add(C,"load",Na);Ga.add(C,"load",Ba);kb&&$a&&Ga.add(C,"mousemove",Na)}if(E.addEventListener)E.addEventListener("DOMContentLoaded",Aa,false);else if(E.attachEvent)E.attachEvent("onreadystatechange",mb);else{P("onload",false);D()}E.readyState==="complete"&&setTimeout(Aa,100)}b.SoundManager=c;b.soundManager=null})(window);(function(b,c){function e(){if(!j.isReady){try{P.documentElement.doScroll("left")}catch(d){setTimeout(e,1);return}j.ready()}}function g(d,i){i.src?j.ajax({url:i.src,async:false,dataType:"script"}):j.globalEval(i.text||i.textContent||i.innerHTML||"");i.parentNode&&i.parentNode.removeChild(i)}function l(d,i,m,r,q,z){var A=d.length;if(typeof i==="object"){for(var O in i)l(d,O,i[O],r,q,m);return d}if(m!==c){r=!z&&r&&j.isFunction(m);for(O=0;O<A;O++)q(d[O],i,r?m.call(d[O],O,q(d[O],i)):m,z);return d}return A?
q(d[0],i):c}function k(){return(new Date).getTime()}function o(){return false}function f(){return true}function p(d,i,m){m[0].type=d;return j.event.handle.apply(i,m)}function u(d){var i,m=[],r=[],q=arguments,z,A,O,G,N,W;A=j.data(this,"events");if(!(d.liveFired===this||!A||!A.live||d.button&&d.type==="click")){d.liveFired=this;var da=A.live.slice(0);for(G=0;G<da.length;G++){A=da[G];A.origType.replace(V,"")===d.type?r.push(A.selector):da.splice(G--,1)}z=j(d.target).closest(r,d.currentTarget);N=0;for(W=
z.length;N<W;N++)for(G=0;G<da.length;G++){A=da[G];if(z[N].selector===A.selector){O=z[N].elem;r=null;if(A.preType==="mouseenter"||A.preType==="mouseleave")r=j(d.relatedTarget).closest(A.selector)[0];if(!r||r!==O)m.push({elem:O,handleObj:A})}}N=0;for(W=m.length;N<W;N++){z=m[N];d.currentTarget=z.elem;d.data=z.handleObj.data;d.handleObj=z.handleObj;if(z.handleObj.origHandler.apply(z.elem,q)===false){i=false;break}}return i}}function y(d,i){return"live."+(d&&d!=="*"?d+".":"")+i.replace(/\./g,"`").replace(/ /g,
"&")}function C(d){return!d||!d.parentNode||d.parentNode.nodeType===11}function R(d,i){var m=0;i.each(function(){if(this.nodeName===(d[m]&&d[m].nodeName)){var r=j.data(d[m++]),q=j.data(this,r);if(r=r&&r.events){delete q.handle;q.events={};for(var z in r)for(var A in r[z])j.event.add(this,z,r[z][A],r[z][A].data)}}})}function K(d,i,m){var r,q,z;i=i&&i[0]?i[0].ownerDocument||i[0]:P;if(d.length===1&&typeof d[0]==="string"&&d[0].length<512&&i===P&&!eb.test(d[0])&&(j.support.checkClone||!Ua.test(d[0]))){q=
true;if(z=j.fragments[d[0]])if(z!==1)r=z}if(!r){r=i.createDocumentFragment();j.clean(d,i,r,m)}if(q)j.fragments[d[0]]=z?r:1;return{fragment:r,cacheable:q}}function E(d,i){var m={};j.each(Fb.concat.apply([],Fb.slice(0,i)),function(){m[this]=d});return m}function Q(d){return"scrollTo"in d&&d.document?d:d.nodeType===9?d.defaultView||d.parentWindow:false}var j=function(d,i){return new j.fn.init(d,i)},la=b.jQuery,ba=b.$,P=b.document,qa,Ha=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,fa=/^.[^:#\[\.,]*$/,wa=/\S/,
Wa=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,pa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ya=navigator.userAgent,ia=false,sa=[],Ma,Da=Object.prototype.toString,za=Object.prototype.hasOwnProperty,Qa=Array.prototype.push,Ba=Array.prototype.slice,Sa=Array.prototype.indexOf;j.fn=j.prototype={init:function(d,i){var m,r;if(!d)return this;if(d.nodeType){this.context=this[0]=d;this.length=1;return this}if(d==="body"&&!i){this.context=P;this[0]=P.body;this.selector="body";this.length=1;return this}if(typeof d==="string")if((m=Ha.exec(d))&&
(m[1]||!i))if(m[1]){r=i?i.ownerDocument||i:P;if(d=pa.exec(d))if(j.isPlainObject(i)){d=[P.createElement(d[1])];j.fn.attr.call(d,i,true)}else d=[r.createElement(d[1])];else{d=K([m[1]],[r]);d=(d.cacheable?d.fragment.cloneNode(true):d.fragment).childNodes}return j.merge(this,d)}else{if(i=P.getElementById(m[2])){if(i.id!==m[2])return qa.find(d);this.length=1;this[0]=i}this.context=P;this.selector=d;return this}else if(!i&&/^\w+$/.test(d)){this.selector=d;this.context=P;d=P.getElementsByTagName(d);return j.merge(this,
d)}else return!i||i.jquery?(i||qa).find(d):j(i).find(d);else if(j.isFunction(d))return qa.ready(d);if(d.selector!==c){this.selector=d.selector;this.context=d.context}return j.makeArray(d,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return Ba.call(this,0)},get:function(d){return d==null?this.toArray():d<0?this.slice(d)[0]:this[d]},pushStack:function(d,i,m){var r=j();j.isArray(d)?Qa.apply(r,d):j.merge(r,d);r.prevObject=this;r.context=this.context;
if(i==="find")r.selector=this.selector+(this.selector?" ":"")+m;else if(i)r.selector=this.selector+"."+i+"("+m+")";return r},each:function(d,i){return j.each(this,d,i)},ready:function(d){j.bindReady();if(j.isReady)d.call(P,j);else sa&&sa.push(d);return this},eq:function(d){return d===-1?this.slice(d):this.slice(d,+d+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Ba.apply(this,arguments),"slice",Ba.call(arguments).join(","))},map:function(d){return this.pushStack(j.map(this,
function(i,m){return d.call(i,m,i)}))},end:function(){return this.prevObject||j(null)},push:Qa,sort:[].sort,splice:[].splice};j.fn.init.prototype=j.fn;j.extend=j.fn.extend=function(){var d=arguments[0]||{},i=1,m=arguments.length,r=false,q,z,A,O;if(typeof d==="boolean"){r=d;d=arguments[1]||{};i=2}if(typeof d!=="object"&&!j.isFunction(d))d={};if(m===i){d=this;--i}for(;i<m;i++)if((q=arguments[i])!=null)for(z in q){A=d[z];O=q[z];if(d!==O)if(r&&O&&(j.isPlainObject(O)||j.isArray(O))){A=A&&(j.isPlainObject(A)||
j.isArray(A))?A:j.isArray(O)?[]:{};d[z]=j.extend(r,A,O)}else if(O!==c)d[z]=O}return d};j.extend({noConflict:function(d){b.$=ba;if(d)b.jQuery=la;return j},isReady:false,ready:function(){if(!j.isReady){if(!P.body)return setTimeout(j.ready,13);j.isReady=true;if(sa){for(var d,i=0;d=sa[i++];)d.call(P,j);sa=null}j.fn.triggerHandler&&j(P).triggerHandler("ready")}},bindReady:function(){if(!ia){ia=true;if(P.readyState==="complete")return j.ready();if(P.addEventListener){P.addEventListener("DOMContentLoaded",
Ma,false);b.addEventListener("load",j.ready,false)}else if(P.attachEvent){P.attachEvent("onreadystatechange",Ma);b.attachEvent("onload",j.ready);var d=false;try{d=b.frameElement==null}catch(i){}P.documentElement.doScroll&&d&&e()}}},isFunction:function(d){return Da.call(d)==="[object Function]"},isArray:function(d){return Da.call(d)==="[object Array]"},isPlainObject:function(d){if(!d||Da.call(d)!=="[object Object]"||d.nodeType||d.setInterval)return false;if(d.constructor&&!za.call(d,"constructor")&&
!za.call(d.constructor.prototype,"isPrototypeOf"))return false;var i;for(i in d);return i===c||za.call(d,i)},isEmptyObject:function(d){for(var i in d)return false;return true},error:function(d){throw d;},parseJSON:function(d){if(typeof d!=="string"||!d)return null;d=j.trim(d);if(/^[\],:{}\s]*$/.test(d.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b.JSON&&b.JSON.parse?b.JSON.parse(d):
(new Function("return "+d))();else j.error("Invalid JSON: "+d)},noop:function(){},globalEval:function(d){if(d&&wa.test(d)){var i=P.getElementsByTagName("head")[0]||P.documentElement,m=P.createElement("script");m.type="text/javascript";if(j.support.scriptEval)m.appendChild(P.createTextNode(d));else m.text=d;i.insertBefore(m,i.firstChild);i.removeChild(m)}},nodeName:function(d,i){return d.nodeName&&d.nodeName.toUpperCase()===i.toUpperCase()},each:function(d,i,m){var r,q=0,z=d.length,A=z===c||j.isFunction(d);
if(m)if(A)for(r in d){if(i.apply(d[r],m)===false)break}else for(;q<z;){if(i.apply(d[q++],m)===false)break}else if(A)for(r in d){if(i.call(d[r],r,d[r])===false)break}else for(m=d[0];q<z&&i.call(m,q,m)!==false;m=d[++q]);return d},trim:function(d){return(d||"").replace(Wa,"")},makeArray:function(d,i){i=i||[];if(d!=null)d.length==null||typeof d==="string"||j.isFunction(d)||typeof d!=="function"&&d.setInterval?Qa.call(i,d):j.merge(i,d);return i},inArray:function(d,i){if(i.indexOf)return i.indexOf(d);for(var m=
0,r=i.length;m<r;m++)if(i[m]===d)return m;return-1},merge:function(d,i){var m=d.length,r=0;if(typeof i.length==="number")for(var q=i.length;r<q;r++)d[m++]=i[r];else for(;i[r]!==c;)d[m++]=i[r++];d.length=m;return d},grep:function(d,i,m){for(var r=[],q=0,z=d.length;q<z;q++)!m!==!i(d[q],q)&&r.push(d[q]);return r},map:function(d,i,m){for(var r=[],q,z=0,A=d.length;z<A;z++){q=i(d[z],z,m);if(q!=null)r[r.length]=q}return r.concat.apply([],r)},guid:1,proxy:function(d,i,m){if(arguments.length===2)if(typeof i===
"string"){m=d;d=m[i];i=c}else if(i&&!j.isFunction(i)){m=i;i=c}if(!i&&d)i=function(){return d.apply(m||this,arguments)};if(d)i.guid=d.guid=d.guid||i.guid||j.guid++;return i},uaMatch:function(d){d=d.toLowerCase();d=/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||!/compatible/.test(d)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(d)||[];return{browser:d[1]||"",version:d[2]||"0"}},browser:{}});ya=j.uaMatch(ya);if(ya.browser){j.browser[ya.browser]=true;
j.browser.version=ya.version}if(j.browser.webkit)j.browser.safari=true;if(Sa)j.inArray=function(d,i){return Sa.call(i,d)};qa=j(P);if(P.addEventListener)Ma=function(){P.removeEventListener("DOMContentLoaded",Ma,false);j.ready()};else if(P.attachEvent)Ma=function(){if(P.readyState==="complete"){P.detachEvent("onreadystatechange",Ma);j.ready()}};(function(){j.support={};var d=P.documentElement,i=P.createElement("script"),m=P.createElement("div"),r="script"+k();m.style.display="none";m.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
var q=m.getElementsByTagName("*"),z=m.getElementsByTagName("a")[0];if(!(!q||!q.length||!z)){j.support={leadingWhitespace:m.firstChild.nodeType===3,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/red/.test(z.getAttribute("style")),hrefNormalized:z.getAttribute("href")==="/a",opacity:/^0.55$/.test(z.style.opacity),cssFloat:!!z.style.cssFloat,checkOn:m.getElementsByTagName("input")[0].value==="on",optSelected:P.createElement("select").appendChild(P.createElement("option")).selected,
parentNode:m.removeChild(m.appendChild(P.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};i.type="text/javascript";try{i.appendChild(P.createTextNode("window."+r+"=1;"))}catch(A){}d.insertBefore(i,d.firstChild);if(b[r]){j.support.scriptEval=true;delete b[r]}try{delete i.test}catch(O){j.support.deleteExpando=false}d.removeChild(i);if(m.attachEvent&&m.fireEvent){m.attachEvent("onclick",function G(){j.support.noCloneEvent=
false;m.detachEvent("onclick",G)});m.cloneNode(true).fireEvent("onclick")}m=P.createElement("div");m.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";d=P.createDocumentFragment();d.appendChild(m.firstChild);j.support.checkClone=d.cloneNode(true).cloneNode(true).lastChild.checked;j(function(){var G=P.createElement("div");G.style.width=G.style.paddingLeft="1px";P.body.appendChild(G);j.boxModel=j.support.boxModel=G.offsetWidth===2;P.body.removeChild(G).style.display="none"});d=function(G){var N=
P.createElement("div");G="on"+G;var W=G in N;if(!W){N.setAttribute(G,"return;");W=typeof N[G]==="function"}return W};j.support.submitBubbles=d("submit");j.support.changeBubbles=d("change");d=i=m=q=z=null}})();j.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var Ca="jQuery"+k(),Na=0,cb={};j.extend({cache:{},expando:Ca,noData:{embed:true,
object:true,applet:true},data:function(d,i,m){if(!(d.nodeName&&j.noData[d.nodeName.toLowerCase()])){d=d==b?cb:d;var r=d[Ca],q=j.cache;if(!r&&typeof i==="string"&&m===c)return null;r||(r=++Na);if(typeof i==="object"){d[Ca]=r;q[r]=j.extend(true,{},i)}else if(!q[r]){d[Ca]=r;q[r]={}}d=q[r];if(m!==c)d[i]=m;return typeof i==="string"?d[i]:d}},removeData:function(d,i){if(!(d.nodeName&&j.noData[d.nodeName.toLowerCase()])){d=d==b?cb:d;var m=d[Ca],r=j.cache,q=r[m];if(i){if(q){delete q[i];j.isEmptyObject(q)&&
j.removeData(d)}}else{if(j.support.deleteExpando)delete d[j.expando];else d.removeAttribute&&d.removeAttribute(j.expando);delete r[m]}}}});j.fn.extend({data:function(d,i){if(typeof d==="undefined"&&this.length)return j.data(this[0]);else if(typeof d==="object")return this.each(function(){j.data(this,d)});var m=d.split(".");m[1]=m[1]?"."+m[1]:"";if(i===c){var r=this.triggerHandler("getData"+m[1]+"!",[m[0]]);if(r===c&&this.length)r=j.data(this[0],d);return r===c&&m[1]?this.data(m[0]):r}else return this.trigger("setData"+
m[1]+"!",[m[0],i]).each(function(){j.data(this,d,i)})},removeData:function(d){return this.each(function(){j.removeData(this,d)})}});j.extend({queue:function(d,i,m){if(d){i=(i||"fx")+"queue";var r=j.data(d,i);if(!m)return r||[];if(!r||j.isArray(m))r=j.data(d,i,j.makeArray(m));else r.push(m);return r}},dequeue:function(d,i){i=i||"fx";var m=j.queue(d,i),r=m.shift();if(r==="inprogress")r=m.shift();if(r){i==="fx"&&m.unshift("inprogress");r.call(d,function(){j.dequeue(d,i)})}}});j.fn.extend({queue:function(d,
i){if(typeof d!=="string"){i=d;d="fx"}if(i===c)return j.queue(this[0],d);return this.each(function(){var m=j.queue(this,d,i);d==="fx"&&m[0]!=="inprogress"&&j.dequeue(this,d)})},dequeue:function(d){return this.each(function(){j.dequeue(this,d)})},delay:function(d,i){d=j.fx?j.fx.speeds[d]||d:d;i=i||"fx";return this.queue(i,function(){var m=this;setTimeout(function(){j.dequeue(m,i)},d)})},clearQueue:function(d){return this.queue(d||"fx",[])}});var Ia=/[\n\t]/g,La=/\s+/,Aa=/\r/g,bb=/href|src|style/,ab=
/(button|input)/i,Z=/(button|input|object|select|textarea)/i,D=/^(a|area)$/i,J=/radio|checkbox/;j.fn.extend({attr:function(d,i){return l(this,d,i,true,j.attr)},removeAttr:function(d){return this.each(function(){j.attr(this,d,"");this.nodeType===1&&this.removeAttribute(d)})},addClass:function(d){if(j.isFunction(d))return this.each(function(N){var W=j(this);W.addClass(d.call(this,N,W.attr("class")))});if(d&&typeof d==="string")for(var i=(d||"").split(La),m=0,r=this.length;m<r;m++){var q=this[m];if(q.nodeType===
1)if(q.className){for(var z=" "+q.className+" ",A=q.className,O=0,G=i.length;O<G;O++)if(z.indexOf(" "+i[O]+" ")<0)A+=" "+i[O];q.className=j.trim(A)}else q.className=d}return this},removeClass:function(d){if(j.isFunction(d))return this.each(function(G){var N=j(this);N.removeClass(d.call(this,G,N.attr("class")))});if(d&&typeof d==="string"||d===c)for(var i=(d||"").split(La),m=0,r=this.length;m<r;m++){var q=this[m];if(q.nodeType===1&&q.className)if(d){for(var z=(" "+q.className+" ").replace(Ia," "),
A=0,O=i.length;A<O;A++)z=z.replace(" "+i[A]+" "," ");q.className=j.trim(z)}else q.className=""}return this},toggleClass:function(d,i){var m=typeof d,r=typeof i==="boolean";if(j.isFunction(d))return this.each(function(q){var z=j(this);z.toggleClass(d.call(this,q,z.attr("class"),i),i)});return this.each(function(){if(m==="string")for(var q,z=0,A=j(this),O=i,G=d.split(La);q=G[z++];){O=r?O:!A.hasClass(q);A[O?"addClass":"removeClass"](q)}else if(m==="undefined"||m==="boolean"){this.className&&j.data(this,
"__className__",this.className);this.className=this.className||d===false?"":j.data(this,"__className__")||""}})},hasClass:function(d){d=" "+d+" ";for(var i=0,m=this.length;i<m;i++)if((" "+this[i].className+" ").replace(Ia," ").indexOf(d)>-1)return true;return false},val:function(d){if(d===c){var i=this[0];if(i){if(j.nodeName(i,"option"))return(i.attributes.value||{}).specified?i.value:i.text;if(j.nodeName(i,"select")){var m=i.selectedIndex,r=[],q=i.options;i=i.type==="select-one";if(m<0)return null;
var z=i?m:0;for(m=i?m+1:q.length;z<m;z++){var A=q[z];if(A.selected){d=j(A).val();if(i)return d;r.push(d)}}return r}if(J.test(i.type)&&!j.support.checkOn)return i.getAttribute("value")===null?"on":i.value;return(i.value||"").replace(Aa,"")}return c}var O=j.isFunction(d);return this.each(function(G){var N=j(this),W=d;if(this.nodeType===1){if(O)W=d.call(this,G,N.val());if(typeof W==="number")W+="";if(j.isArray(W)&&J.test(this.type))this.checked=j.inArray(N.val(),W)>=0;else if(j.nodeName(this,"select")){var da=
j.makeArray(W);j("option",this).each(function(){this.selected=j.inArray(j(this).val(),da)>=0});if(!da.length)this.selectedIndex=-1}else this.value=W}})}});j.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(d,i,m,r){if(!d||d.nodeType===3||d.nodeType===8)return c;if(r&&i in j.attrFn)return j(d)[i](m);r=d.nodeType!==1||!j.isXMLDoc(d);var q=m!==c;i=r&&j.props[i]||i;if(d.nodeType===1){var z=bb.test(i);if(i in d&&r&&!z){if(q){i==="type"&&
ab.test(d.nodeName)&&d.parentNode&&j.error("type property can't be changed");d[i]=m}if(j.nodeName(d,"form")&&d.getAttributeNode(i))return d.getAttributeNode(i).nodeValue;if(i==="tabIndex")return(i=d.getAttributeNode("tabIndex"))&&i.specified?i.value:Z.test(d.nodeName)||D.test(d.nodeName)&&d.href?0:c;return d[i]}if(!j.support.style&&r&&i==="style"){if(q)d.style.cssText=""+m;return d.style.cssText}q&&d.setAttribute(i,""+m);d=!j.support.hrefNormalized&&r&&z?d.getAttribute(i,2):d.getAttribute(i);return d===
null?c:d}return j.style(d,i,m)}});var V=/\.(.*)$/,X=function(d){return d.replace(/[^\w\s\.\|`]/g,function(i){return"\\"+i})};j.event={add:function(d,i,m,r){if(!(d.nodeType===3||d.nodeType===8)){if(d.setInterval&&d!==b&&!d.frameElement)d=b;var q,z;if(m.handler){q=m;m=q.handler}if(!m.guid)m.guid=j.guid++;if(z=j.data(d)){var A=z.events=z.events||{},O=z.handle;if(!O)z.handle=O=function(){return typeof j!=="undefined"&&!j.event.triggered?j.event.handle.apply(O.elem,arguments):c};O.elem=d;i=i.split(" ");
for(var G,N=0,W;G=i[N++];){z=q?j.extend({},q):{handler:m,data:r};if(G.indexOf(".")>-1){W=G.split(".");G=W.shift();z.namespace=W.slice(0).sort().join(".")}else{W=[];z.namespace=""}z.type=G;z.guid=m.guid;var da=A[G],oa=j.event.special[G]||{};if(!da){da=A[G]=[];if(!oa.setup||oa.setup.call(d,r,W,O)===false)if(d.addEventListener)d.addEventListener(G,O,false);else d.attachEvent&&d.attachEvent("on"+G,O)}if(oa.add){oa.add.call(d,z);if(!z.handler.guid)z.handler.guid=m.guid}da.push(z);j.event.global[G]=true}d=
null}}},global:{},remove:function(d,i,m,r){if(!(d.nodeType===3||d.nodeType===8)){var q,z=0,A,O,G,N,W,da,oa=j.data(d),va=oa&&oa.events;if(oa&&va){if(i&&i.type){m=i.handler;i=i.type}if(!i||typeof i==="string"&&i.charAt(0)==="."){i=i||"";for(q in va)j.event.remove(d,q+i)}else{for(i=i.split(" ");q=i[z++];){N=q;A=q.indexOf(".")<0;O=[];if(!A){O=q.split(".");q=O.shift();G=new RegExp("(^|\\.)"+j.map(O.slice(0).sort(),X).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(W=va[q])if(m){N=j.event.special[q]||{};for(ua=r||
0;ua<W.length;ua++){da=W[ua];if(m.guid===da.guid){if(A||G.test(da.namespace)){r==null&&W.splice(ua--,1);N.remove&&N.remove.call(d,da)}if(r!=null)break}}if(W.length===0||r!=null&&W.length===1){if(!N.teardown||N.teardown.call(d,O)===false)Y(d,q,oa.handle);delete va[q]}}else for(var ua=0;ua<W.length;ua++){da=W[ua];if(A||G.test(da.namespace)){j.event.remove(d,N,da.handler,ua);W.splice(ua--,1)}}}if(j.isEmptyObject(va)){if(i=oa.handle)i.elem=null;delete oa.events;delete oa.handle;j.isEmptyObject(oa)&&j.removeData(d)}}}}},
trigger:function(d,i,m,r){var q=d.type||d;if(!r){d=typeof d==="object"?d[Ca]?d:j.extend(j.Event(q),d):j.Event(q);if(q.indexOf("!")>=0){d.type=q=q.slice(0,-1);d.exclusive=true}if(!m){d.stopPropagation();j.event.global[q]&&j.each(j.cache,function(){this.events&&this.events[q]&&j.event.trigger(d,i,this.handle.elem)})}if(!m||m.nodeType===3||m.nodeType===8)return c;d.result=c;d.target=m;i=j.makeArray(i);i.unshift(d)}d.currentTarget=m;(r=j.data(m,"handle"))&&r.apply(m,i);r=m.parentNode||m.ownerDocument;
try{if(!(m&&m.nodeName&&j.noData[m.nodeName.toLowerCase()]))if(m["on"+q]&&m["on"+q].apply(m,i)===false)d.result=false}catch(z){}if(!d.isPropagationStopped()&&r)j.event.trigger(d,i,r,true);else if(!d.isDefaultPrevented()){r=d.target;var A,O=j.nodeName(r,"a")&&q==="click",G=j.event.special[q]||{};if((!G._default||G._default.call(m,d)===false)&&!O&&!(r&&r.nodeName&&j.noData[r.nodeName.toLowerCase()])){try{if(r[q]){if(A=r["on"+q])r["on"+q]=null;j.event.triggered=true;r[q]()}}catch(N){}if(A)r["on"+q]=
A;j.event.triggered=false}}},handle:function(d){var i,m,r,q;d=arguments[0]=j.event.fix(d||b.event);d.currentTarget=this;i=d.type.indexOf(".")<0&&!d.exclusive;if(!i){m=d.type.split(".");d.type=m.shift();r=new RegExp("(^|\\.)"+m.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}q=j.data(this,"events");m=q[d.type];if(q&&m){m=m.slice(0);q=0;for(var z=m.length;q<z;q++){var A=m[q];if(i||r.test(A.namespace)){d.handler=A.handler;d.data=A.data;d.handleObj=A;A=A.handler.apply(this,arguments);if(A!==c){d.result=
A;if(A===false){d.preventDefault();d.stopPropagation()}}if(d.isImmediatePropagationStopped())break}}}return d.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(d){if(d[Ca])return d;
var i=d;d=j.Event(i);for(var m=this.props.length,r;m;){r=this.props[--m];d[r]=i[r]}if(!d.target)d.target=d.srcElement||P;if(d.target.nodeType===3)d.target=d.target.parentNode;if(!d.relatedTarget&&d.fromElement)d.relatedTarget=d.fromElement===d.target?d.toElement:d.fromElement;if(d.pageX==null&&d.clientX!=null){i=P.documentElement;m=P.body;d.pageX=d.clientX+(i&&i.scrollLeft||m&&m.scrollLeft||0)-(i&&i.clientLeft||m&&m.clientLeft||0);d.pageY=d.clientY+(i&&i.scrollTop||m&&m.scrollTop||0)-(i&&i.clientTop||
m&&m.clientTop||0)}if(!d.which&&(d.charCode||d.charCode===0?d.charCode:d.keyCode))d.which=d.charCode||d.keyCode;if(!d.metaKey&&d.ctrlKey)d.metaKey=d.ctrlKey;if(!d.which&&d.button!==c)d.which=d.button&1?1:d.button&2?3:d.button&4?2:0;return d},guid:1E8,proxy:j.proxy,special:{ready:{setup:j.bindReady,teardown:j.noop},live:{add:function(d){j.event.add(this,d.origType,j.extend({},d,{handler:u}))},remove:function(d){var i=true,m=d.origType.replace(V,"");j.each(j.data(this,"events").live||[],function(){if(m===
this.origType.replace(V,""))return i=false});i&&j.event.remove(this,d.origType,u)}},beforeunload:{setup:function(d,i,m){if(this.setInterval)this.onbeforeunload=m;return false},teardown:function(d,i){if(this.onbeforeunload===i)this.onbeforeunload=null}}}};var Y=P.removeEventListener?function(d,i,m){d.removeEventListener(i,m,false)}:function(d,i,m){d.detachEvent("on"+i,m)};j.Event=function(d){if(!this.preventDefault)return new j.Event(d);if(d&&d.type){this.originalEvent=d;this.type=d.type}else this.type=
d;this.timeStamp=k();this[Ca]=true};j.Event.prototype={preventDefault:function(){this.isDefaultPrevented=f;var d=this.originalEvent;if(d){d.preventDefault&&d.preventDefault();d.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=f;var d=this.originalEvent;if(d){d.stopPropagation&&d.stopPropagation();d.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f;this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o};
var ka=function(d){var i=d.relatedTarget;try{for(;i&&i!==this;)i=i.parentNode;if(i!==this){d.type=d.data;j.event.handle.apply(this,arguments)}}catch(m){}},ha=function(d){d.type=d.data;j.event.handle.apply(this,arguments)};j.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(d,i){j.event.special[d]={setup:function(m){j.event.add(this,i,m&&m.selector?ha:ka,d)},teardown:function(m){j.event.remove(this,i,m&&m.selector?ha:ka)}}});if(!j.support.submitBubbles)j.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!==
"form"){j.event.add(this,"click.specialSubmit",function(d){var i=d.target,m=i.type;if((m==="submit"||m==="image")&&j(i).closest("form").length)return p("submit",this,arguments)});j.event.add(this,"keypress.specialSubmit",function(d){var i=d.target,m=i.type;if((m==="text"||m==="password")&&j(i).closest("form").length&&d.keyCode===13)return p("submit",this,arguments)})}else return false},teardown:function(){j.event.remove(this,".specialSubmit")}};if(!j.support.changeBubbles){var ra=/textarea|input|select/i,
ga,Ra=function(d){var i=d.type,m=d.value;if(i==="radio"||i==="checkbox")m=d.checked;else if(i==="select-multiple")m=d.selectedIndex>-1?j.map(d.options,function(r){return r.selected}).join("-"):"";else if(d.nodeName.toLowerCase()==="select")m=d.selectedIndex;return m},Ja=function(d,i){var m=d.target,r,q;if(!(!ra.test(m.nodeName)||m.readOnly)){r=j.data(m,"_change_data");q=Ra(m);if(d.type!=="focusout"||m.type!=="radio")j.data(m,"_change_data",q);if(!(r===c||q===r))if(r!=null||q){d.type="change";return j.event.trigger(d,
i,m)}}};j.event.special.change={filters:{focusout:Ja,click:function(d){var i=d.target,m=i.type;if(m==="radio"||m==="checkbox"||i.nodeName.toLowerCase()==="select")return Ja.call(this,d)},keydown:function(d){var i=d.target,m=i.type;if(d.keyCode===13&&i.nodeName.toLowerCase()!=="textarea"||d.keyCode===32&&(m==="checkbox"||m==="radio")||m==="select-multiple")return Ja.call(this,d)},beforeactivate:function(d){d=d.target;j.data(d,"_change_data",Ra(d))}},setup:function(){if(this.type==="file")return false;
for(var d in ga)j.event.add(this,d+".specialChange",ga[d]);return ra.test(this.nodeName)},teardown:function(){j.event.remove(this,".specialChange");return ra.test(this.nodeName)}};ga=j.event.special.change.filters}P.addEventListener&&j.each({focus:"focusin",blur:"focusout"},function(d,i){function m(r){r=j.event.fix(r);r.type=i;return j.event.handle.call(this,r)}j.event.special[i]={setup:function(){this.addEventListener(d,m,true)},teardown:function(){this.removeEventListener(d,m,true)}}});j.each(["bind",
"one"],function(d,i){j.fn[i]=function(m,r,q){if(typeof m==="object"){for(var z in m)this[i](z,r,m[z],q);return this}if(j.isFunction(r)){q=r;r=c}var A=i==="one"?j.proxy(q,function(G){j(this).unbind(G,A);return q.apply(this,arguments)}):q;if(m==="unload"&&i!=="one")this.one(m,r,q);else{z=0;for(var O=this.length;z<O;z++)j.event.add(this[z],m,A,r)}return this}});j.fn.extend({unbind:function(d,i){if(typeof d==="object"&&!d.preventDefault)for(var m in d)this.unbind(m,d[m]);else{m=0;for(var r=this.length;m<
r;m++)j.event.remove(this[m],d,i)}return this},delegate:function(d,i,m,r){return this.live(i,m,r,d)},undelegate:function(d,i,m){return arguments.length===0?this.unbind("live"):this.die(i,null,m,d)},trigger:function(d,i){return this.each(function(){j.event.trigger(d,i,this)})},triggerHandler:function(d,i){if(this[0]){d=j.Event(d);d.preventDefault();d.stopPropagation();j.event.trigger(d,i,this[0]);return d.result}},toggle:function(d){for(var i=arguments,m=1;m<i.length;)j.proxy(d,i[m++]);return this.click(j.proxy(d,
function(r){var q=(j.data(this,"lastToggle"+d.guid)||0)%m;j.data(this,"lastToggle"+d.guid,q+1);r.preventDefault();return i[q].apply(this,arguments)||false}))},hover:function(d,i){return this.mouseenter(d).mouseleave(i||d)}});var Ka={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};j.each(["live","die"],function(d,i){j.fn[i]=function(m,r,q,z){var A,O=0,G,N,W=z||this.selector,da=z?this:j(this.context);if(j.isFunction(r)){q=r;r=c}for(m=(m||"").split(" ");(A=m[O++])!=null;){z=
V.exec(A);G="";if(z){G=z[0];A=A.replace(V,"")}if(A==="hover")m.push("mouseenter"+G,"mouseleave"+G);else{N=A;if(A==="focus"||A==="blur"){m.push(Ka[A]+G);A+=G}else A=(Ka[A]||A)+G;i==="live"?da.each(function(){j.event.add(this,y(A,W),{data:r,selector:W,handler:q,origType:A,origHandler:q,preType:N})}):da.unbind(y(A,W),q)}}return this}});j.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(d,i){j.fn[i]=function(m){return m?this.bind(i,m):this.trigger(i)};if(j.attrFn)j.attrFn[i]=true});b.attachEvent&&!b.addEventListener&&b.attachEvent("onunload",function(){for(var d in j.cache)if(j.cache[d].handle)try{j.event.remove(j.cache[d].handle.elem)}catch(i){}});(function(){function d(w){for(var x="",H,L=0;w[L];L++){H=w[L];if(H.nodeType===3||H.nodeType===4)x+=H.nodeValue;else if(H.nodeType!==8)x+=d(H.childNodes)}return x}function i(w,x,H,L,U,T){U=0;for(var ea=L.length;U<ea;U++){var ca=
L[U];if(ca){ca=ca[w];for(var na=false;ca;){if(ca.sizcache===H){na=L[ca.sizset];break}if(ca.nodeType===1&&!T){ca.sizcache=H;ca.sizset=U}if(ca.nodeName.toLowerCase()===x){na=ca;break}ca=ca[w]}L[U]=na}}}function m(w,x,H,L,U,T){U=0;for(var ea=L.length;U<ea;U++){var ca=L[U];if(ca){ca=ca[w];for(var na=false;ca;){if(ca.sizcache===H){na=L[ca.sizset];break}if(ca.nodeType===1){if(!T){ca.sizcache=H;ca.sizset=U}if(typeof x!=="string"){if(ca===x){na=true;break}}else if(G.filter(x,[ca]).length>0){na=ca;break}}ca=
ca[w]}L[U]=na}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,q=0,z=Object.prototype.toString,A=false,O=true;[0,0].sort(function(){O=false;return 0});var G=function(w,x,H,L){H=H||[];var U=x=x||P;if(x.nodeType!==1&&x.nodeType!==9)return[];if(!w||typeof w!=="string")return H;for(var T=[],ea,ca,na,tb,hb=true,ob=ja(x),ib=w;(r.exec(""),ea=r.exec(ib))!==null;){ib=ea[3];T.push(ea[1]);if(ea[2]){tb=ea[3];break}}if(T.length>
1&&W.exec(w))if(T.length===2&&N.relative[T[0]])ca=Db(T[0]+T[1],x);else for(ca=N.relative[T[0]]?[x]:G(T.shift(),x);T.length;){w=T.shift();if(N.relative[w])w+=T.shift();ca=Db(w,ca)}else{if(!L&&T.length>1&&x.nodeType===9&&!ob&&N.match.ID.test(T[0])&&!N.match.ID.test(T[T.length-1])){ea=G.find(T.shift(),x,ob);x=ea.expr?G.filter(ea.expr,ea.set)[0]:ea.set[0]}if(x){ea=L?{expr:T.pop(),set:oa(L)}:G.find(T.pop(),T.length===1&&(T[0]==="~"||T[0]==="+")&&x.parentNode?x.parentNode:x,ob);ca=ea.expr?G.filter(ea.expr,
ea.set):ea.set;if(T.length>0)na=oa(ca);else hb=false;for(;T.length;){var Oa=T.pop();ea=Oa;if(N.relative[Oa])ea=T.pop();else Oa="";if(ea==null)ea=x;N.relative[Oa](na,ea,ob)}}else na=[]}na||(na=ca);na||G.error(Oa||w);if(z.call(na)==="[object Array]")if(hb)if(x&&x.nodeType===1)for(w=0;na[w]!=null;w++){if(na[w]&&(na[w]===true||na[w].nodeType===1&&Pa(x,na[w])))H.push(ca[w])}else for(w=0;na[w]!=null;w++)na[w]&&na[w].nodeType===1&&H.push(ca[w]);else H.push.apply(H,na);else oa(na,H);if(tb){G(tb,U,H,L);G.uniqueSort(H)}return H};
G.uniqueSort=function(w){if(ua){A=O;w.sort(ua);if(A)for(var x=1;x<w.length;x++)w[x]===w[x-1]&&w.splice(x--,1)}return w};G.matches=function(w,x){return G(w,null,null,x)};G.find=function(w,x,H){var L,U;if(!w)return[];for(var T=0,ea=N.order.length;T<ea;T++){var ca=N.order[T];if(U=N.leftMatch[ca].exec(w)){var na=U[1];U.splice(1,1);if(na.substr(na.length-1)!=="\\"){U[1]=(U[1]||"").replace(/\\/g,"");L=N.find[ca](U,x,H);if(L!=null){w=w.replace(N.match[ca],"");break}}}}L||(L=x.getElementsByTagName("*"));
return{set:L,expr:w}};G.filter=function(w,x,H,L){for(var U=w,T=[],ea=x,ca,na,tb=x&&x[0]&&ja(x[0]);w&&x.length;){for(var hb in N.filter)if((ca=N.leftMatch[hb].exec(w))!=null&&ca[2]){var ob=N.filter[hb],ib,Oa;Oa=ca[1];na=false;ca.splice(1,1);if(Oa.substr(Oa.length-1)!=="\\"){if(ea===T)T=[];if(N.preFilter[hb])if(ca=N.preFilter[hb](ca,ea,H,T,L,tb)){if(ca===true)continue}else na=ib=true;if(ca)for(var zb=0;(Oa=ea[zb])!=null;zb++)if(Oa){ib=ob(Oa,ca,zb,ea);var Gb=L^!!ib;if(H&&ib!=null)if(Gb)na=true;else ea[zb]=
false;else if(Gb){T.push(Oa);na=true}}if(ib!==c){H||(ea=T);w=w.replace(N.match[hb],"");if(!na)return[];break}}}if(w===U)if(na==null)G.error(w);else break;U=w}return ea};G.error=function(w){throw"Syntax error, unrecognized expression: "+w;};var N=G.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(w){return w.getAttribute("href")}},relative:{"+":function(w,x){var H=typeof x==="string",L=H&&!/\W/.test(x);H=H&&!L;if(L)x=x.toLowerCase();L=0;for(var U=w.length,
T;L<U;L++)if(T=w[L]){for(;(T=T.previousSibling)&&T.nodeType!==1;);w[L]=H||T&&T.nodeName.toLowerCase()===x?T||false:T===x}H&&G.filter(x,w,true)},">":function(w,x){var H=typeof x==="string";if(H&&!/\W/.test(x)){x=x.toLowerCase();for(var L=0,U=w.length;L<U;L++){var T=w[L];if(T){H=T.parentNode;w[L]=H.nodeName.toLowerCase()===x?H:false}}}else{L=0;for(U=w.length;L<U;L++)if(T=w[L])w[L]=H?T.parentNode:T.parentNode===x;H&&G.filter(x,w,true)}},"":function(w,x,H){var L=q++,U=m;if(typeof x==="string"&&!/\W/.test(x)){var T=
x=x.toLowerCase();U=i}U("parentNode",x,L,w,T,H)},"~":function(w,x,H){var L=q++,U=m;if(typeof x==="string"&&!/\W/.test(x)){var T=x=x.toLowerCase();U=i}U("previousSibling",x,L,w,T,H)}},find:{ID:function(w,x,H){if(typeof x.getElementById!=="undefined"&&!H)return(w=x.getElementById(w[1]))?[w]:[]},NAME:function(w,x){if(typeof x.getElementsByName!=="undefined"){var H=[];x=x.getElementsByName(w[1]);for(var L=0,U=x.length;L<U;L++)x[L].getAttribute("name")===w[1]&&H.push(x[L]);return H.length===0?null:H}},
TAG:function(w,x){return x.getElementsByTagName(w[1])}},preFilter:{CLASS:function(w,x,H,L,U,T){w=" "+w[1].replace(/\\/g,"")+" ";if(T)return w;T=0;for(var ea;(ea=x[T])!=null;T++)if(ea)if(U^(ea.className&&(" "+ea.className+" ").replace(/[\t\n]/g," ").indexOf(w)>=0))H||L.push(ea);else if(H)x[T]=false;return false},ID:function(w){return w[1].replace(/\\/g,"")},TAG:function(w){return w[1].toLowerCase()},CHILD:function(w){if(w[1]==="nth"){var x=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(w[2]==="even"&&"2n"||w[2]===
"odd"&&"2n+1"||!/\D/.test(w[2])&&"0n+"+w[2]||w[2]);w[2]=x[1]+(x[2]||1)-0;w[3]=x[3]-0}w[0]=q++;return w},ATTR:function(w,x,H,L,U,T){x=w[1].replace(/\\/g,"");if(!T&&N.attrMap[x])w[1]=N.attrMap[x];if(w[2]==="~=")w[4]=" "+w[4]+" ";return w},PSEUDO:function(w,x,H,L,U){if(w[1]==="not")if((r.exec(w[3])||"").length>1||/^\w/.test(w[3]))w[3]=G(w[3],null,null,x);else{w=G.filter(w[3],x,H,true^U);H||L.push.apply(L,w);return false}else if(N.match.POS.test(w[0])||N.match.CHILD.test(w[0]))return true;return w},POS:function(w){w.unshift(true);
return w}},filters:{enabled:function(w){return w.disabled===false&&w.type!=="hidden"},disabled:function(w){return w.disabled===true},checked:function(w){return w.checked===true},selected:function(w){return w.selected===true},parent:function(w){return!!w.firstChild},empty:function(w){return!w.firstChild},has:function(w,x,H){return!!G(H[3],w).length},header:function(w){return/h\d/i.test(w.nodeName)},text:function(w){return"text"===w.type},radio:function(w){return"radio"===w.type},checkbox:function(w){return"checkbox"===
w.type},file:function(w){return"file"===w.type},password:function(w){return"password"===w.type},submit:function(w){return"submit"===w.type},image:function(w){return"image"===w.type},reset:function(w){return"reset"===w.type},button:function(w){return"button"===w.type||w.nodeName.toLowerCase()==="button"},input:function(w){return/input|select|textarea|button/i.test(w.nodeName)}},setFilters:{first:function(w,x){return x===0},last:function(w,x,H,L){return x===L.length-1},even:function(w,x){return x%2===
0},odd:function(w,x){return x%2===1},lt:function(w,x,H){return x<H[3]-0},gt:function(w,x,H){return x>H[3]-0},nth:function(w,x,H){return H[3]-0===x},eq:function(w,x,H){return H[3]-0===x}},filter:{PSEUDO:function(w,x,H,L){var U=x[1],T=N.filters[U];if(T)return T(w,H,x,L);else if(U==="contains")return(w.textContent||w.innerText||d([w])||"").indexOf(x[3])>=0;else if(U==="not"){x=x[3];H=0;for(L=x.length;H<L;H++)if(x[H]===w)return false;return true}else G.error("Syntax error, unrecognized expression: "+
U)},CHILD:function(w,x){var H=x[1],L=w;switch(H){case "only":case "first":for(;L=L.previousSibling;)if(L.nodeType===1)return false;if(H==="first")return true;L=w;case "last":for(;L=L.nextSibling;)if(L.nodeType===1)return false;return true;case "nth":H=x[2];var U=x[3];if(H===1&&U===0)return true;x=x[0];var T=w.parentNode;if(T&&(T.sizcache!==x||!w.nodeIndex)){var ea=0;for(L=T.firstChild;L;L=L.nextSibling)if(L.nodeType===1)L.nodeIndex=++ea;T.sizcache=x}w=w.nodeIndex-U;return H===0?w===0:w%H===0&&w/H>=
0}},ID:function(w,x){return w.nodeType===1&&w.getAttribute("id")===x},TAG:function(w,x){return x==="*"&&w.nodeType===1||w.nodeName.toLowerCase()===x},CLASS:function(w,x){return(" "+(w.className||w.getAttribute("class"))+" ").indexOf(x)>-1},ATTR:function(w,x){var H=x[1];w=N.attrHandle[H]?N.attrHandle[H](w):w[H]!=null?w[H]:w.getAttribute(H);H=w+"";var L=x[2];x=x[4];return w==null?L==="!=":L==="="?H===x:L==="*="?H.indexOf(x)>=0:L==="~="?(" "+H+" ").indexOf(x)>=0:!x?H&&w!==false:L==="!="?H!==x:L==="^="?
H.indexOf(x)===0:L==="$="?H.substr(H.length-x.length)===x:L==="|="?H===x||H.substr(0,x.length+1)===x+"-":false},POS:function(w,x,H,L){var U=N.setFilters[x[2]];if(U)return U(w,H,x,L)}}},W=N.match.POS;for(var da in N.match){N.match[da]=new RegExp(N.match[da].source+/(?![^\[]*\])(?![^\(]*\))/.source);N.leftMatch[da]=new RegExp(/(^(?:.|\r|\n)*?)/.source+N.match[da].source.replace(/\\(\d+)/g,function(w,x){return"\\"+(x-0+1)}))}var oa=function(w,x){w=Array.prototype.slice.call(w,0);if(x){x.push.apply(x,
w);return x}return w};try{Array.prototype.slice.call(P.documentElement.childNodes,0)}catch(va){oa=function(w,x){x=x||[];if(z.call(w)==="[object Array]")Array.prototype.push.apply(x,w);else if(typeof w.length==="number")for(var H=0,L=w.length;H<L;H++)x.push(w[H]);else for(H=0;w[H];H++)x.push(w[H]);return x}}var ua;if(P.documentElement.compareDocumentPosition)ua=function(w,x){if(!w.compareDocumentPosition||!x.compareDocumentPosition){if(w==x)A=true;return w.compareDocumentPosition?-1:1}w=w.compareDocumentPosition(x)&
4?-1:w===x?0:1;if(w===0)A=true;return w};else if("sourceIndex"in P.documentElement)ua=function(w,x){if(!w.sourceIndex||!x.sourceIndex){if(w==x)A=true;return w.sourceIndex?-1:1}w=w.sourceIndex-x.sourceIndex;if(w===0)A=true;return w};else if(P.createRange)ua=function(w,x){if(!w.ownerDocument||!x.ownerDocument){if(w==x)A=true;return w.ownerDocument?-1:1}var H=w.ownerDocument.createRange(),L=x.ownerDocument.createRange();H.setStart(w,0);H.setEnd(w,0);L.setStart(x,0);L.setEnd(x,0);w=H.compareBoundaryPoints(Range.START_TO_END,
L);if(w===0)A=true;return w};(function(){var w=P.createElement("div"),x="script"+(new Date).getTime();w.innerHTML="<a name='"+x+"'/>";var H=P.documentElement;H.insertBefore(w,H.firstChild);if(P.getElementById(x)){N.find.ID=function(L,U,T){if(typeof U.getElementById!=="undefined"&&!T)return(U=U.getElementById(L[1]))?U.id===L[1]||typeof U.getAttributeNode!=="undefined"&&U.getAttributeNode("id").nodeValue===L[1]?[U]:c:[]};N.filter.ID=function(L,U){var T=typeof L.getAttributeNode!=="undefined"&&L.getAttributeNode("id");
return L.nodeType===1&&T&&T.nodeValue===U}}H.removeChild(w);H=w=null})();(function(){var w=P.createElement("div");w.appendChild(P.createComment(""));if(w.getElementsByTagName("*").length>0)N.find.TAG=function(x,H){H=H.getElementsByTagName(x[1]);if(x[1]==="*"){x=[];for(var L=0;H[L];L++)H[L].nodeType===1&&x.push(H[L]);H=x}return H};w.innerHTML="<a href='#'></a>";if(w.firstChild&&typeof w.firstChild.getAttribute!=="undefined"&&w.firstChild.getAttribute("href")!=="#")N.attrHandle.href=function(x){return x.getAttribute("href",
2)};w=null})();P.querySelectorAll&&function(){var w=G,x=P.createElement("div");x.innerHTML="<p class='TEST'></p>";if(!(x.querySelectorAll&&x.querySelectorAll(".TEST").length===0)){G=function(L,U,T,ea){U=U||P;if(!ea&&U.nodeType===9&&!ja(U))try{return oa(U.querySelectorAll(L),T)}catch(ca){}return w(L,U,T,ea)};for(var H in w)G[H]=w[H];x=null}}();(function(){var w=P.createElement("div");w.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!w.getElementsByClassName||w.getElementsByClassName("e").length===
0)){w.lastChild.className="e";if(w.getElementsByClassName("e").length!==1){N.order.splice(1,0,"CLASS");N.find.CLASS=function(x,H,L){if(typeof H.getElementsByClassName!=="undefined"&&!L)return H.getElementsByClassName(x[1])};w=null}}})();var Pa=P.compareDocumentPosition?function(w,x){return!!(w.compareDocumentPosition(x)&16)}:function(w,x){return w!==x&&(w.contains?w.contains(x):true)},ja=function(w){return(w=(w?w.ownerDocument||w:0).documentElement)?w.nodeName!=="HTML":false},Db=function(w,x){var H=
[],L="",U;for(x=x.nodeType?[x]:x;U=N.match.PSEUDO.exec(w);){L+=U[0];w=w.replace(N.match.PSEUDO,"")}w=N.relative[w]?w+"*":w;U=0;for(var T=x.length;U<T;U++)G(w,x[U],H);return G.filter(L,H)};j.find=G;j.expr=G.selectors;j.expr[":"]=j.expr.filters;j.unique=G.uniqueSort;j.text=d;j.isXMLDoc=ja;j.contains=Pa})();var Ea=/Until$/,Ta=/^(?:parents|prevUntil|prevAll)/,Xa=/,/;Ba=Array.prototype.slice;var xa=function(d,i,m){if(j.isFunction(i))return j.grep(d,function(q,z){return!!i.call(q,z,q)===m});else if(i.nodeType)return j.grep(d,
function(q){return q===i===m});else if(typeof i==="string"){var r=j.grep(d,function(q){return q.nodeType===1});if(fa.test(i))return j.filter(i,r,!m);else i=j.filter(i,r)}return j.grep(d,function(q){return j.inArray(q,i)>=0===m})};j.fn.extend({find:function(d){for(var i=this.pushStack("","find",d),m=0,r=0,q=this.length;r<q;r++){m=i.length;j.find(d,this[r],i);if(r>0)for(var z=m;z<i.length;z++)for(var A=0;A<m;A++)if(i[A]===i[z]){i.splice(z--,1);break}}return i},has:function(d){var i=j(d);return this.filter(function(){for(var m=
0,r=i.length;m<r;m++)if(j.contains(this,i[m]))return true})},not:function(d){return this.pushStack(xa(this,d,false),"not",d)},filter:function(d){return this.pushStack(xa(this,d,true),"filter",d)},is:function(d){return!!d&&j.filter(d,this).length>0},closest:function(d,i){if(j.isArray(d)){var m=[],r=this[0],q,z={},A;if(r&&d.length){q=0;for(var O=d.length;q<O;q++){A=d[q];z[A]||(z[A]=j.expr.match.POS.test(A)?j(A,i||this.context):A)}for(;r&&r.ownerDocument&&r!==i;){for(A in z){q=z[A];if(q.jquery?q.index(r)>
-1:j(r).is(q)){m.push({selector:A,elem:r});delete z[A]}}r=r.parentNode}}return m}var G=j.expr.match.POS.test(d)?j(d,i||this.context):null;return this.map(function(N,W){for(;W&&W.ownerDocument&&W!==i;){if(G?G.index(W)>-1:j(W).is(d))return W;W=W.parentNode}return null})},index:function(d){if(!d||typeof d==="string")return j.inArray(this[0],d?j(d):this.parent().children());return j.inArray(d.jquery?d[0]:d,this)},add:function(d,i){d=typeof d==="string"?j(d,i||this.context):j.makeArray(d);i=j.merge(this.get(),
d);return this.pushStack(C(d[0])||C(i[0])?i:j.unique(i))},andSelf:function(){return this.add(this.prevObject)}});j.each({parent:function(d){return(d=d.parentNode)&&d.nodeType!==11?d:null},parents:function(d){return j.dir(d,"parentNode")},parentsUntil:function(d,i,m){return j.dir(d,"parentNode",m)},next:function(d){return j.nth(d,2,"nextSibling")},prev:function(d){return j.nth(d,2,"previousSibling")},nextAll:function(d){return j.dir(d,"nextSibling")},prevAll:function(d){return j.dir(d,"previousSibling")},
nextUntil:function(d,i,m){return j.dir(d,"nextSibling",m)},prevUntil:function(d,i,m){return j.dir(d,"previousSibling",m)},siblings:function(d){return j.sibling(d.parentNode.firstChild,d)},children:function(d){return j.sibling(d.firstChild)},contents:function(d){return j.nodeName(d,"iframe")?d.contentDocument||d.contentWindow.document:j.makeArray(d.childNodes)}},function(d,i){j.fn[d]=function(m,r){var q=j.map(this,i,m);Ea.test(d)||(r=m);if(r&&typeof r==="string")q=j.filter(r,q);q=this.length>1?j.unique(q):
q;if((this.length>1||Xa.test(r))&&Ta.test(d))q=q.reverse();return this.pushStack(q,d,Ba.call(arguments).join(","))}});j.extend({filter:function(d,i,m){if(m)d=":not("+d+")";return j.find.matches(d,i)},dir:function(d,i,m){var r=[];for(d=d[i];d&&d.nodeType!==9&&(m===c||d.nodeType!==1||!j(d).is(m));){d.nodeType===1&&r.push(d);d=d[i]}return r},nth:function(d,i,m){i=i||1;for(var r=0;d;d=d[m])if(d.nodeType===1&&++r===i)break;return d},sibling:function(d,i){for(var m=[];d;d=d.nextSibling)d.nodeType===1&&
d!==i&&m.push(d);return m}});var jb=/ jQuery\d+="(?:\d+|null)"/g,db=/^\s+/,qb=/(<([\w:]+)[^>]*?)\/>/g,ub=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,Ya=/<([\w:]+)/,vb=/<tbody/i,lb=/<|&#?\w+;/,eb=/<script|<object|<embed|<option|<style/i,Ua=/checked\s*(?:[^=]|=\s*.checked.)/i,mb=function(d,i,m){return ub.test(m)?d:i+"></"+m+">"},Fa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Fa.optgroup=Fa.option;Fa.tbody=Fa.tfoot=Fa.colgroup=Fa.caption=Fa.thead;Fa.th=Fa.td;if(!j.support.htmlSerialize)Fa._default=[1,"div<div>","</div>"];j.fn.extend({text:function(d){if(j.isFunction(d))return this.each(function(i){var m=j(this);m.text(d.call(this,i,m.text()))});if(typeof d!=="object"&&d!==c)return this.empty().append((this[0]&&
this[0].ownerDocument||P).createTextNode(d));return j.text(this)},wrapAll:function(d){if(j.isFunction(d))return this.each(function(m){j(this).wrapAll(d.call(this,m))});if(this[0]){var i=j(d,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&i.insertBefore(this[0]);i.map(function(){for(var m=this;m.firstChild&&m.firstChild.nodeType===1;)m=m.firstChild;return m}).append(this)}return this},wrapInner:function(d){if(j.isFunction(d))return this.each(function(i){j(this).wrapInner(d.call(this,i))});
return this.each(function(){var i=j(this),m=i.contents();m.length?m.wrapAll(d):i.append(d)})},wrap:function(d){return this.each(function(){j(this).wrapAll(d)})},unwrap:function(){return this.parent().each(function(){j.nodeName(this,"body")||j(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(d){this.nodeType===1&&this.appendChild(d)})},prepend:function(){return this.domManip(arguments,true,function(d){this.nodeType===1&&this.insertBefore(d,
this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(i){this.parentNode.insertBefore(i,this)});else if(arguments.length){var d=j(arguments[0]);d.push.apply(d,this.toArray());return this.pushStack(d,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(i){this.parentNode.insertBefore(i,this.nextSibling)});else if(arguments.length){var d=this.pushStack(this,"after",arguments);
d.push.apply(d,j(arguments[0]).toArray());return d}},remove:function(d,i){for(var m=0,r;(r=this[m])!=null;m++)if(!d||j.filter(d,[r]).length){if(!i&&r.nodeType===1){j.cleanData(r.getElementsByTagName("*"));j.cleanData([r])}r.parentNode&&r.parentNode.removeChild(r)}return this},empty:function(){for(var d=0,i;(i=this[d])!=null;d++)for(i.nodeType===1&&j.cleanData(i.getElementsByTagName("*"));i.firstChild;)i.removeChild(i.firstChild);return this},clone:function(d){var i=this.map(function(){if(!j.support.noCloneEvent&&
!j.isXMLDoc(this)){var m=this.outerHTML,r=this.ownerDocument;if(!m){m=r.createElement("div");m.appendChild(this.cloneNode(true));m=m.innerHTML}return j.clean([m.replace(jb,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(db,"")],r)[0]}else return this.cloneNode(true)});if(d===true){R(this,i);R(this.find("*"),i.find("*"))}return i},html:function(d){if(d===c)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(jb,""):null;else if(typeof d==="string"&&!eb.test(d)&&(j.support.leadingWhitespace||
!db.test(d))&&!Fa[(Ya.exec(d)||["",""])[1].toLowerCase()]){d=d.replace(qb,mb);try{for(var i=0,m=this.length;i<m;i++)if(this[i].nodeType===1){j.cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=d}}catch(r){this.empty().append(d)}}else j.isFunction(d)?this.each(function(q){var z=j(this),A=z.html();z.empty().append(function(){return d.call(this,q,A)})}):this.empty().append(d);return this},replaceWith:function(d){if(this[0]&&this[0].parentNode){if(j.isFunction(d))return this.each(function(i){var m=
j(this),r=m.html();m.replaceWith(d.call(this,i,r))});if(typeof d!=="string")d=j(d).detach();return this.each(function(){var i=this.nextSibling,m=this.parentNode;j(this).remove();i?j(i).before(d):j(m).append(d)})}else return this.pushStack(j(j.isFunction(d)?d():d),"replaceWith",d)},detach:function(d){return this.remove(d,true)},domManip:function(d,i,m){function r(da){return j.nodeName(da,"table")?da.getElementsByTagName("tbody")[0]||da.appendChild(da.ownerDocument.createElement("tbody")):da}var q,
z,A=d[0],O=[],G;if(!j.support.checkClone&&arguments.length===3&&typeof A==="string"&&Ua.test(A))return this.each(function(){j(this).domManip(d,i,m,true)});if(j.isFunction(A))return this.each(function(da){var oa=j(this);d[0]=A.call(this,da,i?oa.html():c);oa.domManip(d,i,m)});if(this[0]){q=A&&A.parentNode;q=j.support.parentNode&&q&&q.nodeType===11&&q.childNodes.length===this.length?{fragment:q}:K(d,this,O);G=q.fragment;if(z=G.childNodes.length===1?(G=G.firstChild):G.firstChild){i=i&&j.nodeName(z,"tr");
for(var N=0,W=this.length;N<W;N++)m.call(i?r(this[N],z):this[N],N>0||q.cacheable||this.length>1?G.cloneNode(true):G)}O.length&&j.each(O,g)}return this}});j.fragments={};j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,i){j.fn[d]=function(m){var r=[];m=j(m);var q=this.length===1&&this[0].parentNode;if(q&&q.nodeType===11&&q.childNodes.length===1&&m.length===1){m[i](this[0]);return this}else{q=0;for(var z=m.length;q<z;q++){var A=
(q>0?this.clone(true):this).get();j.fn[i].apply(j(m[q]),A);r=r.concat(A)}return this.pushStack(r,d,m.selector)}}});j.extend({clean:function(d,i,m,r){i=i||P;if(typeof i.createElement==="undefined")i=i.ownerDocument||i[0]&&i[0].ownerDocument||P;for(var q=[],z=0,A;(A=d[z])!=null;z++){if(typeof A==="number")A+="";if(A){if(typeof A==="string"&&!lb.test(A))A=i.createTextNode(A);else if(typeof A==="string"){A=A.replace(qb,mb);var O=(Ya.exec(A)||["",""])[1].toLowerCase(),G=Fa[O]||Fa._default,N=G[0],W=i.createElement("div");
for(W.innerHTML=G[1]+A+G[2];N--;)W=W.lastChild;if(!j.support.tbody){N=vb.test(A);O=O==="table"&&!N?W.firstChild&&W.firstChild.childNodes:G[1]==="<table>"&&!N?W.childNodes:[];for(G=O.length-1;G>=0;--G)j.nodeName(O[G],"tbody")&&!O[G].childNodes.length&&O[G].parentNode.removeChild(O[G])}!j.support.leadingWhitespace&&db.test(A)&&W.insertBefore(i.createTextNode(db.exec(A)[0]),W.firstChild);A=W.childNodes}if(A.nodeType)q.push(A);else q=j.merge(q,A)}}if(m)for(z=0;q[z];z++)if(r&&j.nodeName(q[z],"script")&&
(!q[z].type||q[z].type.toLowerCase()==="text/javascript"))r.push(q[z].parentNode?q[z].parentNode.removeChild(q[z]):q[z]);else{q[z].nodeType===1&&q.splice.apply(q,[z+1,0].concat(j.makeArray(q[z].getElementsByTagName("script"))));m.appendChild(q[z])}return q},cleanData:function(d){for(var i,m,r=j.cache,q=j.event.special,z=j.support.deleteExpando,A=0,O;(O=d[A])!=null;A++)if(m=O[j.expando]){i=r[m];if(i.events)for(var G in i.events)q[G]?j.event.remove(O,G):Y(O,G,i.handle);if(z)delete O[j.expando];else O.removeAttribute&&
O.removeAttribute(j.expando);delete r[m]}}});var Ga=/z-?index|font-?weight|opacity|zoom|line-?height/i,rb=/alpha\([^)]*\)/,fb=/opacity=([^)]*)/,gb=/float/i,Za=/-([a-z])/ig,wb=/([A-Z])/g,Va=/^-?\d+(?:px)?$/i,Bb=/^-?\d/,kb={position:"absolute",visibility:"hidden",display:"block"},Cb=["Left","Right"],sb=["Top","Bottom"],pb=P.defaultView&&P.defaultView.getComputedStyle,nb=j.support.cssFloat?"cssFloat":"styleFloat",$a=function(d,i){return i.toUpperCase()};j.fn.css=function(d,i){return l(this,d,i,true,
function(m,r,q){if(q===c)return j.curCSS(m,r);if(typeof q==="number"&&!Ga.test(r))q+="px";j.style(m,r,q)})};j.extend({style:function(d,i,m){if(!d||d.nodeType===3||d.nodeType===8)return c;if((i==="width"||i==="height")&&parseFloat(m)<0)m=c;var r=d.style||d,q=m!==c;if(!j.support.opacity&&i==="opacity"){if(q){r.zoom=1;i=parseInt(m,10)+""==="NaN"?"":"alpha(opacity="+m*100+")";d=r.filter||j.curCSS(d,"filter")||"";r.filter=rb.test(d)?d.replace(rb,i):i}return r.filter&&r.filter.indexOf("opacity=")>=0?parseFloat(fb.exec(r.filter)[1])/
100+"":""}if(gb.test(i))i=nb;i=i.replace(Za,$a);if(q)r[i]=m;return r[i]},css:function(d,i,m,r){if(i==="width"||i==="height"){var q,z=i==="width"?Cb:sb;m=function(){q=i==="width"?d.offsetWidth:d.offsetHeight;r!=="border"&&j.each(z,function(){r||(q-=parseFloat(j.curCSS(d,"padding"+this,true))||0);if(r==="margin")q+=parseFloat(j.curCSS(d,"margin"+this,true))||0;else q-=parseFloat(j.curCSS(d,"border"+this+"Width",true))||0})};d.offsetWidth!==0?m():j.swap(d,kb,m);return Math.max(0,Math.round(q))}return j.curCSS(d,
i,m)},curCSS:function(d,i,m){var r,q=d.style;if(!j.support.opacity&&i==="opacity"&&d.currentStyle){r=fb.test(d.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return r===""?"1":r}if(gb.test(i))i=nb;if(!m&&q&&q[i])r=q[i];else if(pb){if(gb.test(i))i="float";i=i.replace(wb,"-$1").toLowerCase();q=d.ownerDocument.defaultView;if(!q)return null;if(d=q.getComputedStyle(d,null))r=d.getPropertyValue(i);if(i==="opacity"&&r==="")r="1"}else if(d.currentStyle){m=i.replace(Za,$a);r=d.currentStyle[i]||d.currentStyle[m];
if(!Va.test(r)&&Bb.test(r)){i=q.left;var z=d.runtimeStyle.left;d.runtimeStyle.left=d.currentStyle.left;q.left=m==="fontSize"?"1em":r||0;r=q.pixelLeft+"px";q.left=i;d.runtimeStyle.left=z}}return r},swap:function(d,i,m){var r={};for(var q in i){r[q]=d.style[q];d.style[q]=i[q]}m.call(d);for(q in i)d.style[q]=r[q]}});if(j.expr&&j.expr.filters){j.expr.filters.hidden=function(d){var i=d.offsetWidth,m=d.offsetHeight,r=d.nodeName.toLowerCase()==="tr";return i===0&&m===0&&!r?true:i>0&&m>0&&!r?false:j.curCSS(d,
"display")==="none"};j.expr.filters.visible=function(d){return!j.expr.filters.hidden(d)}}var xb=k(),yb=/<script(.|\s)*?\/script>/gi,s=/select|textarea/i,h=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,M=/=\?(&|$)/,S=/\?/,F=/(\?|&)_=.*?(&|$)/,B=/^(\w+:)?\/\/([^\/?#]+)/,I=/%20/g,aa=j.fn.load;j.fn.extend({load:function(d,i,m){if(typeof d!=="string")return aa.call(this,d);else if(!this.length)return this;var r=d.indexOf(" ");if(r>=0){var q=d.slice(r,d.length);
d=d.slice(0,r)}r="GET";if(i)if(j.isFunction(i)){m=i;i=null}else if(typeof i==="object"){i=j.param(i,j.ajaxSettings.traditional);r="POST"}var z=this;j.ajax({url:d,type:r,dataType:"html",data:i,complete:function(A,O){if(O==="success"||O==="notmodified")z.html(q?j("<div />").append(A.responseText.replace(yb,"")).find(q):A.responseText);m&&z.each(m,[A.responseText,O,A])}});return this},serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
j.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||s.test(this.nodeName)||h.test(this.type))}).map(function(d,i){d=j(this).val();return d==null?null:j.isArray(d)?j.map(d,function(m){return{name:i.name,value:m}}):{name:i.name,value:d}}).get()}});j.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(d,i){j.fn[i]=function(m){return this.bind(i,m)}});j.extend({get:function(d,i,m,r){if(j.isFunction(i)){r=r||m;m=i;i=
null}return j.ajax({type:"GET",url:d,data:i,success:m,dataType:r})},getScript:function(d,i){return j.get(d,null,i,"script")},getJSON:function(d,i,m){return j.get(d,i,m,"json")},post:function(d,i,m,r){if(j.isFunction(i)){r=r||m;m=i;i={}}return j.ajax({type:"POST",url:d,data:i,success:m,dataType:r})},ajaxSetup:function(d){j.extend(j.ajaxSettings,d)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:b.XMLHttpRequest&&
(b.location.protocol!=="file:"||!b.ActiveXObject)?function(){return new b.XMLHttpRequest}:function(){try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(d){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(d){function i(){q.success&&q.success.call(G,O,A,ja);q.global&&r("ajaxSuccess",[ja,q])}function m(){q.complete&&q.complete.call(G,
ja,A);q.global&&r("ajaxComplete",[ja,q]);q.global&&!--j.active&&j.event.trigger("ajaxStop")}function r(U,T){(q.context?j(q.context):j.event).trigger(U,T)}var q=j.extend(true,{},j.ajaxSettings,d),z,A,O,G=d&&d.context||q,N=q.type.toUpperCase();if(q.data&&q.processData&&typeof q.data!=="string")q.data=j.param(q.data,q.traditional);if(q.dataType==="jsonp"){if(N==="GET")M.test(q.url)||(q.url+=(S.test(q.url)?"&":"?")+(q.jsonp||"callback")+"=?");else if(!q.data||!M.test(q.data))q.data=(q.data?q.data+"&":
"")+(q.jsonp||"callback")+"=?";q.dataType="json"}if(q.dataType==="json"&&(q.data&&M.test(q.data)||M.test(q.url))){z=q.jsonpCallback||"jsonp"+xb++;if(q.data)q.data=(q.data+"").replace(M,"="+z+"$1");q.url=q.url.replace(M,"="+z+"$1");q.dataType="script";b[z]=b[z]||function(U){O=U;i();m();b[z]=c;try{delete b[z]}catch(T){}oa&&oa.removeChild(va)}}if(q.dataType==="script"&&q.cache===null)q.cache=false;if(q.cache===false&&N==="GET"){var W=k(),da=q.url.replace(F,"$1_="+W+"$2");q.url=da+(da===q.url?(S.test(q.url)?
"&":"?")+"_="+W:"")}if(q.data&&N==="GET")q.url+=(S.test(q.url)?"&":"?")+q.data;q.global&&!j.active++&&j.event.trigger("ajaxStart");W=(W=B.exec(q.url))&&(W[1]&&W[1]!==location.protocol||W[2]!==location.host);if(q.dataType==="script"&&N==="GET"&&W){var oa=P.getElementsByTagName("head")[0]||P.documentElement,va=P.createElement("script");va.src=q.url;if(q.scriptCharset)va.charset=q.scriptCharset;if(!z){var ua=false;va.onload=va.onreadystatechange=function(){if(!ua&&(!this.readyState||this.readyState===
"loaded"||this.readyState==="complete")){ua=true;i();m();va.onload=va.onreadystatechange=null;oa&&va.parentNode&&oa.removeChild(va)}}}oa.insertBefore(va,oa.firstChild);return c}var Pa=false,ja=q.xhr();if(ja){q.username?ja.open(N,q.url,q.async,q.username,q.password):ja.open(N,q.url,q.async);try{if(q.data||d&&d.contentType)ja.setRequestHeader("Content-Type",q.contentType);if(q.ifModified){j.lastModified[q.url]&&ja.setRequestHeader("If-Modified-Since",j.lastModified[q.url]);j.etag[q.url]&&ja.setRequestHeader("If-None-Match",
j.etag[q.url])}W||ja.setRequestHeader("X-Requested-With","XMLHttpRequest");ja.setRequestHeader("Accept",q.dataType&&q.accepts[q.dataType]?q.accepts[q.dataType]+", */*":q.accepts._default)}catch(Db){}if(q.beforeSend&&q.beforeSend.call(G,ja,q)===false){q.global&&!--j.active&&j.event.trigger("ajaxStop");ja.abort();return false}q.global&&r("ajaxSend",[ja,q]);var w=ja.onreadystatechange=function(U){if(!ja||ja.readyState===0||U==="abort"){Pa||m();Pa=true;if(ja)ja.onreadystatechange=j.noop}else if(!Pa&&
ja&&(ja.readyState===4||U==="timeout")){Pa=true;ja.onreadystatechange=j.noop;A=U==="timeout"?"timeout":!j.httpSuccess(ja)?"error":q.ifModified&&j.httpNotModified(ja,q.url)?"notmodified":"success";var T;if(A==="success")try{O=j.httpData(ja,q.dataType,q)}catch(ea){A="parsererror";T=ea}if(A==="success"||A==="notmodified")z||i();else j.handleError(q,ja,A,T);m();U==="timeout"&&ja.abort();if(q.async)ja=null}};try{var x=ja.abort;ja.abort=function(){ja&&x.call(ja);w("abort")}}catch(H){}q.async&&q.timeout>
0&&setTimeout(function(){ja&&!Pa&&w("timeout")},q.timeout);try{ja.send(N==="POST"||N==="PUT"||N==="DELETE"?q.data:null)}catch(L){j.handleError(q,ja,null,L);m()}q.async||w();return ja}},handleError:function(d,i,m,r){if(d.error)d.error.call(d.context||d,i,m,r);if(d.global)(d.context?j(d.context):j.event).trigger("ajaxError",[i,d,r])},active:0,httpSuccess:function(d){try{return!d.status&&location.protocol==="file:"||d.status>=200&&d.status<300||d.status===304||d.status===1223||d.status===0}catch(i){}return false},
httpNotModified:function(d,i){var m=d.getResponseHeader("Last-Modified"),r=d.getResponseHeader("Etag");if(m)j.lastModified[i]=m;if(r)j.etag[i]=r;return d.status===304||d.status===0},httpData:function(d,i,m){var r=d.getResponseHeader("content-type")||"",q=i==="xml"||!i&&r.indexOf("xml")>=0;d=q?d.responseXML:d.responseText;q&&d.documentElement.nodeName==="parsererror"&&j.error("parsererror");if(m&&m.dataFilter)d=m.dataFilter(d,i);if(typeof d==="string")if(i==="json"||!i&&r.indexOf("json")>=0)d=j.parseJSON(d);
else if(i==="script"||!i&&r.indexOf("javascript")>=0)j.globalEval(d);return d},param:function(d,i){function m(A,O){if(j.isArray(O))j.each(O,function(G,N){i||/\[\]$/.test(A)?r(A,N):m(A+"["+(typeof N==="object"||j.isArray(N)?G:"")+"]",N)});else!i&&O!=null&&typeof O==="object"?j.each(O,function(G,N){m(A+"["+G+"]",N)}):r(A,O)}function r(A,O){O=j.isFunction(O)?O():O;q[q.length]=encodeURIComponent(A)+"="+encodeURIComponent(O)}var q=[];if(i===c)i=j.ajaxSettings.traditional;if(j.isArray(d)||d.jquery)j.each(d,
function(){r(this.name,this.value)});else for(var z in d)m(z,d[z]);return q.join("&").replace(I,"+")}});var ma={},ta=/toggle|show|hide/,Eb=/^([+-]=)?([\d+-.]+)(.*)$/,Ab,Fb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];j.fn.extend({show:function(d,i){if(d||d===0)return this.animate(E("show",3),d,i);else{d=0;for(i=this.length;d<i;d++){var m=j.data(this[d],"olddisplay");this[d].style.display=m||"";if(j.css(this[d],
"display")==="none"){m=this[d].nodeName;var r;if(ma[m])r=ma[m];else{var q=j("<"+m+" />").appendTo("body");r=q.css("display");if(r==="none")r="block";q.remove();ma[m]=r}j.data(this[d],"olddisplay",r)}}d=0;for(i=this.length;d<i;d++)this[d].style.display=j.data(this[d],"olddisplay")||"";return this}},hide:function(d,i){if(d||d===0)return this.animate(E("hide",3),d,i);else{d=0;for(i=this.length;d<i;d++){var m=j.data(this[d],"olddisplay");!m&&m!=="none"&&j.data(this[d],"olddisplay",j.css(this[d],"display"))}d=
0;for(i=this.length;d<i;d++)this[d].style.display="none";return this}},_toggle:j.fn.toggle,toggle:function(d,i){var m=typeof d==="boolean";if(j.isFunction(d)&&j.isFunction(i))this._toggle.apply(this,arguments);else d==null||m?this.each(function(){var r=m?d:j(this).is(":hidden");j(this)[r?"show":"hide"]()}):this.animate(E("toggle",3),d,i);return this},fadeTo:function(d,i,m){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:i},d,m)},animate:function(d,i,m,r){var q=j.speed(i,
m,r);if(j.isEmptyObject(d))return this.each(q.complete);return this[q.queue===false?"each":"queue"](function(){var z=j.extend({},q),A,O=this.nodeType===1&&j(this).is(":hidden"),G=this;for(A in d){var N=A.replace(Za,$a);if(A!==N){d[N]=d[A];delete d[A];A=N}if(d[A]==="hide"&&O||d[A]==="show"&&!O)return z.complete.call(this);if((A==="height"||A==="width")&&this.style){z.display=j.css(this,"display");z.overflow=this.style.overflow}if(j.isArray(d[A])){(z.specialEasing=z.specialEasing||{})[A]=d[A][1];d[A]=
d[A][0]}}if(z.overflow!=null)this.style.overflow="hidden";z.curAnim=j.extend({},d);j.each(d,function(W,da){var oa=new j.fx(G,z,W);if(ta.test(da))oa[da==="toggle"?O?"show":"hide":da](d);else{var va=Eb.exec(da),ua=oa.cur(true)||0;if(va){da=parseFloat(va[2]);var Pa=va[3]||"px";if(Pa!=="px"){G.style[W]=(da||1)+Pa;ua=(da||1)/oa.cur(true)*ua;G.style[W]=ua+Pa}if(va[1])da=(va[1]==="-="?-1:1)*da+ua;oa.custom(ua,da,Pa)}else oa.custom(ua,da,"")}});return true})},stop:function(d,i){var m=j.timers;d&&this.queue([]);
this.each(function(){for(var r=m.length-1;r>=0;r--)if(m[r].elem===this){i&&m[r](true);m.splice(r,1)}});i||this.dequeue();return this}});j.each({slideDown:E("show",1),slideUp:E("hide",1),slideToggle:E("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(d,i){j.fn[d]=function(m,r){return this.animate(i,m,r)}});j.extend({speed:function(d,i,m){var r=d&&typeof d==="object"?d:{complete:m||!m&&i||j.isFunction(d)&&d,duration:d,easing:m&&i||i&&!j.isFunction(i)&&i};r.duration=j.fx.off?0:typeof r.duration===
"number"?r.duration:j.fx.speeds[r.duration]||j.fx.speeds._default;r.old=r.complete;r.complete=function(){r.queue!==false&&j(this).dequeue();j.isFunction(r.old)&&r.old.call(this)};return r},easing:{linear:function(d,i,m,r){return m+r*d},swing:function(d,i,m,r){return(-Math.cos(d*Math.PI)/2+0.5)*r+m}},timers:[],fx:function(d,i,m){this.options=i;this.elem=d;this.prop=m;if(!i.orig)i.orig={}}});j.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(j.fx.step[this.prop]||
j.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style)this.elem.style.display="block"},cur:function(d){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];return(d=parseFloat(j.css(this.elem,this.prop,d)))&&d>-10000?d:parseFloat(j.curCSS(this.elem,this.prop))||0},custom:function(d,i,m){function r(z){return q.step(z)}this.startTime=k();this.start=d;this.end=i;this.unit=m||this.unit||"px";this.now=this.start;
this.pos=this.state=0;var q=this;r.elem=this.elem;if(r()&&j.timers.push(r)&&!Ab)Ab=setInterval(j.fx.tick,13)},show:function(){this.options.orig[this.prop]=j.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());j(this.elem).show()},hide:function(){this.options.orig[this.prop]=j.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(d){var i=k(),m=true;if(d||i>=this.options.duration+this.startTime){this.now=
this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var r in this.options.curAnim)if(this.options.curAnim[r]!==true)m=false;if(m){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;d=j.data(this.elem,"olddisplay");this.elem.style.display=d?d:this.options.display;if(j.css(this.elem,"display")==="none")this.elem.style.display="block"}this.options.hide&&j(this.elem).hide();if(this.options.hide||this.options.show)for(var q in this.options.curAnim)j.style(this.elem,
q,this.options.orig[q]);this.options.complete.call(this.elem)}return false}else{q=i-this.startTime;this.state=q/this.options.duration;d=this.options.easing||(j.easing.swing?"swing":"linear");this.pos=j.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||d](this.state,q,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};j.extend(j.fx,{tick:function(){for(var d=j.timers,i=0;i<d.length;i++)d[i]()||d.splice(i--,1);d.length||
j.fx.stop()},stop:function(){clearInterval(Ab);Ab=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(d){j.style(d.elem,"opacity",d.now)},_default:function(d){if(d.elem.style&&d.elem.style[d.prop]!=null)d.elem.style[d.prop]=(d.prop==="width"||d.prop==="height"?Math.max(0,d.now):d.now)+d.unit;else d.elem[d.prop]=d.now}}});if(j.expr&&j.expr.filters)j.expr.filters.animated=function(d){return j.grep(j.timers,function(i){return d===i.elem}).length};j.fn.offset="getBoundingClientRect"in
P.documentElement?function(d){var i=this[0];if(d)return this.each(function(q){j.offset.setOffset(this,d,q)});if(!i||!i.ownerDocument)return null;if(i===i.ownerDocument.body)return j.offset.bodyOffset(i);var m=i.getBoundingClientRect(),r=i.ownerDocument;i=r.body;r=r.documentElement;return{top:m.top+(self.pageYOffset||j.support.boxModel&&r.scrollTop||i.scrollTop)-(r.clientTop||i.clientTop||0),left:m.left+(self.pageXOffset||j.support.boxModel&&r.scrollLeft||i.scrollLeft)-(r.clientLeft||i.clientLeft||
0)}}:function(d){var i=this[0];if(d)return this.each(function(W){j.offset.setOffset(this,d,W)});if(!i||!i.ownerDocument)return null;if(i===i.ownerDocument.body)return j.offset.bodyOffset(i);j.offset.initialize();var m=i.offsetParent,r=i,q=i.ownerDocument,z,A=q.documentElement,O=q.body;r=(q=q.defaultView)?q.getComputedStyle(i,null):i.currentStyle;for(var G=i.offsetTop,N=i.offsetLeft;(i=i.parentNode)&&i!==O&&i!==A;){if(j.offset.supportsFixedPosition&&r.position==="fixed")break;z=q?q.getComputedStyle(i,
null):i.currentStyle;G-=i.scrollTop;N-=i.scrollLeft;if(i===m){G+=i.offsetTop;N+=i.offsetLeft;if(j.offset.doesNotAddBorder&&!(j.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(i.nodeName))){G+=parseFloat(z.borderTopWidth)||0;N+=parseFloat(z.borderLeftWidth)||0}r=m;m=i.offsetParent}if(j.offset.subtractsBorderForOverflowNotVisible&&z.overflow!=="visible"){G+=parseFloat(z.borderTopWidth)||0;N+=parseFloat(z.borderLeftWidth)||0}r=z}if(r.position==="relative"||r.position==="static"){G+=O.offsetTop;
N+=O.offsetLeft}if(j.offset.supportsFixedPosition&&r.position==="fixed"){G+=Math.max(A.scrollTop,O.scrollTop);N+=Math.max(A.scrollLeft,O.scrollLeft)}return{top:G,left:N}};j.offset={initialize:function(){var d=P.body,i=P.createElement("div"),m,r,q,z=parseFloat(j.curCSS(d,"marginTop",true))||0;j.extend(i.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});i.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
d.insertBefore(i,d.firstChild);m=i.firstChild;r=m.firstChild;q=m.nextSibling.firstChild.firstChild;this.doesNotAddBorder=r.offsetTop!==5;this.doesAddBorderForTableAndCells=q.offsetTop===5;r.style.position="fixed";r.style.top="20px";this.supportsFixedPosition=r.offsetTop===20||r.offsetTop===15;r.style.position=r.style.top="";m.style.overflow="hidden";m.style.position="relative";this.subtractsBorderForOverflowNotVisible=r.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=d.offsetTop!==z;d.removeChild(i);
j.offset.initialize=j.noop},bodyOffset:function(d){var i=d.offsetTop,m=d.offsetLeft;j.offset.initialize();if(j.offset.doesNotIncludeMarginInBodyOffset){i+=parseFloat(j.curCSS(d,"marginTop",true))||0;m+=parseFloat(j.curCSS(d,"marginLeft",true))||0}return{top:i,left:m}},setOffset:function(d,i,m){if(/static/.test(j.curCSS(d,"position")))d.style.position="relative";var r=j(d),q=r.offset(),z=parseInt(j.curCSS(d,"top",true),10)||0,A=parseInt(j.curCSS(d,"left",true),10)||0;if(j.isFunction(i))i=i.call(d,
m,q);m={top:i.top-q.top+z,left:i.left-q.left+A};"using"in i?i.using.call(d,m):r.css(m)}};j.fn.extend({position:function(){if(!this[0])return null;var d=this[0],i=this.offsetParent(),m=this.offset(),r=/^body|html$/i.test(i[0].nodeName)?{top:0,left:0}:i.offset();m.top-=parseFloat(j.curCSS(d,"marginTop",true))||0;m.left-=parseFloat(j.curCSS(d,"marginLeft",true))||0;r.top+=parseFloat(j.curCSS(i[0],"borderTopWidth",true))||0;r.left+=parseFloat(j.curCSS(i[0],"borderLeftWidth",true))||0;return{top:m.top-
r.top,left:m.left-r.left}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent||P.body;d&&!/^body|html$/i.test(d.nodeName)&&j.css(d,"position")==="static";)d=d.offsetParent;return d})}});j.each(["Left","Top"],function(d,i){var m="scroll"+i;j.fn[m]=function(r){var q=this[0],z;if(!q)return null;if(r!==c)return this.each(function(){if(z=Q(this))z.scrollTo(!d?r:j(z).scrollLeft(),d?r:j(z).scrollTop());else this[m]=r});else return(z=Q(q))?"pageXOffset"in z?z[d?"pageYOffset":"pageXOffset"]:
j.support.boxModel&&z.document.documentElement[m]||z.document.body[m]:q[m]}});j.each(["Height","Width"],function(d,i){var m=i.toLowerCase();j.fn["inner"+i]=function(){return this[0]?j.css(this[0],m,false,"padding"):null};j.fn["outer"+i]=function(r){return this[0]?j.css(this[0],m,false,r?"margin":"border"):null};j.fn[m]=function(r){var q=this[0];if(!q)return r==null?null:this;if(j.isFunction(r))return this.each(function(z){var A=j(this);A[m](r.call(this,z,A[m]()))});return"scrollTo"in q&&q.document?
q.document.compatMode==="CSS1Compat"&&q.document.documentElement["client"+i]||q.document.body["client"+i]:q.nodeType===9?Math.max(q.documentElement["client"+i],q.body["scroll"+i],q.documentElement["scroll"+i],q.body["offset"+i],q.documentElement["offset"+i]):r===c?j.css(q,m):this.css(m,typeof r==="string"?r:r+"px")}});b.jQuery=b.$=j})(window);jQuery.ui||function(b){function c(p,u,y,C){function R(E){E=b[p][u][E]||[];return typeof E=="string"?E.split(/,?\s+/):E}var K=R("getter");if(C.length==1&&typeof C[0]=="string")K=K.concat(R("getterSetter"));return b.inArray(y,K)!=-1}var e=b.fn.remove,g=b.browser.mozilla&&parseFloat(b.browser.version)<1.9;b.ui={version:"1.7.2",plugin:{add:function(p,u,y){p=b.ui[p].prototype;for(var C in y){p.plugins[C]=p.plugins[C]||[];p.plugins[C].push([u,y[C]])}},call:function(p,u,y){if((u=p.plugins[u])&&p.element[0].parentNode)for(var C=
0;C<u.length;C++)p.options[u[C][0]]&&u[C][1].apply(p.element,y)}},contains:function(p,u){return document.compareDocumentPosition?p.compareDocumentPosition(u)&16:p!==u&&p.contains(u)},hasScroll:function(p,u){if(b(p).css("overflow")=="hidden")return false;u=u&&u=="left"?"scrollLeft":"scrollTop";var y=false;if(p[u]>0)return true;p[u]=1;y=p[u]>0;p[u]=0;return y},isOverAxis:function(p,u,y){return p>u&&p<u+y},isOver:function(p,u,y,C,R,K){return b.ui.isOverAxis(p,y,R)&&b.ui.isOverAxis(u,C,K)},keyCode:{BACKSPACE:8,
CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(g){var l=b.attr,k=b.fn.removeAttr,o=/^aria-/,f=/^wairole:/;b.attr=function(p,u,y){var C=y!==undefined;return u=="role"?C?l.call(this,p,u,"wairole:"+y):(l.apply(this,arguments)||"").replace(f,""):o.test(u)?C?p.setAttributeNS("http://www.w3.org/2005/07/aaa",
u.replace(o,"aaa:"),y):l.call(this,p,u.replace(o,"aaa:")):l.apply(this,arguments)};b.fn.removeAttr=function(p){return o.test(p)?this.each(function(){this.removeAttributeNS("http://www.w3.org/2005/07/aaa",p.replace(o,""))}):k.call(this,p)}}b.fn.extend({remove:function(){b("*",this).add(this).each(function(){b(this).triggerHandler("remove")});return e.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var p;p=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,
"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!p.length?b(document):p}});b.extend(b.expr[":"],{data:function(p,u,y){return!!b.data(p,y[3])},focusable:function(p){var u=p.nodeName.toLowerCase(),y=b.attr(p,"tabindex");return(/input|select|textarea|button|object/.test(u)?!p.disabled:"a"==u||"area"==u?p.href||!isNaN(y):!isNaN(y))&&!b(p)["area"==u?"parents":"closest"](":hidden").length},tabbable:function(p){var u=b.attr(p,"tabindex");
return(isNaN(u)||u>=0)&&b(p).is(":focusable")}});b.widget=function(p,u){var y=p.split(".")[0];p=p.split(".")[1];b.fn[p]=function(C){var R=typeof C=="string",K=Array.prototype.slice.call(arguments,1);if(R&&C.substring(0,1)=="_")return this;if(R&&c(y,p,C,K)){var E=b.data(this[0],p);return E?E[C].apply(E,K):undefined}return this.each(function(){var Q=b.data(this,p);!Q&&!R&&b.data(this,p,new b[y][p](this,C))._init();Q&&R&&b.isFunction(Q[C])&&Q[C].apply(Q,K)})};b[y]=b[y]||{};b[y][p]=function(C,R){var K=
this;this.namespace=y;this.widgetName=p;this.widgetEventPrefix=b[y][p].eventPrefix||p;this.widgetBaseClass=y+"-"+p;this.options=b.extend({},b.widget.defaults,b[y][p].defaults,b.metadata&&b.metadata.get(C)[p],R);this.element=b(C).bind("setData."+p,function(E,Q,j){if(E.target==C)return K._setData(Q,j)}).bind("getData."+p,function(E,Q){if(E.target==C)return K._getData(Q)}).bind("remove",function(){return K.destroy()})};b[y][p].prototype=b.extend({},b.widget.prototype,u);b[y][p].getterSetter="option"};
b.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(p,u){var y=p,C=this;if(typeof p=="string"){if(u===undefined)return this._getData(p);y={};y[p]=u}b.each(y,function(R,K){C._setData(R,K)})},_getData:function(p){return this.options[p]},_setData:function(p,u){this.options[p]=u;if(p=="disabled")this.element[u?"addClass":"removeClass"](this.widgetBaseClass+
"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",u)},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(p,u,y){var C=this.options[p];p=p==this.widgetEventPrefix?p:this.widgetEventPrefix+p;u=b.Event(u);u.type=p;if(u.originalEvent){p=b.event.props.length;for(var R;p;){R=b.event.props[--p];u[R]=u.originalEvent[R]}}this.element.trigger(u,y);return!(b.isFunction(C)&&C.call(this.element[0],u,y)===false||u.isDefaultPrevented())}};
b.widget.defaults={disabled:false};b.ui.mouse={_mouseInit:function(){var p=this;this.element.bind("mousedown."+this.widgetName,function(u){return p._mouseDown(u)}).bind("click."+this.widgetName,function(u){if(p._preventClickEvent){p._preventClickEvent=false;u.stopImmediatePropagation();return false}});if(b.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);
b.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(p){p.originalEvent=p.originalEvent||{};if(!p.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(p);this._mouseDownEvent=p;var u=this,y=p.which==1,C=typeof this.options.cancel=="string"?b(p.target).parents().add(p.target).filter(this.options.cancel).length:false;if(!y||C||!this._mouseCapture(p))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){u.mouseDelayMet=
true},this.options.delay);if(this._mouseDistanceMet(p)&&this._mouseDelayMet(p)){this._mouseStarted=this._mouseStart(p)!==false;if(!this._mouseStarted){p.preventDefault();return true}}this._mouseMoveDelegate=function(R){return u._mouseMove(R)};this._mouseUpDelegate=function(R){return u._mouseUp(R)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.browser.safari||p.preventDefault();return p.originalEvent.mouseHandled=true}},
_mouseMove:function(p){if(b.browser.msie&&!p.button)return this._mouseUp(p);if(this._mouseStarted){this._mouseDrag(p);return p.preventDefault()}if(this._mouseDistanceMet(p)&&this._mouseDelayMet(p))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,p)!==false)?this._mouseDrag(p):this._mouseUp(p);return!this._mouseStarted},_mouseUp:function(p){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;this._preventClickEvent=p.target==this._mouseDownEvent.target;this._mouseStop(p)}return false},_mouseDistanceMet:function(p){return Math.max(Math.abs(this._mouseDownEvent.pageX-p.pageX),Math.abs(this._mouseDownEvent.pageY-p.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}};b.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery);
(function(b){b.widget("ui.draggable",b.extend({},b.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
this._mouseDestroy()}},_mouseCapture:function(c){var e=this.options;if(this.helper||e.disabled||b(c.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(c);if(!this.handle)return false;return true},_mouseStart:function(c){var e=this.options;this.helper=this._createHelper(c);this._cacheHelperProportions();if(b.ui.ddmanager)b.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();
this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);e.containment&&this._setContainment();this._trigger("start",c);this._cacheHelperProportions();b.ui.ddmanager&&
!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(c,true);return true},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){e=this._uiHash();this._trigger("drag",c,e);this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+
"px";b.ui.ddmanager&&b.ui.ddmanager.drag(this,c);return false},_mouseStop:function(c){var e=false;if(b.ui.ddmanager&&!this.options.dropBehaviour)e=b.ui.ddmanager.drop(this,c);if(this.dropped){e=this.dropped;this.dropped=false}if(this.options.revert=="invalid"&&!e||this.options.revert=="valid"&&e||this.options.revert===true||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var g=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){g._trigger("stop",
c);g._clear()})}else{this._trigger("stop",c);this._clear()}return false},_getHandle:function(c){var e=!this.options.handle||!b(this.options.handle,this.element).length?true:false;b(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target)e=true});return e},_createHelper:function(c){var e=this.options;c=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[c])):e.helper=="clone"?this.element.clone():this.element;c.parents("body").length||c.appendTo(e.appendTo=="parent"?
this.element[0].parentNode:e.appendTo);c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){if(c.left!=undefined)this.offset.click.left=c.left+this.margins.left;if(c.right!=undefined)this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;if(c.top!=undefined)this.offset.click.top=c.top+this.margins.top;if(c.bottom!=undefined)this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment=="parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(c.containment=="document"?document:window).width()-this.helperProportions.width-
this.margins.left,(b(c.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){var e=b(c.containment)[0];if(e){c=b(c.containment).offset();var g=b(e).css("overflow")!="hidden";this.containment=[c.left+(parseInt(b(e).css("borderLeftWidth"),10)||0)+(parseInt(b(e).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(e).css("borderTopWidth"),
10)||0)+(parseInt(b(e).css("paddingTop"),10)||0)-this.margins.top,c.left+(g?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(b(e).css("borderLeftWidth"),10)||0)-(parseInt(b(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(g?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(b(e).css("borderTopWidth"),10)||0)-(parseInt(b(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(c.containment.constructor==
Array)this.containment=c.containment},_convertPositionTo:function(c,e){if(!e)e=this.position;c=c=="absolute"?1:-1;var g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(g[0].tagName);return{top:e.top+this.offset.relative.top*c+this.offset.parent.top*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:g.scrollTop())*
c),left:e.left+this.offset.relative.left*c+this.offset.parent.left*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:g.scrollLeft())*c)}},_generatePosition:function(c){var e=this.options,g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(g[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=
document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var k=c.pageX,o=c.pageY;if(this.originalPosition){if(this.containment){if(c.pageX-this.offset.click.left<this.containment[0])k=this.containment[0]+this.offset.click.left;if(c.pageY-this.offset.click.top<this.containment[1])o=this.containment[1]+this.offset.click.top;if(c.pageX-this.offset.click.left>this.containment[2])k=this.containment[2]+this.offset.click.left;if(c.pageY-this.offset.click.top>this.containment[3])o=
this.containment[3]+this.offset.click.top}if(e.grid){o=this.originalPageY+Math.round((o-this.originalPageY)/e.grid[1])*e.grid[1];o=this.containment?!(o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3])?o:!(o-this.offset.click.top<this.containment[1])?o-e.grid[1]:o+e.grid[1]:o;k=this.originalPageX+Math.round((k-this.originalPageX)/e.grid[0])*e.grid[0];k=this.containment?!(k-this.offset.click.left<this.containment[0]||k-this.offset.click.left>this.containment[2])?
k:!(k-this.offset.click.left<this.containment[0])?k-e.grid[0]:k+e.grid[0]:k}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:g.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:g.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,e,g){g=g||this._uiHash();b.ui.plugin.call(this,c,[e,g]);if(c=="drag")this.positionAbs=this._convertPositionTo("absolute");return b.widget.prototype._trigger.call(this,c,e,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));b.extend(b.ui.draggable,{version:"1.7.2",
eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});b.ui.plugin.add("draggable","connectToSortable",{start:function(c,
e){var g=b(this).data("draggable"),l=g.options,k=b.extend({},e,{item:g.element});g.sortables=[];b(l.connectToSortable).each(function(){var o=b.data(this,"sortable");if(o&&!o.options.disabled){g.sortables.push({instance:o,shouldRevert:o.options.revert});o._refreshItems();o._trigger("activate",c,k)}})},stop:function(c,e){var g=b(this).data("draggable"),l=b.extend({},e,{item:g.element});b.each(g.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;g.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=
false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;g.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",c,l)}})},drag:function(c,e){var g=b(this).data("draggable"),l=this;b.each(g.sortables,function(){this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;
this.instance.offset.click=g.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=b(l).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return e.helper[0]};c.target=this.instance.currentItem[0];this.instance._mouseCapture(c,true);this.instance._mouseStart(c,true,true);this.instance.offset.click.top=
g.offset.click.top;this.instance.offset.click.left=g.offset.click.left;this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top;g._trigger("toSortable",c);g.dropped=this.instance.element;g.currentItem=g.element;this.instance.fromOutside=g}this.instance.currentItem&&this.instance._mouseDrag(c)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;
this.instance.options.revert=false;this.instance._trigger("out",c,this.instance._uiHash(this.instance));this.instance._mouseStop(c,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();g._trigger("fromSortable",c);g.dropped=false}})}});b.ui.plugin.add("draggable","cursor",{start:function(){var c=b("body"),e=b(this).data("draggable").options;if(c.css("cursor"))e._cursor=c.css("cursor");c.css("cursor",
e.cursor)},stop:function(){var c=b(this).data("draggable").options;c._cursor&&b("body").css("cursor",c._cursor)}});b.ui.plugin.add("draggable","iframeFix",{start:function(){var c=b(this).data("draggable").options;b(c.iframeFix===true?"iframe":c.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")})},stop:function(){b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});
b.ui.plugin.add("draggable","opacity",{start:function(c,e){c=b(e.helper);e=b(this).data("draggable").options;if(c.css("opacity"))e._opacity=c.css("opacity");c.css("opacity",e.opacity)},stop:function(c,e){c=b(this).data("draggable").options;c._opacity&&b(e.helper).css("opacity",c._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var c=b(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML")c.overflowOffset=c.scrollParent.offset()},drag:function(c){var e=
b(this).data("draggable"),g=e.options,l=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x")if(e.overflowOffset.top+e.scrollParent[0].offsetHeight-c.pageY<g.scrollSensitivity)e.scrollParent[0].scrollTop=l=e.scrollParent[0].scrollTop+g.scrollSpeed;else if(c.pageY-e.overflowOffset.top<g.scrollSensitivity)e.scrollParent[0].scrollTop=l=e.scrollParent[0].scrollTop-g.scrollSpeed;if(!g.axis||g.axis!="y")if(e.overflowOffset.left+e.scrollParent[0].offsetWidth-c.pageX<
g.scrollSensitivity)e.scrollParent[0].scrollLeft=l=e.scrollParent[0].scrollLeft+g.scrollSpeed;else if(c.pageX-e.overflowOffset.left<g.scrollSensitivity)e.scrollParent[0].scrollLeft=l=e.scrollParent[0].scrollLeft-g.scrollSpeed}else{if(!g.axis||g.axis!="x")if(c.pageY-b(document).scrollTop()<g.scrollSensitivity)l=b(document).scrollTop(b(document).scrollTop()-g.scrollSpeed);else if(b(window).height()-(c.pageY-b(document).scrollTop())<g.scrollSensitivity)l=b(document).scrollTop(b(document).scrollTop()+
g.scrollSpeed);if(!g.axis||g.axis!="y")if(c.pageX-b(document).scrollLeft()<g.scrollSensitivity)l=b(document).scrollLeft(b(document).scrollLeft()-g.scrollSpeed);else if(b(window).width()-(c.pageX-b(document).scrollLeft())<g.scrollSensitivity)l=b(document).scrollLeft(b(document).scrollLeft()+g.scrollSpeed)}l!==false&&b.ui.ddmanager&&!g.dropBehaviour&&b.ui.ddmanager.prepareOffsets(e,c)}});b.ui.plugin.add("draggable","snap",{start:function(){var c=b(this).data("draggable"),e=c.options;c.snapElements=
[];b(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var g=b(this),l=g.offset();this!=c.element[0]&&c.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:l.top,left:l.left})})},drag:function(c,e){for(var g=b(this).data("draggable"),l=g.options,k=l.snapTolerance,o=e.offset.left,f=o+g.helperProportions.width,p=e.offset.top,u=p+g.helperProportions.height,y=g.snapElements.length-1;y>=0;y--){var C=g.snapElements[y].left,R=C+g.snapElements[y].width,
K=g.snapElements[y].top,E=K+g.snapElements[y].height;if(C-k<o&&o<R+k&&K-k<p&&p<E+k||C-k<o&&o<R+k&&K-k<u&&u<E+k||C-k<f&&f<R+k&&K-k<p&&p<E+k||C-k<f&&f<R+k&&K-k<u&&u<E+k){if(l.snapMode!="inner"){var Q=Math.abs(K-u)<=k,j=Math.abs(E-p)<=k,la=Math.abs(C-f)<=k,ba=Math.abs(R-o)<=k;if(Q)e.position.top=g._convertPositionTo("relative",{top:K-g.helperProportions.height,left:0}).top-g.margins.top;if(j)e.position.top=g._convertPositionTo("relative",{top:E,left:0}).top-g.margins.top;if(la)e.position.left=g._convertPositionTo("relative",
{top:0,left:C-g.helperProportions.width}).left-g.margins.left;if(ba)e.position.left=g._convertPositionTo("relative",{top:0,left:R}).left-g.margins.left}var P=Q||j||la||ba;if(l.snapMode!="outer"){Q=Math.abs(K-p)<=k;j=Math.abs(E-u)<=k;la=Math.abs(C-o)<=k;ba=Math.abs(R-f)<=k;if(Q)e.position.top=g._convertPositionTo("relative",{top:K,left:0}).top-g.margins.top;if(j)e.position.top=g._convertPositionTo("relative",{top:E-g.helperProportions.height,left:0}).top-g.margins.top;if(la)e.position.left=g._convertPositionTo("relative",
{top:0,left:C}).left-g.margins.left;if(ba)e.position.left=g._convertPositionTo("relative",{top:0,left:R-g.helperProportions.width}).left-g.margins.left}if(!g.snapElements[y].snapping&&(Q||j||la||ba||P))g.options.snap.snap&&g.options.snap.snap.call(g.element,c,b.extend(g._uiHash(),{snapItem:g.snapElements[y].item}));g.snapElements[y].snapping=Q||j||la||ba||P}else{g.snapElements[y].snapping&&g.options.snap.release&&g.options.snap.release.call(g.element,c,b.extend(g._uiHash(),{snapItem:g.snapElements[y].item}));
g.snapElements[y].snapping=false}}}});b.ui.plugin.add("draggable","stack",{start:function(){var c=b(this).data("draggable").options,e=b.makeArray(b(c.stack.group)).sort(function(g,l){return(parseInt(b(g).css("zIndex"),10)||c.stack.min)-(parseInt(b(l).css("zIndex"),10)||c.stack.min)});b(e).each(function(g){this.style.zIndex=c.stack.min+g});this[0].style.zIndex=c.stack.min+e.length}});b.ui.plugin.add("draggable","zIndex",{start:function(c,e){c=b(e.helper);e=b(this).data("draggable").options;if(c.css("zIndex"))e._zIndex=
c.css("zIndex");c.css("zIndex",e.zIndex)},stop:function(c,e){c=b(this).data("draggable").options;c._zIndex&&b(e.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(b){b.widget("ui.droppable",{_init:function(){var c=this.options.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&b.isFunction(this.options.accept)?this.options.accept:function(e){return e.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[this.options.scope]=b.ui.ddmanager.droppables[this.options.scope]||[];b.ui.ddmanager.droppables[this.options.scope].push(this);this.options.addClasses&&this.element.addClass("ui-droppable")},
destroy:function(){for(var c=b.ui.ddmanager.droppables[this.options.scope],e=0;e<c.length;e++)c[e]==this&&c.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(c,e){if(c=="accept")this.options.accept=e&&b.isFunction(e)?e:function(g){return g.is(e)};else b.widget.prototype._setData.apply(this,arguments)},_activate:function(c){var e=b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);
e&&this._trigger("activate",c,this.ui(e))},_deactivate:function(c){var e=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",c,this.ui(e))},_over:function(c){var e=b.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",c,this.ui(e))}},
_out:function(c){var e=b.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",c,this.ui(e))}},_drop:function(c,e){var g=e||b.ui.ddmanager.current;if(!g||(g.currentItem||g.element)[0]==this.element[0])return false;var l=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var k=
b.data(this,"droppable");if(k.options.greedy&&b.ui.intersect(g,b.extend(k,{offset:k.element.offset()}),k.options.tolerance)){l=true;return false}});if(l)return false;if(this.options.accept.call(this.element[0],g.currentItem||g.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",c,this.ui(g));return this.element}return false},ui:function(c){return{draggable:c.currentItem||
c.element,helper:c.helper,position:c.position,absolutePosition:c.positionAbs,offset:c.positionAbs}}});b.extend(b.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});b.ui.intersect=function(c,e,g){if(!e.offset)return false;var l=(c.positionAbs||c.position.absolute).left,k=l+c.helperProportions.width,o=(c.positionAbs||c.position.absolute).top,f=o+c.helperProportions.height,p=e.offset.left,
u=p+e.proportions.width,y=e.offset.top,C=y+e.proportions.height;switch(g){case "fit":return p<l&&k<u&&y<o&&f<C;case "intersect":return p<l+c.helperProportions.width/2&&k-c.helperProportions.width/2<u&&y<o+c.helperProportions.height/2&&f-c.helperProportions.height/2<C;case "pointer":return b.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,y,p,e.proportions.height,e.proportions.width);
case "touch":return(o>=y&&o<=C||f>=y&&f<=C||o<y&&f>C)&&(l>=p&&l<=u||k>=p&&k<=u||l<p&&k>u);default:return false}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,e){var g=b.ui.ddmanager.droppables[c.options.scope],l=e?e.type:null,k=(c.currentItem||c.element).find(":data(droppable)").andSelf(),o=0;a:for(;o<g.length;o++)if(!(g[o].options.disabled||c&&!g[o].options.accept.call(g[o].element[0],c.currentItem||c.element))){for(var f=0;f<k.length;f++)if(k[f]==g[o].element[0]){g[o].proportions.height=
0;continue a}g[o].visible=g[o].element.css("display")!="none";if(g[o].visible){g[o].offset=g[o].element.offset();g[o].proportions={width:g[o].element[0].offsetWidth,height:g[o].element[0].offsetHeight};l=="mousedown"&&g[o]._activate.call(g[o],e)}}},drop:function(c,e){var g=false;b.each(b.ui.ddmanager.droppables[c.options.scope],function(){if(this.options){if(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance))g=this._drop.call(this,e);if(!this.options.disabled&&this.visible&&
this.options.accept.call(this.element[0],c.currentItem||c.element)){this.isout=1;this.isover=0;this._deactivate.call(this,e)}}});return g},drag:function(c,e){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,e);b.each(b.ui.ddmanager.droppables[c.options.scope],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var g=b.ui.intersect(c,this,this.options.tolerance);if(g=!g&&this.isover==1?"isout":g&&this.isover==0?"isover":null){var l;if(this.options.greedy){var k=this.element.parents(":data(droppable):eq(0)");
if(k.length){l=b.data(k[0],"droppable");l.greedyChild=g=="isover"?1:0}}if(l&&g=="isover"){l.isover=0;l.isout=1;l._out.call(l,e)}this[g]=1;this[g=="isout"?"isover":"isout"]=0;this[g=="isover"?"_over":"_out"].call(this,e);if(l&&g=="isout"){l.isout=0;l.isover=1;l._over.call(l,e)}}}})}}})(jQuery);
(function(b){b.widget("ui.sortable",b.extend({},b.ui.mouse,{_init:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--)this.items[c].item.removeData("sortable-item")},
_mouseCapture:function(c,e){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(c);var g=null,l=this;b(c.target).parents().each(function(){if(b.data(this,"sortable-item")==l){g=b(this);return false}});if(b.data(c.target,"sortable-item")==l)g=b(c.target);if(!g)return false;if(this.options.handle&&!e){var k=false;b(this.options.handle,g).find("*").andSelf().each(function(){if(this==c.target)k=true});if(!k)return false}this.currentItem=
g;this._removeCurrentsFromItems();return true},_mouseStart:function(c,e,g){e=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");b.extend(this.offset,
{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();
if(e.cursor){if(b("body").css("cursor"))this._storedCursor=b("body").css("cursor");b("body").css("cursor",e.cursor)}if(e.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",e.opacity)}if(e.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",e.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",
c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!g)for(g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",c,this._uiHash(this));if(b.ui.ddmanager)b.ui.ddmanager.current=this;b.ui.ddmanager&&!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(c);return true},_mouseDrag:function(c){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");
if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var e=this.options,g=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<e.scrollSensitivity)this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+e.scrollSpeed;else if(c.pageY-this.overflowOffset.top<e.scrollSensitivity)this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-e.scrollSpeed;if(this.overflowOffset.left+
this.scrollParent[0].offsetWidth-c.pageX<e.scrollSensitivity)this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+e.scrollSpeed;else if(c.pageX-this.overflowOffset.left<e.scrollSensitivity)this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(c.pageY-b(document).scrollTop()<e.scrollSensitivity)g=b(document).scrollTop(b(document).scrollTop()-e.scrollSpeed);else if(b(window).height()-(c.pageY-b(document).scrollTop())<e.scrollSensitivity)g=b(document).scrollTop(b(document).scrollTop()+
e.scrollSpeed);if(c.pageX-b(document).scrollLeft()<e.scrollSensitivity)g=b(document).scrollLeft(b(document).scrollLeft()-e.scrollSpeed);else if(b(window).width()-(c.pageX-b(document).scrollLeft())<e.scrollSensitivity)g=b(document).scrollLeft(b(document).scrollLeft()+e.scrollSpeed)}g!==false&&b.ui.ddmanager&&!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+
"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(e=this.items.length-1;e>=0;e--){g=this.items[e];var l=g.item[0],k=this._intersectsWithPointer(g);if(k)if(l!=this.currentItem[0]&&this.placeholder[k==1?"next":"prev"]()[0]!=l&&!b.ui.contains(this.placeholder[0],l)&&(this.options.type=="semi-dynamic"?!b.ui.contains(this.element[0],l):true)){this.direction=k==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(g))this._rearrange(c,
g);else break;this._trigger("change",c,this._uiHash());break}}this._contactContainers(c);b.ui.ddmanager&&b.ui.ddmanager.drag(this,c);this._trigger("sort",c,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(c,e){if(c){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,c);if(this.options.revert){var g=this;e=g.placeholder.offset();g.reverting=true;b(this.helper).animate({left:e.left-this.offset.parent.left-g.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-g.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){g._clear(c)})}else this._clear(c,e);return false}},cancel:function(){if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",
null,this._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,this._uiHash(this));this.containers[c].containerCache.over=0}}}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem);return true},serialize:function(c){var e=this._getItemsAsjQuery(c&&c.connected),g=[];c=c||{};b(e).each(function(){var l=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);if(l)g.push((c.key||l[1]+"[]")+"="+(c.key&&c.expression?l[1]:l[2]))});return g.join("&")},toArray:function(c){var e=this._getItemsAsjQuery(c&&c.connected),g=[];c=c||{};e.each(function(){g.push(b(c.item||this).attr(c.attribute||"id")||"")});return g},
_intersectsWith:function(c){var e=this.positionAbs.left,g=e+this.helperProportions.width,l=this.positionAbs.top,k=l+this.helperProportions.height,o=c.left,f=o+c.width,p=c.top,u=p+c.height,y=this.offset.click.top,C=this.offset.click.left;y=l+y>p&&l+y<u&&e+C>o&&e+C<f;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?y:o<e+this.helperProportions.width/
2&&g-this.helperProportions.width/2<f&&p<l+this.helperProportions.height/2&&k-this.helperProportions.height/2<u},_intersectsWithPointer:function(c){var e=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);e=e&&c;c=this._getDragVerticalDirection();var g=this._getDragHorizontalDirection();if(!e)return false;return this.floating?g&&g=="right"||c=="down"?2:1:c&&(c=="down"?2:1)},_intersectsWithSides:function(c){var e=
b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var g=this._getDragVerticalDirection(),l=this._getDragHorizontalDirection();return this.floating&&l?l=="right"&&c||l=="left"&&!c:g&&(g=="down"&&e||g=="up"&&!e)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=
this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions()},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){var e=[],g=[],l=this._connectWith();if(l&&c)for(c=l.length-1;c>=0;c--)for(var k=b(l[c]),o=k.length-1;o>=0;o--){var f=b.data(k[o],"sortable");if(f&&f!=this&&!f.options.disabled)g.push([b.isFunction(f.options.items)?
f.options.items.call(f.element):b(f.options.items,f.element).not(".ui-sortable-helper"),f])}g.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper"),this]);for(c=g.length-1;c>=0;c--)g[c][0].each(function(){e.push(this)});return b(e)},_removeCurrentsFromItems:function(){for(var c=this.currentItem.find(":data(sortable-item)"),e=0;e<this.items.length;e++)for(var g=0;g<
c.length;g++)c[g]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(c){this.items=[];this.containers=[this];var e=this.items,g=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):b(this.options.items,this.element),this]],l=this._connectWith();if(l)for(var k=l.length-1;k>=0;k--)for(var o=b(l[k]),f=o.length-1;f>=0;f--){var p=b.data(o[f],"sortable");if(p&&p!=this&&!p.options.disabled){g.push([b.isFunction(p.options.items)?p.options.items.call(p.element[0],
c,{item:this.currentItem}):b(p.options.items,p.element),p]);this.containers.push(p)}}for(k=g.length-1;k>=0;k--){c=g[k][1];l=g[k][0];f=0;for(o=l.length;f<o;f++){p=b(l[f]);p.data("sortable-item",c);e.push({item:p,instance:c,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var e=this.items.length-1;e>=0;e--){var g=this.items[e];if(!(g.instance!=this.currentContainer&&this.currentContainer&&g.item[0]!=this.currentItem[0])){var l=
this.options.toleranceElement?b(this.options.toleranceElement,g.item):g.item;if(!c){g.width=l.outerWidth();g.height=l.outerHeight()}l=l.offset();g.left=l.left;g.top=l.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;e>=0;e--){l=this.containers[e].element.offset();this.containers[e].containerCache.left=l.left;this.containers[e].containerCache.top=l.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();
this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}},_createPlaceholder:function(c){var e=c||this,g=e.options;if(!g.placeholder||g.placeholder.constructor==String){var l=g.placeholder;g.placeholder={element:function(){var k=b(document.createElement(e.currentItem[0].nodeName)).addClass(l||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!l)k.style.visibility="hidden";return k},update:function(k,o){if(!(l&&!g.forcePlaceholderSize)){o.height()||
o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=b(g.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);g.placeholder.update(e,e.placeholder)},_contactContainers:function(c){for(var e=this.containers.length-1;e>=0;e--)if(this._intersectsWith(this.containers[e].containerCache)){if(!this.containers[e].containerCache.over){if(this.currentContainer!=
this.containers[e]){for(var g=1E4,l=null,k=this.positionAbs[this.containers[e].floating?"left":"top"],o=this.items.length-1;o>=0;o--)if(b.ui.contains(this.containers[e].element[0],this.items[o].item[0])){var f=this.items[o][this.containers[e].floating?"left":"top"];if(Math.abs(f-k)<g){g=Math.abs(f-k);l=this.items[o]}}if(!l&&!this.options.dropOnEmpty)continue;this.currentContainer=this.containers[e];l?this._rearrange(c,l,null,true):this._rearrange(c,null,this.containers[e].element,true);this._trigger("change",
c,this._uiHash());this.containers[e]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder)}this.containers[e]._trigger("over",c,this._uiHash(this));this.containers[e].containerCache.over=1}}else if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",c,this._uiHash(this));this.containers[e].containerCache.over=0}},_createHelper:function(c){var e=this.options;c=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[c,
this.currentItem])):e.helper=="clone"?this.currentItem.clone():this.currentItem;c.parents("body").length||b(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]);if(c[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(c[0].style.width==""||e.forceHelperSize)c.width(this.currentItem.width());
if(c[0].style.height==""||e.forceHelperSize)c.height(this.currentItem.height());return c},_adjustOffsetFromHelper:function(c){if(c.left!=undefined)this.offset.click.left=c.left+this.margins.left;if(c.right!=undefined)this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;if(c.top!=undefined)this.offset.click.top=c.top+this.margins.top;if(c.bottom!=undefined)this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment=="parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(c.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(c.containment=="document"?document:window).height()||
document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)){var e=b(c.containment)[0];c=b(c.containment).offset();var g=b(e).css("overflow")!="hidden";this.containment=[c.left+(parseInt(b(e).css("borderLeftWidth"),10)||0)+(parseInt(b(e).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(e).css("borderTopWidth"),10)||0)+(parseInt(b(e).css("paddingTop"),10)||0)-this.margins.top,c.left+(g?Math.max(e.scrollWidth,
e.offsetWidth):e.offsetWidth)-(parseInt(b(e).css("borderLeftWidth"),10)||0)-(parseInt(b(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(g?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(b(e).css("borderTopWidth"),10)||0)-(parseInt(b(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(c,e){if(!e)e=this.position;c=c=="absolute"?1:-1;var g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=
document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(g[0].tagName);return{top:e.top+this.offset.relative.top*c+this.offset.parent.top*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:g.scrollTop())*c),left:e.left+this.offset.relative.left*c+this.offset.parent.left*c-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
l?0:g.scrollLeft())*c)}},_generatePosition:function(c){var e=this.options,g=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(g[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var k=c.pageX,o=c.pageY;if(this.originalPosition){if(this.containment){if(c.pageX-
this.offset.click.left<this.containment[0])k=this.containment[0]+this.offset.click.left;if(c.pageY-this.offset.click.top<this.containment[1])o=this.containment[1]+this.offset.click.top;if(c.pageX-this.offset.click.left>this.containment[2])k=this.containment[2]+this.offset.click.left;if(c.pageY-this.offset.click.top>this.containment[3])o=this.containment[3]+this.offset.click.top}if(e.grid){o=this.originalPageY+Math.round((o-this.originalPageY)/e.grid[1])*e.grid[1];o=this.containment?!(o-this.offset.click.top<
this.containment[1]||o-this.offset.click.top>this.containment[3])?o:!(o-this.offset.click.top<this.containment[1])?o-e.grid[1]:o+e.grid[1]:o;k=this.originalPageX+Math.round((k-this.originalPageX)/e.grid[0])*e.grid[0];k=this.containment?!(k-this.offset.click.left<this.containment[0]||k-this.offset.click.left>this.containment[2])?k:!(k-this.offset.click.left<this.containment[0])?k-e.grid[0]:k+e.grid[0]:k}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&
this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:g.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:g.scrollLeft())}},_rearrange:function(c,e,g,l){g?g[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?e.item[0]:e.item[0].nextSibling);this.counter=
this.counter?++this.counter:1;var k=this,o=this.counter;window.setTimeout(function(){o==k.counter&&k.refreshPositions(!l)},0)},_clear:function(c,e){this.reverting=false;var g=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var l in this._storedCSS)if(this._storedCSS[l]=="auto"||this._storedCSS[l]=="static")this._storedCSS[l]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!e&&g.push(function(k){this._trigger("receive",k,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e)g.push(function(k){this._trigger("update",k,this._uiHash())});if(!b.ui.contains(this.element[0],this.currentItem[0])){e||g.push(function(k){this._trigger("remove",k,this._uiHash())});for(l=this.containers.length-1;l>=0;l--)if(b.ui.contains(this.containers[l].element[0],
this.currentItem[0])&&!e){g.push(function(k){return function(o){k._trigger("receive",o,this._uiHash(this))}}.call(this,this.containers[l]));g.push(function(k){return function(o){k._trigger("update",o,this._uiHash(this))}}.call(this,this.containers[l]))}}for(l=this.containers.length-1;l>=0;l--){e||g.push(function(k){return function(o){k._trigger("deactivate",o,this._uiHash(this))}}.call(this,this.containers[l]));if(this.containers[l].containerCache.over){g.push(function(k){return function(o){k._trigger("out",
o,this._uiHash(this))}}.call(this,this.containers[l]));this.containers[l].containerCache.over=0}}this._storedCursor&&b("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",c,this._uiHash());for(l=0;l<g.length;l++)g[l].call(this,c);this._trigger("stop",c,this._uiHash())}return false}e||
this._trigger("beforeStop",c,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(l=0;l<g.length;l++)g[l].call(this,c);this._trigger("stop",c,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){b.widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(c){var e=c||this;return{helper:e.helper,placeholder:e.placeholder||b([]),position:e.position,
absolutePosition:e.positionAbs,offset:e.positionAbs,item:e.currentItem,sender:c?c.element:null}}}));b.extend(b.ui.sortable,{getter:"serialize toArray",version:"1.7.2",eventPrefix:"sort",defaults:{appendTo:"parent",axis:false,cancel:":input,option",connectWith:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,
scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3}})})(jQuery);
(function(b){var c={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"};b.widget("ui.dialog",{_init:function(){this.originalTitle=this.element.attr("title");var e=this,g=this.options,l=g.title||this.originalTitle||"&nbsp;",k=b.ui.dialog.getTitleId(this.element),o=(this.uiDialog=
b("<div/>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+g.dialogClass).css({position:"absolute",overflow:"hidden",zIndex:g.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(u){g.closeOnEscape&&u.keyCode&&u.keyCode==b.ui.keyCode.ESCAPE&&e.close(u)}).attr({role:"dialog","aria-labelledby":k}).mousedown(function(u){e.moveToTop(false,u)});this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o);
var f=(this.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o),p=b('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){p.addClass("ui-state-hover")},function(){p.removeClass("ui-state-hover")}).focus(function(){p.addClass("ui-state-focus")}).blur(function(){p.removeClass("ui-state-focus")}).mousedown(function(u){u.stopPropagation()}).click(function(u){e.close(u);return false}).appendTo(f);
(this.uiDialogTitlebarCloseText=b("<span/>")).addClass("ui-icon ui-icon-closethick").text(g.closeText).appendTo(p);b("<span/>").addClass("ui-dialog-title").attr("id",k).html(l).prependTo(f);f.find("*").add(f).disableSelection();g.draggable&&b.fn.draggable&&this._makeDraggable();g.resizable&&b.fn.resizable&&this._makeResizable();this._createButtons(g.buttons);this._isOpen=false;g.bgiframe&&b.fn.bgiframe&&o.bgiframe();g.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();
this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle)},close:function(e){var g=this;if(false!==g._trigger("beforeclose",e)){g.overlay&&g.overlay.destroy();g.uiDialog.unbind("keypress.ui-dialog");g.options.hide?g.uiDialog.hide(g.options.hide,function(){g._trigger("close",e)}):g.uiDialog.hide()&&g._trigger("close",e);b.ui.dialog.overlay.resize();
g._isOpen=false;if(g.options.modal){var l=0;b(".ui-dialog").each(function(){if(this!=g.uiDialog[0])l=Math.max(l,b(this).css("z-index"))});b.ui.dialog.maxZ=l}}},isOpen:function(){return this._isOpen},moveToTop:function(e,g){if(this.options.modal&&!e||!this.options.stack&&!this.options.modal)return this._trigger("focus",g);if(this.options.zIndex>b.ui.dialog.maxZ)b.ui.dialog.maxZ=this.options.zIndex;this.overlay&&this.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=++b.ui.dialog.maxZ);e={scrollTop:this.element.attr("scrollTop"),
scrollLeft:this.element.attr("scrollLeft")};this.uiDialog.css("z-index",++b.ui.dialog.maxZ);this.element.attr(e);this._trigger("focus",g)},open:function(){if(!this._isOpen){var e=this.options,g=this.uiDialog;this.overlay=e.modal?new b.ui.dialog.overlay(this):null;g.next().length&&g.appendTo("body");this._size();this._position(e.position);g.show(e.show);this.moveToTop(true);e.modal&&g.bind("keypress.ui-dialog",function(l){if(l.keyCode==b.ui.keyCode.TAB){var k=b(":tabbable",this),o=k.filter(":first")[0],
f=k.filter(":last")[0];if(l.target==f&&!l.shiftKey)setTimeout(function(){o.focus()},1);else l.target==o&&l.shiftKey&&setTimeout(function(){f.focus()},1)}});b([]).add(g.find(".ui-dialog-content :tabbable:first")).add(g.find(".ui-dialog-buttonpane :tabbable:first")).add(g).filter(":first").focus();this._trigger("open");this._isOpen=true}},_createButtons:function(e){var g=this,l=false,k=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiDialog.find(".ui-dialog-buttonpane").remove();
typeof e=="object"&&e!==null&&b.each(e,function(){return!(l=true)});if(l){b.each(e,function(o,f){b('<button type="button"></button>').addClass("ui-state-default ui-corner-all").text(o).click(function(){f.apply(g.element[0],arguments)}).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}).focus(function(){b(this).addClass("ui-state-focus")}).blur(function(){b(this).removeClass("ui-state-focus")}).appendTo(k)});k.appendTo(this.uiDialog)}},_makeDraggable:function(){var e=
this,g=this.options,l;this.uiDialog.draggable({cancel:".ui-dialog-content",handle:".ui-dialog-titlebar",containment:"document",start:function(){l=g.height;b(this).height(b(this).height()).addClass("ui-dialog-dragging");g.dragStart&&g.dragStart.apply(e.element[0],arguments)},drag:function(){g.drag&&g.drag.apply(e.element[0],arguments)},stop:function(){b(this).removeClass("ui-dialog-dragging").height(l);g.dragStop&&g.dragStop.apply(e.element[0],arguments);b.ui.dialog.overlay.resize()}})},_makeResizable:function(e){e=
e===undefined?this.options.resizable:e;var g=this,l=this.options;this.uiDialog.resizable({cancel:".ui-dialog-content",alsoResize:this.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:l.minHeight,start:function(){b(this).addClass("ui-dialog-resizing");l.resizeStart&&l.resizeStart.apply(g.element[0],arguments)},resize:function(){l.resize&&l.resize.apply(g.element[0],arguments)},handles:typeof e=="string"?e:"n,e,s,w,se,sw,ne,nw",stop:function(){b(this).removeClass("ui-dialog-resizing");
l.height=b(this).height();l.width=b(this).width();l.resizeStop&&l.resizeStop.apply(g.element[0],arguments);b.ui.dialog.overlay.resize()}}).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_position:function(e){var g=b(window),l=b(document),k=l.scrollTop();l=l.scrollLeft();var o=k;if(b.inArray(e,["center","top","right","bottom","left"])>=0)e=[e=="right"||e=="left"?e:"center",e=="top"||e=="bottom"?e:"middle"];if(e.constructor!=Array)e=["center","middle"];if(e[0].constructor==Number)l+=
e[0];else switch(e[0]){case "left":l+=0;break;case "right":l+=g.width()-this.uiDialog.outerWidth();break;default:case "center":l+=(g.width()-this.uiDialog.outerWidth())/2}if(e[1].constructor==Number)k+=e[1];else switch(e[1]){case "top":k+=0;break;case "bottom":k+=g.height()-this.uiDialog.outerHeight();break;default:case "middle":k+=(g.height()-this.uiDialog.outerHeight())/2}k=Math.max(k,o);this.uiDialog.css({top:k,left:l})},_setData:function(e,g){c[e]&&this.uiDialog.data(c[e],g);switch(e){case "buttons":this._createButtons(g);
break;case "closeText":this.uiDialogTitlebarCloseText.text(g);break;case "dialogClass":this.uiDialog.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+g);break;case "draggable":g?this._makeDraggable():this.uiDialog.draggable("destroy");break;case "height":this.uiDialog.height(g);break;case "position":this._position(g);break;case "resizable":var l=this.uiDialog,k=this.uiDialog.is(":data(resizable)");k&&!g&&l.resizable("destroy");k&&typeof g=="string"&&
l.resizable("option","handles",g);k||this._makeResizable(g);break;case "title":b(".ui-dialog-title",this.uiDialogTitlebar).html(g||"&nbsp;");break;case "width":this.uiDialog.width(g);break}b.widget.prototype._setData.apply(this,arguments)},_size:function(){var e=this.options;this.element.css({height:0,minHeight:0,width:"auto"});var g=this.uiDialog.css({height:"auto",width:e.width}).height();this.element.css({minHeight:Math.max(e.minHeight-g,0),height:e.height=="auto"?"auto":Math.max(e.height-g,0)})}});
b.extend(b.ui.dialog,{version:"1.7.2",defaults:{autoOpen:true,bgiframe:false,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:"center",resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},getter:"isOpen",uuid:0,maxZ:0,getTitleId:function(e){return"ui-dialog-title-"+(e.attr("id")||++this.uuid)},overlay:function(e){this.$el=b.ui.dialog.overlay.create(e)}});
b.extend(b.ui.dialog.overlay,{instances:[],maxZ:0,events:b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(e){if(this.instances.length===0){setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,function(l){return(b(l.target).parents(".ui-dialog").css("zIndex")||0)>b.ui.dialog.overlay.maxZ})},1);b(document).bind("keydown.dialog-overlay",function(l){e.options.closeOnEscape&&
l.keyCode&&l.keyCode==b.ui.keyCode.ESCAPE&&e.close(l)});b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize)}var g=b("<div></div>").appendTo(document.body).addClass("ui-widget-overlay").css({width:this.width(),height:this.height()});e.options.bgiframe&&b.fn.bgiframe&&g.bgiframe();this.instances.push(g);return g},destroy:function(e){this.instances.splice(b.inArray(this.instances,e),1);this.instances.length===0&&b([document,window]).unbind(".dialog-overlay");e.remove();var g=0;b.each(this.instances,
function(){g=Math.max(g,this.css("z-index"))});this.maxZ=g},height:function(){if(b.browser.msie&&b.browser.version<7){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),g=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return e<g?b(window).height()+"px":e+"px"}else return b(document).height()+"px"},width:function(){if(b.browser.msie&&b.browser.version<7){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),g=Math.max(document.documentElement.offsetWidth,
document.body.offsetWidth);return e<g?b(window).width()+"px":e+"px"}else return b(document).width()+"px"},resize:function(){var e=b([]);b.each(b.ui.dialog.overlay.instances,function(){e=e.add(this)});e.css({width:0,height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function(b){b.widget("ui.tabs",{_init:function(){if(this.options.deselectable!==undefined)this.options.collapsible=this.options.deselectable;this._tabify(true)},_setData:function(c,e){if(c=="selected")this.options.collapsible&&e==this.options.selected||this.select(e);else{this.options[c]=e;if(c=="deselectable")this.options.collapsible=e;this._tabify()}},_tabId:function(c){return c.title&&c.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+b.data(c)},_sanitizeSelector:function(c){return c.replace(/:/g,
"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+b.data(this.list[0]));return b.cookie.apply(null,[c].concat(b.makeArray(arguments)))},_ui:function(c,e){return{tab:c,panel:e,index:this.anchors.index(c)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var c=b(this);c.html(c.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function e(K,E){K.css({display:""});
b.browser.msie&&E.opacity&&K[0].style.removeAttribute("filter")}this.list=this.element.children("ul:first");this.lis=b("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return b("a",this)[0]});this.panels=b([]);var g=this,l=this.options,k=/^#.+/;this.anchors.each(function(K,E){var Q=b(E).attr("href"),j=Q.split("#")[0],la;if(j&&(j===location.toString().split("#")[0]||(la=b("base")[0])&&j===la.href)){Q=E.hash;E.href=Q}if(k.test(Q))g.panels=g.panels.add(g._sanitizeSelector(Q));else if(Q!=
"#"){b.data(E,"href.tabs",Q);b.data(E,"load.tabs",Q.replace(/#.*$/,""));Q=g._tabId(E);E.href="#"+Q;E=b("#"+Q);if(!E.length){E=b(l.panelTemplate).attr("id",Q).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(g.panels[K-1]||g.list);E.data("destroy.tabs",true)}g.panels=g.panels.add(E)}else l.disabled.push(K)});if(c){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");
this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(l.selected===undefined){location.hash&&this.anchors.each(function(K,E){if(E.hash==location.hash){l.selected=K;return false}});if(typeof l.selected!="number"&&l.cookie)l.selected=parseInt(g._cookie(),10);if(typeof l.selected!="number"&&this.lis.filter(".ui-tabs-selected").length)l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));l.selected=l.selected||0}else if(l.selected===
null)l.selected=-1;l.selected=l.selected>=0&&this.anchors[l.selected]||l.selected<0?l.selected:0;l.disabled=b.unique(l.disabled.concat(b.map(this.lis.filter(".ui-state-disabled"),function(K){return g.lis.index(K)}))).sort();b.inArray(l.selected,l.disabled)!=-1&&l.disabled.splice(b.inArray(l.selected,l.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(l.selected>=0&&this.anchors.length){this.panels.eq(l.selected).removeClass("ui-tabs-hide");
this.lis.eq(l.selected).addClass("ui-tabs-selected ui-state-active");g.element.queue("tabs",function(){g._trigger("show",null,g._ui(g.anchors[l.selected],g.panels[l.selected]))});this.load(l.selected)}b(window).bind("unload",function(){g.lis.add(g.anchors).unbind(".tabs");g.lis=g.anchors=g.panels=null})}else l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[l.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");l.cookie&&this._cookie(l.selected,l.cookie);c=0;for(var o;o=
this.lis[c];c++)b(o)[b.inArray(c,l.disabled)!=-1&&!b(o).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");l.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(l.event!="mouseover"){var f=function(K,E){E.is(":not(.ui-state-disabled)")&&E.addClass("ui-state-"+K)},p=function(K,E){E.removeClass("ui-state-"+K)};this.lis.bind("mouseover.tabs",function(){f("hover",b(this))});this.lis.bind("mouseout.tabs",function(){p("hover",b(this))});
this.anchors.bind("focus.tabs",function(){f("focus",b(this).closest("li"))});this.anchors.bind("blur.tabs",function(){p("focus",b(this).closest("li"))})}var u,y;if(l.fx)if(b.isArray(l.fx)){u=l.fx[0];y=l.fx[1]}else u=y=l.fx;var C=y?function(K,E){b(K).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");E.hide().removeClass("ui-tabs-hide").animate(y,y.duration||"normal",function(){e(E,y);g._trigger("show",null,g._ui(K,E[0]))})}:function(K,E){b(K).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");
E.removeClass("ui-tabs-hide");g._trigger("show",null,g._ui(K,E[0]))},R=u?function(K,E){E.animate(u,u.duration||"normal",function(){g.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");E.addClass("ui-tabs-hide");e(E,u);g.element.dequeue("tabs")})}:function(K,E){g.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");E.addClass("ui-tabs-hide");g.element.dequeue("tabs")};this.anchors.bind(l.event+".tabs",function(){var K=this,E=b(this).closest("li"),
Q=g.panels.filter(":not(.ui-tabs-hide)"),j=b(g._sanitizeSelector(this.hash));if(E.hasClass("ui-tabs-selected")&&!l.collapsible||E.hasClass("ui-state-disabled")||E.hasClass("ui-state-processing")||g._trigger("select",null,g._ui(this,j[0]))===false){this.blur();return false}l.selected=g.anchors.index(this);g.abort();if(l.collapsible)if(E.hasClass("ui-tabs-selected")){l.selected=-1;l.cookie&&g._cookie(l.selected,l.cookie);g.element.queue("tabs",function(){R(K,Q)}).dequeue("tabs");this.blur();return false}else if(!Q.length){l.cookie&&
g._cookie(l.selected,l.cookie);g.element.queue("tabs",function(){C(K,j)});g.load(g.anchors.index(this));this.blur();return false}l.cookie&&g._cookie(l.selected,l.cookie);if(j.length){Q.length&&g.element.queue("tabs",function(){R(K,Q)});g.element.queue("tabs",function(){C(K,j)});g.load(g.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";b.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},destroy:function(){var c=this.options;this.abort();
this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var e=b.data(this,"href.tabs");if(e)this.href=e;var g=b(this).unbind(".tabs");b.each(["href","load","cache"],function(l,k){g.removeData(k+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){b.data(this,"destroy.tabs")?
b(this).remove():b(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});c.cookie&&this._cookie(null,c.cookie)},add:function(c,e,g){if(g===undefined)g=this.anchors.length;var l=this,k=this.options;e=b(k.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,e));c=!c.indexOf("#")?c.replace("#",""):this._tabId(b("a",e)[0]);e.addClass("ui-state-default ui-corner-top").data("destroy.tabs",
true);var o=b("#"+c);o.length||(o=b(k.panelTemplate).attr("id",c).data("destroy.tabs",true));o.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(g>=this.lis.length){e.appendTo(this.list);o.appendTo(this.list[0].parentNode)}else{e.insertBefore(this.lis[g]);o.insertBefore(this.panels[g])}k.disabled=b.map(k.disabled,function(f){return f>=g?++f:f});this._tabify();if(this.anchors.length==1){e.addClass("ui-tabs-selected ui-state-active");o.removeClass("ui-tabs-hide");this.element.queue("tabs",
function(){l._trigger("show",null,l._ui(l.anchors[0],l.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[g],this.panels[g]))},remove:function(c){var e=this.options,g=this.lis.eq(c).remove(),l=this.panels.eq(c).remove();if(g.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(c+(c+1<this.anchors.length?1:-1));e.disabled=b.map(b.grep(e.disabled,function(k){return k!=c}),function(k){return k>=c?--k:k});this._tabify();this._trigger("remove",null,this._ui(g.find("a")[0],
l[0]))},enable:function(c){var e=this.options;if(b.inArray(c,e.disabled)!=-1){this.lis.eq(c).removeClass("ui-state-disabled");e.disabled=b.grep(e.disabled,function(g){return g!=c});this._trigger("enable",null,this._ui(this.anchors[c],this.panels[c]))}},disable:function(c){var e=this.options;if(c!=e.selected){this.lis.eq(c).addClass("ui-state-disabled");e.disabled.push(c);e.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c]))}},select:function(c){if(typeof c=="string")c=
this.anchors.index(this.anchors.filter("[href$="+c+"]"));else if(c===null)c=-1;if(c==-1&&this.options.collapsible)c=this.options.selected;this.anchors.eq(c).trigger(this.options.event+".tabs")},load:function(c){var e=this,g=this.options,l=this.anchors.eq(c)[0],k=b.data(l,"load.tabs");this.abort();if(!k||this.element.queue("tabs").length!==0&&b.data(l,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(c).addClass("ui-state-processing");if(g.spinner){var o=b("span",l);o.data("label.tabs",o.html()).html(g.spinner)}this.xhr=
b.ajax(b.extend({},g.ajaxOptions,{url:k,success:function(f,p){b(e._sanitizeSelector(l.hash)).html(f);e._cleanup();g.cache&&b.data(l,"cache.tabs",true);e._trigger("load",null,e._ui(e.anchors[c],e.panels[c]));try{g.ajaxOptions.success(f,p)}catch(u){}e.element.dequeue("tabs")}}))}},abort:function(){this.element.queue([]);this.panels.stop(false,true);if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup()},url:function(c,e){this.anchors.eq(c).removeData("cache.tabs").data("load.tabs",e)},length:function(){return this.anchors.length}});
b.extend(b.ui.tabs,{version:"1.7.2",getter:"length",defaults:{ajaxOptions:null,cache:false,cookie:null,collapsible:false,disabled:[],event:"click",fx:null,idPrefix:"ui-tabs-",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'}});b.extend(b.ui.tabs.prototype,{rotation:null,rotate:function(c,e){var g=this,l=this.options,k=g._rotate||(g._rotate=function(o){clearTimeout(g.rotation);g.rotation=setTimeout(function(){var f=l.selected;
g.select(++f<g.anchors.length?f:0)},c);o&&o.stopPropagation()});e=g._unrotate||(g._unrotate=!e?function(o){o.clientX&&g.rotate(null)}:function(){t=l.selected;k()});if(c){this.element.bind("tabsshow",k);this.anchors.bind(l.event+".tabs",e);k()}else{clearTimeout(g.rotation);this.element.unbind("tabsshow",k);this.anchors.unbind(l.event+".tabs",e);delete this._rotate;delete this._unrotate}}})})(jQuery);
jQuery.effects||function(b){function c(k,o){var f=k[1]&&k[1].constructor==Object?k[1]:{};if(o)f.mode=o;o=k[1]&&k[1].constructor!=Object?k[1]:f.duration?f.duration:k[2];o=b.fx.off?0:typeof o==="number"?o:b.fx.speeds[o]||b.fx.speeds._default;var p=f.callback||b.isFunction(k[1])&&k[1]||b.isFunction(k[2])&&k[2]||b.isFunction(k[3])&&k[3];return[k[0],f,o,p]}function e(k){var o;if(k&&k.constructor==Array&&k.length==3)return k;if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(k))return[parseInt(o[1],
10),parseInt(o[2],10),parseInt(o[3],10)];if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(k))return[parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55];if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(k))return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)];if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(k))return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(k))return l.transparent;
return l[b.trim(k).toLowerCase()]}function g(k,o){var f;do{f=b.curCSS(k,o);if(f!=""&&f!="transparent"||b.nodeName(k,"body"))break;o="backgroundColor"}while(k=k.parentNode);return e(f)}b.effects={version:"1.7.2",save:function(k,o){for(var f=0;f<o.length;f++)o[f]!==null&&k.data("ec.storage."+o[f],k[0].style[o[f]])},restore:function(k,o){for(var f=0;f<o.length;f++)o[f]!==null&&k.css(o[f],k.data("ec.storage."+o[f]))},setMode:function(k,o){if(o=="toggle")o=k.is(":hidden")?"show":"hide";return o},getBaseline:function(k,
o){var f;switch(k[0]){case "top":f=0;break;case "middle":f=0.5;break;case "bottom":f=1;break;default:f=k[0]/o.height}switch(k[1]){case "left":k=0;break;case "center":k=0.5;break;case "right":k=1;break;default:k=k[1]/o.width}return{x:k,y:f}},createWrapper:function(k){if(k.parent().is(".ui-effects-wrapper"))return k.parent();var o={width:k.outerWidth(true),height:k.outerHeight(true),"float":k.css("float")};k.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');
var f=k.parent();if(k.css("position")=="static"){f.css({position:"relative"});k.css({position:"relative"})}else{var p=k.css("top");if(isNaN(parseInt(p,10)))p="auto";var u=k.css("left");if(isNaN(parseInt(u,10)))u="auto";f.css({position:k.css("position"),top:p,left:u,zIndex:k.css("z-index")}).show();k.css({position:"relative",top:0,left:0})}f.css(o);return f},removeWrapper:function(k){if(k.parent().is(".ui-effects-wrapper"))return k.parent().replaceWith(k);return k},setTransition:function(k,o,f,p){p=
p||{};b.each(o,function(u,y){unit=k.cssUnit(y);if(unit[0]>0)p[y]=unit[0]*f+unit[1]});return p},animateClass:function(k,o,f,p){var u=typeof f=="function"?f:p?p:null,y=typeof f=="string"?f:null;return this.each(function(){var C={},R=b(this),K=R.attr("style")||"";if(typeof K=="object")K=K.cssText;if(k.toggle)R.hasClass(k.toggle)?(k.remove=k.toggle):(k.add=k.toggle);var E=b.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);k.add&&R.addClass(k.add);k.remove&&
R.removeClass(k.remove);var Q=b.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);k.add&&R.removeClass(k.add);k.remove&&R.addClass(k.remove);for(var j in Q)if(typeof Q[j]!="function"&&Q[j]&&j.indexOf("Moz")==-1&&j.indexOf("length")==-1&&Q[j]!=E[j]&&(j.match(/color/i)||!j.match(/color/i)&&!isNaN(parseInt(Q[j],10)))&&(E.position!="static"||E.position=="static"&&!j.match(/left|top|bottom|right/)))C[j]=Q[j];R.animate(C,o,y,function(){if(typeof b(this).attr("style")==
"object"){b(this).attr("style").cssText="";b(this).attr("style").cssText=K}else b(this).attr("style",K);k.add&&b(this).addClass(k.add);k.remove&&b(this).removeClass(k.remove);u&&u.apply(this,arguments)})})}};b.fn.extend({_show:b.fn.show,_hide:b.fn.hide,__toggle:b.fn.toggle,_addClass:b.fn.addClass,_removeClass:b.fn.removeClass,_toggleClass:b.fn.toggleClass,effect:function(k,o,f,p){return b.effects[k]?b.effects[k].call(this,{method:k,options:o||{},duration:f,callback:p}):null},show:function(){return!arguments[0]||
arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._show.apply(this,arguments):this.effect.apply(this,c(arguments,"show"))},hide:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._hide.apply(this,arguments):this.effect.apply(this,c(arguments,"hide"))},toggle:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])||b.isFunction(arguments[0])||typeof arguments[0]==
"boolean"?this.__toggle.apply(this,arguments):this.effect.apply(this,c(arguments,"toggle"))},addClass:function(k,o,f,p){return o?b.effects.animateClass.apply(this,[{add:k},o,f,p]):this._addClass(k)},removeClass:function(k,o,f,p){return o?b.effects.animateClass.apply(this,[{remove:k},o,f,p]):this._removeClass(k)},toggleClass:function(k,o,f,p){return typeof o!=="boolean"&&o?b.effects.animateClass.apply(this,[{toggle:k},o,f,p]):this._toggleClass(k,o)},morph:function(k,o,f,p,u){return b.effects.animateClass.apply(this,
[{add:o,remove:k},f,p,u])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(k){var o=this.css(k),f=[];b.each(["em","px","%","pt"],function(p,u){if(o.indexOf(u)>0)f=[parseFloat(o),u]});return f}});b.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(k,o){b.fx.step[o]=function(f){if(f.state==0){f.start=g(f.elem,o);f.end=e(f.end)}f.elem.style[o]="rgb("+[Math.max(Math.min(parseInt(f.pos*(f.end[0]-
f.start[0])+f.start[0],10),255),0),Math.max(Math.min(parseInt(f.pos*(f.end[1]-f.start[1])+f.start[1],10),255),0),Math.max(Math.min(parseInt(f.pos*(f.end[2]-f.start[2])+f.start[2],10),255),0)].join(",")+")"}});var l={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,
140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,
0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};b.easing.jswing=b.easing.swing;b.extend(b.easing,{def:"easeOutQuad",swing:function(k,o,f,p,u){return b.easing[b.easing.def](k,o,f,p,u)},easeInQuad:function(k,o,f,p,u){return p*(o/=u)*o+f},easeOutQuad:function(k,o,f,p,u){return-p*(o/=u)*(o-2)+f},easeInOutQuad:function(k,o,f,p,u){if((o/=u/2)<1)return p/2*o*o+f;return-p/2*(--o*(o-2)-1)+f},easeInCubic:function(k,o,f,p,u){return p*(o/=u)*o*o+f},easeOutCubic:function(k,
o,f,p,u){return p*((o=o/u-1)*o*o+1)+f},easeInOutCubic:function(k,o,f,p,u){if((o/=u/2)<1)return p/2*o*o*o+f;return p/2*((o-=2)*o*o+2)+f},easeInQuart:function(k,o,f,p,u){return p*(o/=u)*o*o*o+f},easeOutQuart:function(k,o,f,p,u){return-p*((o=o/u-1)*o*o*o-1)+f},easeInOutQuart:function(k,o,f,p,u){if((o/=u/2)<1)return p/2*o*o*o*o+f;return-p/2*((o-=2)*o*o*o-2)+f},easeInQuint:function(k,o,f,p,u){return p*(o/=u)*o*o*o*o+f},easeOutQuint:function(k,o,f,p,u){return p*((o=o/u-1)*o*o*o*o+1)+f},easeInOutQuint:function(k,
o,f,p,u){if((o/=u/2)<1)return p/2*o*o*o*o*o+f;return p/2*((o-=2)*o*o*o*o+2)+f},easeInSine:function(k,o,f,p,u){return-p*Math.cos(o/u*(Math.PI/2))+p+f},easeOutSine:function(k,o,f,p,u){return p*Math.sin(o/u*(Math.PI/2))+f},easeInOutSine:function(k,o,f,p,u){return-p/2*(Math.cos(Math.PI*o/u)-1)+f},easeInExpo:function(k,o,f,p,u){return o==0?f:p*Math.pow(2,10*(o/u-1))+f},easeOutExpo:function(k,o,f,p,u){return o==u?f+p:p*(-Math.pow(2,-10*o/u)+1)+f},easeInOutExpo:function(k,o,f,p,u){if(o==0)return f;if(o==
u)return f+p;if((o/=u/2)<1)return p/2*Math.pow(2,10*(o-1))+f;return p/2*(-Math.pow(2,-10*--o)+2)+f},easeInCirc:function(k,o,f,p,u){return-p*(Math.sqrt(1-(o/=u)*o)-1)+f},easeOutCirc:function(k,o,f,p,u){return p*Math.sqrt(1-(o=o/u-1)*o)+f},easeInOutCirc:function(k,o,f,p,u){if((o/=u/2)<1)return-p/2*(Math.sqrt(1-o*o)-1)+f;return p/2*(Math.sqrt(1-(o-=2)*o)+1)+f},easeInElastic:function(k,o,f,p,u){k=1.70158;var y=0,C=p;if(o==0)return f;if((o/=u)==1)return f+p;y||(y=u*0.3);if(C<Math.abs(p)){C=p;k=y/4}else k=
y/(2*Math.PI)*Math.asin(p/C);return-(C*Math.pow(2,10*(o-=1))*Math.sin((o*u-k)*2*Math.PI/y))+f},easeOutElastic:function(k,o,f,p,u){k=1.70158;var y=0,C=p;if(o==0)return f;if((o/=u)==1)return f+p;y||(y=u*0.3);if(C<Math.abs(p)){C=p;k=y/4}else k=y/(2*Math.PI)*Math.asin(p/C);return C*Math.pow(2,-10*o)*Math.sin((o*u-k)*2*Math.PI/y)+p+f},easeInOutElastic:function(k,o,f,p,u){k=1.70158;var y=0,C=p;if(o==0)return f;if((o/=u/2)==2)return f+p;y||(y=u*0.3*1.5);if(C<Math.abs(p)){C=p;k=y/4}else k=y/(2*Math.PI)*Math.asin(p/
C);if(o<1)return-0.5*C*Math.pow(2,10*(o-=1))*Math.sin((o*u-k)*2*Math.PI/y)+f;return C*Math.pow(2,-10*(o-=1))*Math.sin((o*u-k)*2*Math.PI/y)*0.5+p+f},easeInBack:function(k,o,f,p,u,y){if(y==undefined)y=1.70158;return p*(o/=u)*o*((y+1)*o-y)+f},easeOutBack:function(k,o,f,p,u,y){if(y==undefined)y=1.70158;return p*((o=o/u-1)*o*((y+1)*o+y)+1)+f},easeInOutBack:function(k,o,f,p,u,y){if(y==undefined)y=1.70158;if((o/=u/2)<1)return p/2*o*o*(((y*=1.525)+1)*o-y)+f;return p/2*((o-=2)*o*(((y*=1.525)+1)*o+y)+2)+f},
easeInBounce:function(k,o,f,p,u){return p-b.easing.easeOutBounce(k,u-o,0,p,u)+f},easeOutBounce:function(k,o,f,p,u){return(o/=u)<1/2.75?p*7.5625*o*o+f:o<2/2.75?p*(7.5625*(o-=1.5/2.75)*o+0.75)+f:o<2.5/2.75?p*(7.5625*(o-=2.25/2.75)*o+0.9375)+f:p*(7.5625*(o-=2.625/2.75)*o+0.984375)+f},easeInOutBounce:function(k,o,f,p,u){if(o<u/2)return b.easing.easeInBounce(k,o*2,0,p,u)*0.5+f;return b.easing.easeOutBounce(k,o*2-u,0,p,u)*0.5+p*0.5+f}})}(jQuery);var SWFUpload,swfobject;if(SWFUpload==undefined)SWFUpload=function(b){this.initSWFUpload(b)};SWFUpload.prototype.initSWFUpload=function(b){try{this.customSettings={};this.settings={};this.eventQueue=[];this.movieName="SWFUpload_"+SWFUpload.movieCount++;this.movieElement=null;SWFUpload.instances[this.movieName]=this;this.initSettings(b);this.loadSupport();this.swfuploadPreload()&&this.loadFlash();this.displayDebugInfo()}catch(c){delete SWFUpload.instances[this.movieName];throw c;}};
SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.5.0 2010-01-15 Beta 2";SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290,RESIZE:-300};
SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2};SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.RESIZE_ENCODING={JPEG:-1,PNG:-2};
SWFUpload.completeURL=function(b){try{var c="",e=-1;if(typeof b!=="string"||b.match(/^https?:\/\//i)||b.match(/^\//)||b==="")return b;e=window.location.pathname.lastIndexOf("/");c=e<=0?"/":window.location.pathname.substr(0,e)+"/";return c+b}catch(g){return b}};SWFUpload.onload=function(){};a=SWFUpload.prototype;
a.initSettings=function(b){this.ensureDefault=function(c,e){var g=b[c];this.settings[c]=g!=undefined?g:e};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",false);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",false);this.ensureDefault("requeue_on_error",false);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description",
"All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("flash9_url","swfupload_fp9.swf");this.ensureDefault("prevent_swf_caching",true);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");
this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",false);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",false);this.settings.debug_enabled=this.settings.debug;
this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_preload_handler",null);this.ensureDefault("swfupload_load_failed_handler",null);this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_resize_start_handler",null);this.ensureDefault("upload_start_handler",
null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("mouse_click_handler",null);this.ensureDefault("mouse_out_handler",null);this.ensureDefault("mouse_over_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(this.settings.prevent_swf_caching){this.settings.flash_url=
this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime();this.settings.flash9_url=this.settings.flash9_url+(this.settings.flash9_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()}if(!this.settings.preserve_relative_urls){this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url);this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)}delete this.ensureDefault};
a.loadSupport=function(){this.support={loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}};
a.loadFlash=function(){var b,c,e;if(this.support.loading)if(document.getElementById(this.movieName)!==null){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"])}else{b=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(b==undefined){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["button place holder not found"])}else{c=(b.currentStyle&&b.currentStyle.display||window.getComputedStyle&&
document.defaultView.getComputedStyle(b,null).getPropertyValue("display"))!=="block"?"span":"div";c=document.createElement(c);e=this.getFlashHTML();try{c.innerHTML=e}catch(g){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"]);return}e=c.getElementsByTagName("object");if(!e||e.length>1||e.length===0){this.support.loading=false;this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"])}else{if(e.length===
1)this.movieElement=e[0];b.parentNode.replaceChild(c.firstChild,b);if(window[this.movieName]==undefined)window[this.movieName]=this.getMovieElement()}}}else this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"])};
a.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload"><param name="wmode" value="',this.settings.button_window_mode,'" /><param name="movie" value="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" />',
'<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};
a.getFlashVars=function(){var b,c;c=this.buildParamString();b=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(b),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",
encodeURIComponent(c),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),
"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),
"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};a.getMovieElement=function(){if(this.movieElement==undefined)this.movieElement=document.getElementById(this.movieName);if(this.movieElement===null)throw"Could not find Flash element";return this.movieElement};
a.buildParamString=function(){var b,c,e=[];c=this.settings.post_params;if(typeof c==="object")for(b in c)c.hasOwnProperty(b)&&e.push(encodeURIComponent(b.toString())+"="+encodeURIComponent(c[b].toString()));return e.join("&amp;")};
a.destroy=function(){var b;try{this.cancelUpload(null,false);if(b=this.cleanUp())try{b.parentNode.removeChild(b)}catch(c){}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return true}catch(e){return false}};
a.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\nVersion: ",SWFUpload.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",this.settings.upload_url,"\n\tflash_url:                ",this.settings.flash_url,"\n\tflash9_url:                ",this.settings.flash9_url,"\n\tuse_query_string:         ",this.settings.use_query_string.toString(),"\n\trequeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n\thttp_success:             ",
this.settings.http_success.join(", "),"\n\tassume_success_timeout:   ",this.settings.assume_success_timeout,"\n\tfile_post_name:           ",this.settings.file_post_name,"\n\tpost_params:              ",this.settings.post_params.toString(),"\n\tfile_types:               ",this.settings.file_types,"\n\tfile_types_description:   ",this.settings.file_types_description,"\n\tfile_size_limit:          ",this.settings.file_size_limit,"\n\tfile_upload_limit:        ",this.settings.file_upload_limit,"\n\tfile_queue_limit:         ",
this.settings.file_queue_limit,"\n\tdebug:                    ",this.settings.debug.toString(),"\n\tprevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",this.settings.button_image_url.toString(),"\n\tbutton_width:             ",this.settings.button_width.toString(),"\n\tbutton_height:            ",
this.settings.button_height.toString(),"\n\tbutton_text:              ",this.settings.button_text.toString(),"\n\tbutton_text_style:        ",this.settings.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n\tbutton_action:            ",this.settings.button_action.toString(),"\n\tbutton_cursor:            ",this.settings.button_cursor.toString(),"\n\tbutton_disabled:          ",
this.settings.button_disabled.toString(),"\n\tcustom_settings:          ",this.settings.custom_settings.toString(),"\nEvent Handlers:\n\tswfupload_preload_handler assigned:  ",(typeof this.settings.swfupload_preload_handler==="function").toString(),"\n\tswfupload_load_failed_handler assigned:  ",(typeof this.settings.swfupload_load_failed_handler==="function").toString(),"\n\tswfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n\tmouse_click_handler assigned:       ",
(typeof this.settings.mouse_click_handler==="function").toString(),"\n\tmouse_over_handler assigned:        ",(typeof this.settings.mouse_over_handler==="function").toString(),"\n\tmouse_out_handler assigned:         ",(typeof this.settings.mouse_out_handler==="function").toString(),"\n\tfile_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n\tfile_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),
"\n\tfile_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n\tupload_resize_start_handler assigned:      ",(typeof this.settings.upload_resize_start_handler==="function").toString(),"\n\tupload_start_handler assigned:      ",(typeof this.settings.upload_start_handler==="function").toString(),"\n\tupload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n\tupload_error_handler assigned:      ",
(typeof this.settings.upload_error_handler==="function").toString(),"\n\tupload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n\tupload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n\tdebug_handler assigned:             ",(typeof this.settings.debug_handler==="function").toString(),"\nSupport:\n\tLoad:                     ",this.support.loading?"Yes":"No","\n\tImage Resize:             ",
this.support.imageResize?"Yes":"No","\n"].join(""))};a.addSetting=function(b,c,e){return c==undefined?(this.settings[b]=e):(this.settings[b]=c)};a.getSetting=function(b){if(this.settings[b]!=undefined)return this.settings[b];return""};
a.callFlash=function(b,c){var e,g,l;c=c||[];e=this.getMovieElement();try{if(e!=undefined){l=e.CallFunction('<invoke name="'+b+'" returntype="javascript">'+__flash__argumentsToXML(c,0)+"</invoke>");g=eval(l)}else this.debug("Can't call flash because the movie wasn't found.")}catch(k){this.debug("Exception calling flash function '"+b+"': "+k.message)}if(g!=undefined&&typeof g.post==="object")g=this.unescapeFilePostParams(g);return g};a.selectFile=function(){this.callFlash("SelectFile")};
a.selectFiles=function(){this.callFlash("SelectFiles")};a.startUpload=function(b){this.callFlash("StartUpload",[b])};a.startResizedUpload=function(b,c,e,g,l,k){this.callFlash("StartUpload",[b,{width:c,height:e,encoding:g,quality:l,allowEnlarging:k}])};a.cancelUpload=function(b,c){if(c!==false)c=true;this.callFlash("CancelUpload",[b,c])};a.stopUpload=function(){this.callFlash("StopUpload")};a.requeueUpload=function(b){return this.callFlash("RequeueUpload",[b])};a.getStats=function(){return this.callFlash("GetStats")};
a.setStats=function(b){this.callFlash("SetStats",[b])};a.getFile=function(b){return typeof b==="number"?this.callFlash("GetFileByIndex",[b]):this.callFlash("GetFile",[b])};a.getQueueFile=function(b){return typeof b==="number"?this.callFlash("GetFileByQueueIndex",[b]):this.callFlash("GetFile",[b])};a.addFileParam=function(b,c,e){return this.callFlash("AddFileParam",[b,c,e])};a.removeFileParam=function(b,c){this.callFlash("RemoveFileParam",[b,c])};
a.setUploadURL=function(b){this.settings.upload_url=b.toString();this.callFlash("SetUploadURL",[b])};a.setPostParams=function(b){this.settings.post_params=b;this.callFlash("SetPostParams",[b])};a.addPostParam=function(b,c){this.settings.post_params[b]=c;this.callFlash("SetPostParams",[this.settings.post_params])};a.removePostParam=function(b){delete this.settings.post_params[b];this.callFlash("SetPostParams",[this.settings.post_params])};
a.setFileTypes=function(b,c){this.settings.file_types=b;this.settings.file_types_description=c;this.callFlash("SetFileTypes",[b,c])};a.setFileSizeLimit=function(b){this.settings.file_size_limit=b;this.callFlash("SetFileSizeLimit",[b])};a.setFileUploadLimit=function(b){this.settings.file_upload_limit=b;this.callFlash("SetFileUploadLimit",[b])};a.setFileQueueLimit=function(b){this.settings.file_queue_limit=b;this.callFlash("SetFileQueueLimit",[b])};
a.setFilePostName=function(b){this.settings.file_post_name=b;this.callFlash("SetFilePostName",[b])};a.setUseQueryString=function(b){this.settings.use_query_string=b;this.callFlash("SetUseQueryString",[b])};a.setRequeueOnError=function(b){this.settings.requeue_on_error=b;this.callFlash("SetRequeueOnError",[b])};a.setHTTPSuccess=function(b){if(typeof b==="string")b=b.replace(" ","").split(",");this.settings.http_success=b;this.callFlash("SetHTTPSuccess",[b])};
a.setAssumeSuccessTimeout=function(b){this.settings.assume_success_timeout=b;this.callFlash("SetAssumeSuccessTimeout",[b])};a.setDebugEnabled=function(b){this.settings.debug_enabled=b;this.callFlash("SetDebugEnabled",[b])};a.setButtonImageURL=function(b){if(b==undefined)b="";this.settings.button_image_url=b;this.callFlash("SetButtonImageURL",[b])};
a.setButtonDimensions=function(b,c){this.settings.button_width=b;this.settings.button_height=c;var e=this.getMovieElement();if(e!=undefined){e.style.width=b+"px";e.style.height=c+"px"}this.callFlash("SetButtonDimensions",[b,c])};a.setButtonText=function(b){this.settings.button_text=b;this.callFlash("SetButtonText",[b])};a.setButtonTextPadding=function(b,c){this.settings.button_text_top_padding=c;this.settings.button_text_left_padding=b;this.callFlash("SetButtonTextPadding",[b,c])};
a.setButtonTextStyle=function(b){this.settings.button_text_style=b;this.callFlash("SetButtonTextStyle",[b])};a.setButtonDisabled=function(b){this.settings.button_disabled=b;this.callFlash("SetButtonDisabled",[b])};a.setButtonAction=function(b){this.settings.button_action=b;this.callFlash("SetButtonAction",[b])};a.setButtonCursor=function(b){this.settings.button_cursor=b;this.callFlash("SetButtonCursor",[b])};
a.queueEvent=function(b,c){var e=this;if(c==undefined)c=[];else c instanceof Array||(c=[c]);if(typeof this.settings[b]==="function"){this.eventQueue.push(function(){this.settings[b].apply(this,c)});setTimeout(function(){e.executeNextEvent()},0)}else if(this.settings[b]!==null)throw"Event handler "+b+" is unknown or is not a function";};a.executeNextEvent=function(){var b=this.eventQueue?this.eventQueue.shift():null;typeof b==="function"&&b.apply(this)};
a.unescapeFilePostParams=function(b){var c=/[$]([0-9a-f]{4})/i,e={},g,l,k;if(b!=undefined){for(l in b.post)if(b.post.hasOwnProperty(l)){for(g=l;(k=c.exec(g))!==null;)g=g.replace(k[0],String.fromCharCode(parseInt("0x"+k[1],16)));e[g]=b.post[l]}b.post=e}return b};
a.swfuploadPreload=function(){var b;if(typeof this.settings.swfupload_preload_handler==="function")b=this.settings.swfupload_preload_handler.call(this);else if(this.settings.swfupload_preload_handler!=undefined)throw"upload_start_handler must be a function";if(b===undefined)b=true;return!!b};a.flashReady=function(){this.cleanUp()?this.queueEvent("swfupload_loaded_handler"):this.debug("Flash called back ready but the flash movie can't be found.")};
a.cleanUp=function(){var b,c=this.getMovieElement();try{if(c&&typeof c.CallFunction==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(b in c)try{if(typeof c[b]==="function")c[b]=null}catch(e){}}}catch(g){}window.__flash__removeCallback=function(l,k){try{if(l)l[k]=null}catch(o){}};return c};a.mouseClick=function(){this.queueEvent("mouse_click_handler")};a.mouseOver=function(){this.queueEvent("mouse_over_handler")};
a.mouseOut=function(){this.queueEvent("mouse_out_handler")};a.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};a.fileQueued=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("file_queued_handler",b)};a.fileQueueError=function(b,c,e){b=this.unescapeFilePostParams(b);this.queueEvent("file_queue_error_handler",[b,c,e])};a.fileDialogComplete=function(b,c,e){this.queueEvent("file_dialog_complete_handler",[b,c,e])};
a.uploadResizeStart=function(b,c){b=this.unescapeFilePostParams(b);this.queueEvent("upload_resize_start_handler",[b,c.width,c.height,c.encoding,c.quality])};a.uploadStart=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("return_upload_start_handler",b)};
a.returnUploadStart=function(b){var c;if(typeof this.settings.upload_start_handler==="function"){b=this.unescapeFilePostParams(b);c=this.settings.upload_start_handler.call(this,b)}else if(this.settings.upload_start_handler!=undefined)throw"upload_start_handler must be a function";if(c===undefined)c=true;c=!!c;this.callFlash("ReturnUploadStart",[c])};a.uploadProgress=function(b,c,e){b=this.unescapeFilePostParams(b);this.queueEvent("upload_progress_handler",[b,c,e])};
a.uploadError=function(b,c,e){b=this.unescapeFilePostParams(b);this.queueEvent("upload_error_handler",[b,c,e])};a.uploadSuccess=function(b,c,e){b=this.unescapeFilePostParams(b);this.queueEvent("upload_success_handler",[b,c,e])};a.uploadComplete=function(b){b=this.unescapeFilePostParams(b);this.queueEvent("upload_complete_handler",b)};a.debug=function(b){this.queueEvent("debug_handler",b)};
a.debugMessage=function(b){var c,e;if(this.settings.debug){c=[];if(typeof b==="object"&&typeof b.name==="string"&&typeof b.message==="string"){for(e in b)b.hasOwnProperty(e)&&c.push(e+": "+b[e]);b=c.join("\n")||"";c=b.split("\n");b="EXCEPTION: "+c.join("\nEXCEPTION: ");SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(b)}};SWFUpload.Console={};
SWFUpload.Console.writeLine=function(b){var c,e;try{c=document.getElementById("SWFUpload_Console");if(!c){e=document.createElement("form");document.getElementsByTagName("body")[0].appendChild(e);c=document.createElement("textarea");c.id="SWFUpload_Console";c.style.fontFamily="monospace";c.setAttribute("wrap","off");c.wrap="off";c.style.overflow="auto";c.style.width="700px";c.style.height="350px";c.style.margin="5px";e.appendChild(c)}c.value+=b+"\n";c.scrollTop=c.scrollHeight-c.clientHeight}catch(g){alert("Exception: "+
g.name+" Message: "+g.message)}};
swfobject=function(){function b(){if(!Ia){try{var D=ia.getElementsByTagName("body")[0].appendChild(j("span"));D.parentNode.removeChild(D)}catch(J){return}Ia=true;D=Da.length;for(var V=0;V<D;V++)Da[V]()}}function c(D){if(Ia)D();else Da[Da.length]=D}function e(D){if(typeof ya.addEventListener!=fa)ya.addEventListener("load",D,false);else if(typeof ia.addEventListener!=fa)ia.addEventListener("load",D,false);else if(typeof ya.attachEvent!=fa)la(ya,"onload",D);else if(typeof ya.onload=="function"){var J=
ya.onload;ya.onload=function(){J();D()}}else ya.onload=D}function g(){Ma?l():k()}function l(){var D=ia.getElementsByTagName("body")[0],J=j(wa);J.setAttribute("type",Wa);var V=D.appendChild(J);if(V){var X=0;(function(){if(typeof V.GetVariable!=fa){var Y=V.GetVariable("$version");if(Y){Y=Y.split(" ")[1].split(",");Z.pv=[parseInt(Y[0],10),parseInt(Y[1],10),parseInt(Y[2],10)]}}else if(X<10){X++;setTimeout(arguments.callee,10);return}D.removeChild(J);V=null;k()})()}else k()}function k(){var D=za.length;
if(D>0)for(var J=0;J<D;J++){var V=za[J].id,X=za[J].callbackFn,Y={success:false,id:V};if(Z.pv[0]>0){var ka=Q(V);if(ka)if(ba(za[J].swfVersion)&&!(Z.wk&&Z.wk<312)){qa(V,true);if(X){Y.success=true;Y.ref=o(V);X(Y)}}else if(za[J].expressInstall&&f()){Y={};Y.data=za[J].expressInstall;Y.width=ka.getAttribute("width")||"0";Y.height=ka.getAttribute("height")||"0";if(ka.getAttribute("class"))Y.styleclass=ka.getAttribute("class");if(ka.getAttribute("align"))Y.align=ka.getAttribute("align");var ha={};ka=ka.getElementsByTagName("param");
for(var ra=ka.length,ga=0;ga<ra;ga++)if(ka[ga].getAttribute("name").toLowerCase()!="movie")ha[ka[ga].getAttribute("name")]=ka[ga].getAttribute("value");p(Y,ha,V,X)}else{u(ka);X&&X(Y)}}else{qa(V,true);if(X){if((V=o(V))&&typeof V.SetVariable!=fa){Y.success=true;Y.ref=V}X(Y)}}}}function o(D){var J=null;if((D=Q(D))&&D.nodeName=="OBJECT")if(typeof D.SetVariable!=fa)J=D;else if(D=D.getElementsByTagName(wa)[0])J=D;return J}function f(){return!La&&ba("6.0.65")&&(Z.win||Z.mac)&&!(Z.wk&&Z.wk<312)}function p(D,
J,V,X){La=true;Na=X||null;cb={success:false,id:V};var Y=Q(V);if(Y){if(Y.nodeName=="OBJECT"){Sa=y(Y);Ca=null}else{Sa=Y;Ca=V}D.id=pa;if(typeof D.width==fa||!/%$/.test(D.width)&&parseInt(D.width,10)<310)D.width="310";if(typeof D.height==fa||!/%$/.test(D.height)&&parseInt(D.height,10)<137)D.height="137";ia.title=ia.title.slice(0,47)+" - Flash Player Installation";X=Z.ie&&Z.win?"ActiveX":"PlugIn";X="MMredirectURL="+ya.location.toString().replace(/&/g,"%26")+"&MMplayerType="+X+"&MMdoctitle="+ia.title;if(typeof J.flashvars!=
fa)J.flashvars+="&"+X;else J.flashvars=X;if(Z.ie&&Z.win&&Y.readyState!=4){X=j("div");V+="SWFObjectNew";X.setAttribute("id",V);Y.parentNode.insertBefore(X,Y);Y.style.display="none";(function(){Y.readyState==4?Y.parentNode.removeChild(Y):setTimeout(arguments.callee,10)})()}C(D,J,V)}}function u(D){if(Z.ie&&Z.win&&D.readyState!=4){var J=j("div");D.parentNode.insertBefore(J,D);J.parentNode.replaceChild(y(D),J);D.style.display="none";(function(){D.readyState==4?D.parentNode.removeChild(D):setTimeout(arguments.callee,
10)})()}else D.parentNode.replaceChild(y(D),D)}function y(D){var J=j("div");if(Z.win&&Z.ie)J.innerHTML=D.innerHTML;else if(D=D.getElementsByTagName(wa)[0])if(D=D.childNodes)for(var V=D.length,X=0;X<V;X++)!(D[X].nodeType==1&&D[X].nodeName=="PARAM")&&D[X].nodeType!=8&&J.appendChild(D[X].cloneNode(true));return J}function C(D,J,V){var X,Y=Q(V);if(Z.wk&&Z.wk<312)return X;if(Y){if(typeof D.id==fa)D.id=V;if(Z.ie&&Z.win){var ka="";for(var ha in D)if(D[ha]!=Object.prototype[ha])if(ha.toLowerCase()=="data")J.movie=
D[ha];else if(ha.toLowerCase()=="styleclass")ka+=' class="'+D[ha]+'"';else if(ha.toLowerCase()!="classid")ka+=" "+ha+'="'+D[ha]+'"';ha="";for(var ra in J)if(J[ra]!=Object.prototype[ra])ha+='<param name="'+ra+'" value="'+J[ra]+'" />';Y.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ka+">"+ha+"</object>";Qa[Qa.length]=D.id;X=Q(D.id)}else{ra=j(wa);ra.setAttribute("type",Wa);for(ka in D)if(D[ka]!=Object.prototype[ka])if(ka.toLowerCase()=="styleclass")ra.setAttribute("class",
D[ka]);else ka.toLowerCase()!="classid"&&ra.setAttribute(ka,D[ka]);for(var ga in J)J[ga]!=Object.prototype[ga]&&ga.toLowerCase()!="movie"&&R(ra,ga,J[ga]);Y.parentNode.replaceChild(ra,Y);X=ra}}return X}function R(D,J,V){var X=j("param");X.setAttribute("name",J);X.setAttribute("value",V);D.appendChild(X)}function K(D){var J=Q(D);if(J&&J.nodeName=="OBJECT")if(Z.ie&&Z.win){J.style.display="none";(function(){J.readyState==4?E(D):setTimeout(arguments.callee,10)})()}else J.parentNode.removeChild(J)}function E(D){if(D=
Q(D)){for(var J in D)if(typeof D[J]=="function")D[J]=null;D.parentNode.removeChild(D)}}function Q(D){var J=null;try{J=ia.getElementById(D)}catch(V){}return J}function j(D){return ia.createElement(D)}function la(D,J,V){D.attachEvent(J,V);Ba[Ba.length]=[D,J,V]}function ba(D){var J=Z.pv;D=D.split(".");D[0]=parseInt(D[0],10);D[1]=parseInt(D[1],10)||0;D[2]=parseInt(D[2],10)||0;return J[0]>D[0]||J[0]==D[0]&&J[1]>D[1]||J[0]==D[0]&&J[1]==D[1]&&J[2]>=D[2]?true:false}function P(D,J,V,X){if(!(Z.ie&&Z.mac)){var Y=
ia.getElementsByTagName("head")[0];if(Y){V=V&&typeof V=="string"?V:"screen";if(X)bb=Aa=null;if(!Aa||bb!=V){X=j("style");X.setAttribute("type","text/css");X.setAttribute("media",V);Aa=Y.appendChild(X);if(Z.ie&&Z.win&&typeof ia.styleSheets!=fa&&ia.styleSheets.length>0)Aa=ia.styleSheets[ia.styleSheets.length-1];bb=V}if(Z.ie&&Z.win)Aa&&typeof Aa.addRule==wa&&Aa.addRule(D,J);else Aa&&typeof ia.createTextNode!=fa&&Aa.appendChild(ia.createTextNode(D+" {"+J+"}"))}}}function qa(D,J){if(ab){J=J?"visible":"hidden";
if(Ia&&Q(D))Q(D).style.visibility=J;else P("#"+D,"visibility:"+J)}}function Ha(D){return/[\\\"<>\.;]/.exec(D)!=null&&typeof encodeURIComponent!=fa?encodeURIComponent(D):D}var fa="undefined",wa="object",Wa="application/x-shockwave-flash",pa="SWFObjectExprInst",ya=window,ia=document,sa=navigator,Ma=false,Da=[g],za=[],Qa=[],Ba=[],Sa,Ca,Na,cb,Ia=false,La=false,Aa,bb,ab=true,Z=function(){var D=typeof ia.getElementById!=fa&&typeof ia.getElementsByTagName!=fa&&typeof ia.createElement!=fa,J=sa.userAgent.toLowerCase(),
V=sa.platform.toLowerCase(),X=V?/win/.test(V):/win/.test(J);V=V?/mac/.test(V):/mac/.test(J);J=/webkit/.test(J)?parseFloat(J.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;var Y=!+"\u000b1",ka=[0,0,0],ha=null;if(typeof sa.plugins!=fa&&typeof sa.plugins["Shockwave Flash"]==wa){if((ha=sa.plugins["Shockwave Flash"].description)&&!(typeof sa.mimeTypes!=fa&&sa.mimeTypes[Wa]&&!sa.mimeTypes[Wa].enabledPlugin)){Ma=true;Y=false;ha=ha.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ka[0]=parseInt(ha.replace(/^(.*)\..*$/,
"$1"),10);ka[1]=parseInt(ha.replace(/^.*\.(.*)\s.*$/,"$1"),10);ka[2]=/[a-zA-Z]/.test(ha)?parseInt(ha.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof ya.ActiveXObject!=fa)try{var ra=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(ra)if(ha=ra.GetVariable("$version")){Y=true;ha=ha.split(" ")[1].split(",");ka=[parseInt(ha[0],10),parseInt(ha[1],10),parseInt(ha[2],10)]}}catch(ga){}return{w3:D,pv:ka,wk:J,ie:Y,win:X,mac:V}}();(function(){if(Z.w3){if(typeof ia.readyState!=fa&&ia.readyState==
"complete"||typeof ia.readyState==fa&&(ia.getElementsByTagName("body")[0]||ia.body))b();if(!Ia){typeof ia.addEventListener!=fa&&ia.addEventListener("DOMContentLoaded",b,false);if(Z.ie&&Z.win){ia.attachEvent("onreadystatechange",function(){if(ia.readyState=="complete"){ia.detachEvent("onreadystatechange",arguments.callee);b()}});ya==top&&function(){if(!Ia){try{ia.documentElement.doScroll("left")}catch(D){setTimeout(arguments.callee,0);return}b()}}()}Z.wk&&function(){Ia||(/loaded|complete/.test(ia.readyState)?
b():setTimeout(arguments.callee,0))}();e(b)}}})();(function(){Z.ie&&Z.win&&window.attachEvent("onunload",function(){for(var D=Ba.length,J=0;J<D;J++)Ba[J][0].detachEvent(Ba[J][1],Ba[J][2]);D=Qa.length;for(J=0;J<D;J++)K(Qa[J]);for(var V in Z)Z[V]=null;Z=null;for(var X in swfobject)swfobject[X]=null;swfobject=null})})();return{registerObject:function(D,J,V,X){if(Z.w3&&D&&J){var Y={};Y.id=D;Y.swfVersion=J;Y.expressInstall=V;Y.callbackFn=X;za[za.length]=Y;qa(D,false)}else X&&X({success:false,id:D})},getObjectById:function(D){if(Z.w3)return o(D)},
embedSWF:function(D,J,V,X,Y,ka,ha,ra,ga,Ra){var Ja={success:false,id:J};if(Z.w3&&!(Z.wk&&Z.wk<312)&&D&&J&&V&&X&&Y){qa(J,false);c(function(){V+="";X+="";var Ka={};if(ga&&typeof ga===wa)for(var Ea in ga)Ka[Ea]=ga[Ea];Ka.data=D;Ka.width=V;Ka.height=X;Ea={};if(ra&&typeof ra===wa)for(var Ta in ra)Ea[Ta]=ra[Ta];if(ha&&typeof ha===wa)for(var Xa in ha)if(typeof Ea.flashvars!=fa)Ea.flashvars+="&"+Xa+"="+ha[Xa];else Ea.flashvars=Xa+"="+ha[Xa];if(ba(Y)){Ta=C(Ka,Ea,J);Ka.id==J&&qa(J,true);Ja.success=true;Ja.ref=
Ta}else if(ka&&f()){Ka.data=ka;p(Ka,Ea,J,Ra);return}else qa(J,true);Ra&&Ra(Ja)})}else Ra&&Ra(Ja)},switchOffAutoHideShow:function(){ab=false},ua:Z,getFlashPlayerVersion:function(){return{major:Z.pv[0],minor:Z.pv[1],release:Z.pv[2]}},hasFlashPlayerVersion:ba,createSWF:function(D,J,V){if(Z.w3)return C(D,J,V)},showExpressInstall:function(D,J,V,X){Z.w3&&f()&&p(D,J,V,X)},removeSWF:function(D){Z.w3&&K(D)},createCSS:function(D,J,V,X){Z.w3&&P(D,J,V,X)},addDomLoadEvent:c,addLoadEvent:e,getQueryParamValue:function(D){var J=
ia.location.search||ia.location.hash;if(J){if(/\?/.test(J))J=J.split("?")[1];if(D==null)return Ha(J);J=J.split("&");for(var V=0;V<J.length;V++)if(J[V].substring(0,J[V].indexOf("="))==D)return Ha(J[V].substring(J[V].indexOf("=")+1))}return""},expressInstallCallback:function(){if(La){var D=Q(pa);if(D&&Sa){D.parentNode.replaceChild(Sa,D);if(Ca){qa(Ca,true);if(Z.ie&&Z.win)Sa.style.display="block"}Na&&Na(cb)}La=false}}}}();swfobject.addDomLoadEvent(function(){typeof SWFUpload.onload==="function"&&SWFUpload.onload.call(window)});if(typeof SWFUpload==="function"){SWFUpload.prototype.initSettings=function(b){return function(c){typeof b==="function"&&b.call(this,c);this.refreshCookies(false)}}(SWFUpload.prototype.initSettings);SWFUpload.prototype.refreshCookies=function(b){if(b===undefined)b=true;b=!!b;var c=this.settings.post_params,e,g=document.cookie.split(";"),l=g.length,k,o,f;for(e=0;e<l;e++){for(k=g[e];k.charAt(0)===" ";)k=k.substring(1,k.length);o=k.indexOf("=");if(o>0){f=k.substring(0,o);k=k.substring(o+1);c[f]=k}}b&&
this.setPostParams(c)}};(function(b){b.fn.modalTabs=function(c){var e={attr:"href",history:true};c&&b.extend(e,c);this.each(function(){var g=this;b(".modal-toolbar a",g).live("click",function(k){k.preventDefault();b("a",g).removeClass("selected");b(this).addClass("selected");k=b(this).attr(e.attr);if(e.attr=="href")k=k.replace(/^.*#/,"");b(".modal-tab-view").hide();b("#"+k+"-pane").show();if(e.history)document.location.href=document.location.href.replace(/^.*/,"#"+anchor);return true});var l=function(){var k=document.location.hash.replace("#",
"");if(k=="")k="edit";return k};if(e.history){b(window).hashchange(function(){b("a[href=#"+l()+"]",g).click()});b(window).trigger("hashchange");b("a[href=#"+l()+"]").click();history.navigationMode="compatible"}b(".modal-tab-view",g).each(function(){var k=this;b("a.swap-form",k).live("click",function(){b("a.swap-form, fieldset",k).toggle();return false})})})}})(jQuery);jQuery.cookie=function(b,c,e){if(typeof c!="undefined"){e=e||{};if(c===null){c="";e.expires=-1}var g="";if(e.expires&&(typeof e.expires=="number"||e.expires.toUTCString)){if(typeof e.expires=="number"){g=new Date;g.setTime(g.getTime()+e.expires*24*60*60*1E3)}else g=e.expires;g="; expires="+g.toUTCString()}var l=e.path?"; path="+e.path:"",k=e.domain?"; domain="+e.domain:"";e=e.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(c),g,l,k,e].join("")}else{c=null;if(document.cookie&&document.cookie!=
""){e=document.cookie.split(";");for(g=0;g<e.length;g++){l=jQuery.trim(e[g]);if(l.substring(0,b.length+1)==b+"="){c=decodeURIComponent(l.substring(b.length+1));break}}}return c}};if(!this.JSON)this.JSON={};
(function(){function b(u){return u<10?"0"+u:u}function c(u){l.lastIndex=0;return l.test(u)?'"'+u.replace(l,function(y){var C=f[y];return typeof C==="string"?C:"\\u"+("0000"+y.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function e(u,y){var C,R,K=k,E,Q=y[u];if(Q&&typeof Q==="object"&&typeof Q.toJSON==="function")Q=Q.toJSON(u);if(typeof p==="function")Q=p.call(y,u,Q);switch(typeof Q){case "string":return c(Q);case "number":return isFinite(Q)?String(Q):"null";case "boolean":case "null":return String(Q);case "object":if(!Q)return"null";
k+=o;E=[];if(Object.prototype.toString.apply(Q)==="[object Array]"){R=Q.length;for(u=0;u<R;u+=1)E[u]=e(u,Q)||"null";y=E.length===0?"[]":k?"[\n"+k+E.join(",\n"+k)+"\n"+K+"]":"["+E.join(",")+"]";k=K;return y}if(p&&typeof p==="object"){R=p.length;for(u=0;u<R;u+=1){C=p[u];if(typeof C==="string")if(y=e(C,Q))E.push(c(C)+(k?": ":":")+y)}}else for(C in Q)if(Object.hasOwnProperty.call(Q,C))if(y=e(C,Q))E.push(c(C)+(k?": ":":")+y);y=E.length===0?"{}":k?"{\n"+k+E.join(",\n"+k)+"\n"+K+"}":"{"+E.join(",")+"}";
k=K;return y}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,o,f={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;if(typeof JSON.stringify!=="function")JSON.stringify=function(u,y,C){var R;o=k="";if(typeof C==="number")for(R=0;R<C;R+=1)o+=" ";else if(typeof C==="string")o=C;if((p=y)&&typeof y!=="function"&&(typeof y!=="object"||typeof y.length!=="number"))throw new Error("JSON.stringify");return e("",
{"":u})};if(typeof JSON.parse!=="function")JSON.parse=function(u,y){function C(R,K){var E,Q,j=R[K];if(j&&typeof j==="object")for(E in j)if(Object.hasOwnProperty.call(j,E)){Q=C(j,E);if(Q!==undefined)j[E]=Q;else delete j[E]}return y.call(R,K,j)}g.lastIndex=0;if(g.test(u))u=u.replace(g,function(R){return"\\u"+("0000"+R.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){u=eval("("+u+")");return typeof y==="function"?C({"":u},""):u}throw new SyntaxError("JSON.parse");}})();(function(b){b.extend(b.fn,{validate:function(c){if(this.length){var e=b.data(this[0],"validator");if(e)return e;e=new b.validator(c,this[0]);b.data(this[0],"validator",e);if(e.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){e.cancelSubmit=true});this.submit(function(g){function l(){if(e.settings.submitHandler){e.settings.submitHandler.call(e,e.currentForm);return false}return true}e.settings.debug&&g.preventDefault();if(e.cancelSubmit){e.cancelSubmit=false;return l()}if(e.form()){if(e.pendingRequest){e.formSubmitted=
true;return false}return l()}else{e.focusInvalid();return false}})}return e}else c&&c.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(b(this[0]).is("form"))return this.validate().form();else{var c=false,e=b(this[0].form).validate();this.each(function(){c|=e.element(this)});return c}},removeAttrs:function(c){var e={},g=this;b.each(c.split(/\s/),function(l,k){e[k]=g.attr(k);g.removeAttr(k)});return e},rules:function(c,e){var g=this[0];
if(c){var l=b.data(g.form,"validator").settings,k=l.rules,o=b.validator.staticRules(g);switch(c){case "add":b.extend(o,b.validator.normalizeRule(e));k[g.name]=o;if(e.messages)l.messages[g.name]=b.extend(l.messages[g.name],e.messages);break;case "remove":if(!e){delete k[g.name];return o}var f={};b.each(e.split(/\s/),function(p,u){f[u]=o[u];delete o[u]});return f}}c=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(g),b.validator.classRules(g),b.validator.attributeRules(g),b.validator.staticRules(g)),
g);if(c.required){e=c.required;delete c.required;c=b.extend({required:e},c)}return c}});b.extend(b.expr[":"],{blank:function(c){return!b.trim(c.value)},filled:function(c){return!!b.trim(c.value)},unchecked:function(c){return!c.checked}});b.format=function(c,e){if(arguments.length==1)return function(){var g=b.makeArray(arguments);g.unshift(c);return b.format.apply(this,g)};if(arguments.length>2&&e.constructor!=Array)e=b.makeArray(arguments).slice(1);if(e.constructor!=Array)e=[e];b.each(e,function(g,
l){c=c.replace(new RegExp("\\{"+g+"\\}","g"),l)});return c};b.validator=function(c,e){this.settings=b.extend({},b.validator.defaults,c);this.currentForm=e;this.init()};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(c){this.lastActive=c;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&
this.settings.unhighlight.call(this,c,this.settings.errorClass);this.errorsFor(c).hide()}},onfocusout:function(c){if(!this.checkable(c)&&(c.name in this.submitted||!this.optional(c)))this.element(c)},onkeyup:function(c){if(c.name in this.submitted||c==this.lastElement)this.element(c)},onclick:function(c){c.name in this.submitted&&this.element(c)},highlight:function(c,e){b(c).addClass(e)},unhighlight:function(c,e){b(c).removeClass(e)}},setDefaults:function(c){b.extend(b.validator.defaults,c)},messages:{required:"This field is required.",
remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",dateDE:"Bitte geben Sie ein g\u00fcltiges Datum ein.",number:"Please enter a valid number.",numberDE:"Bitte geben Sie eine Nummer ein.",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",
maxlength:b.format("Please enter no more than {0} characters."),minlength:b.format("Please enter at least {0} characters."),rangelength:b.format("Please enter a value between {0} and {1} characters long."),range:b.format("Please enter a value between {0} and {1}."),max:b.format("Please enter a value less than or equal to {0}."),min:b.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function c(l){var k=b.data(this[0].form,"validator");
k.settings["on"+l.type]&&k.settings["on"+l.type].call(k,this[0])}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=this.groups={};b.each(this.settings.groups,function(l,k){b.each(k.split(/\s/),function(o,f){e[f]=
l})});var g=this.settings.rules;b.each(g,function(l,k){g[l]=b.validator.normalizeRule(k)});b(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",c).delegate("click",":radio, :checkbox",c);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",
[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var c=0,e=this.currentElements=this.elements();e[c];c++)this.check(e[c]);return this.valid()},element:function(c){this.lastElement=c=this.clean(c);this.prepareElement(c);this.currentElements=b(c);var e=this.check(c);if(e)delete this.invalid[c.name];else this.invalid[c.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return e},showErrors:function(c){if(c){b.extend(this.errorMap,
c);this.errorList=[];for(var e in c)this.errorList.push({message:c[e],element:this.findByName(e)[0]});this.successList=b.grep(this.successList,function(g){return!(g.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},
objectLength:function(c){var e=0;for(var g in c)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus()}catch(c){}},findLastActive:function(){var c=this.lastActive;return c&&b.grep(this.errorList,function(e){return e.element.name==c.name}).length==
1&&c},elements:function(){var c=this,e={};return b([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in e||!c.objectLength(b(this).rules()))return false;return e[this.name]=true})},clean:function(c){return b(c)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},
reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.formSubmitted=false;this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(c){this.reset();this.toHide=this.errorsFor(c)},check:function(c){c=this.clean(c);if(this.checkable(c))c=this.findByName(c.name)[0];var e=b(c).rules(),g=false;for(method in e){var l={method:method,parameters:e[method]};try{var k=b.validator.methods[method].call(this,
c.value.replace(/\r/g,""),c,l.parameters);if(k=="dependency-mismatch")g=true;else{g=false;if(k=="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!k){this.formatAndAdd(c,l);return false}}}catch(o){this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+l.method+"' method");throw o;}}if(!g){this.objectLength(e)&&this.successList.push(c);return true}},customMetaMessage:function(c,e){if(b.metadata)return(c=this.settings.meta?
b(c).metadata()[this.settings.meta]:b(c).metadata())&&c.messages&&c.messages[e]},customMessage:function(c,e){return(c=this.settings.messages[c])&&(c.constructor==String?c:c[e])},findDefined:function(){for(var c=0;c<arguments.length;c++)if(arguments[c]!==undefined)return arguments[c]},defaultMessage:function(c,e){return this.findDefined(this.customMessage(c.name,e),this.customMetaMessage(c,e),!this.settings.ignoreTitle&&c.title||undefined,b.validator.messages[e],"<strong>Warning: No message defined for "+
c.name+"</strong>")},formatAndAdd:function(c,e){var g=this.defaultMessage(c,e.method);if(typeof g=="function")g=g.call(this,e.parameters,c);this.errorList.push({message:g,element:c});this.errorMap[c.name]=g;this.submitted[c.name]=g},addWrapper:function(c){if(this.settings.wrapper)c=c.add(c.parents(this.settings.wrapper));return c},defaultShowErrors:function(){for(var c=0;this.errorList[c];c++){var e=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass);
this.showLabel(e.element,e.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(c=0;this.successList[c];c++)this.showLabel(this.successList[c]);if(this.settings.unhighlight){c=0;for(e=this.validElements();e[c];c++)this.settings.unhighlight.call(this,e[c],this.settings.errorClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},
invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(c,e){var g=this.errorsFor(c);if(g.length){g.removeClass().addClass(this.settings.errorClass);g.attr("generated")&&g.html(e)}else{g=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:true}).addClass(this.settings.errorClass).html(e||"");if(this.settings.wrapper)g=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(g).length||(this.settings.errorPlacement?
this.settings.errorPlacement(g,b(c)):g.insertAfter(c))}if(!e&&this.settings.success){g.text("");typeof this.settings.success=="string"?g.addClass(this.settings.success):this.settings.success(g)}this.toShow=this.toShow.add(g)},errorsFor:function(c){return this.errors().filter("[for='"+this.idOrName(c)+"']")},idOrName:function(c){return this.groups[c.name]||(this.checkable(c)?c.name:c.id||c.name)},checkable:function(c){return/radio|checkbox/i.test(c.type)},findByName:function(c){var e=this.currentForm;
return b(document.getElementsByName(c)).map(function(g,l){return l.form==e&&l.name==c&&l||null})},getLength:function(c,e){switch(e.nodeName.toLowerCase()){case "select":return b("option:selected",e).length;case "input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return c.length},depend:function(c,e){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,e):true},dependTypes:{"boolean":function(c){return c},string:function(c,e){return!!b(c,e.form).length},
"function":function(c,e){return c(e)}},optional:function(c){return!b.validator.methods.required.call(this,b.trim(c.value),c)&&"dependency-mismatch"},startRequest:function(c){if(!this.pending[c.name]){this.pendingRequest++;this.pending[c.name]=true}},stopRequest:function(c,e){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[c.name];if(e&&this.pendingRequest==0&&this.formSubmitted&&this.form())b(this.currentForm).submit();else!e&&this.pendingRequest==0&&this.formSubmitted&&
b(this.currentForm).triggerHandler("invalid-form",[this])},previousValue:function(c){return b.data(c,"previousValue")||b.data(c,"previousValue",previous={old:null,valid:true,message:this.defaultMessage(c,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(c,e){c.constructor==String?
(this.classRuleSettings[c]=e):b.extend(this.classRuleSettings,c)},classRules:function(c){var e={};(c=b(c).attr("class"))&&b.each(c.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(e,b.validator.classRuleSettings[this])});return e},attributeRules:function(c){var e={};c=b(c);for(method in b.validator.methods){var g=c.attr(method);if(g)e[method]=g}e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength;return e},metadataRules:function(c){if(!b.metadata)return{};
var e=b.data(c.form,"validator").settings.meta;return e?b(c).metadata()[e]:b(c).metadata()},staticRules:function(c){var e={},g=b.data(c.form,"validator");if(g.settings.rules)e=b.validator.normalizeRule(g.settings.rules[c.name])||{};return e},normalizeRules:function(c,e){b.each(c,function(g,l){if(l===false)delete c[g];else if(l.param||l.depends){var k=true;switch(typeof l.depends){case "string":k=!!b(l.depends,e.form).length;break;case "function":k=l.depends.call(e,e);break}if(k)c[g]=l.param!==undefined?
l.param:true;else delete c[g]}});b.each(c,function(g,l){c[g]=b.isFunction(l)?l(e):l});b.each(["minlength","maxlength","min","max"],function(){if(c[this])c[this]=Number(c[this])});b.each(["rangelength","range"],function(){if(c[this])c[this]=[Number(c[this][0]),Number(c[this][1])]});if(b.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}c.messages&&delete c.messages;
return c},normalizeRule:function(c){if(typeof c=="string"){var e={};b.each(c.split(/\s/),function(){e[this]=true});c=e}return c},addMethod:function(c,e,g){b.validator.methods[c]=e;b.validator.messages[c]=g;e.length<3&&b.validator.addClassRules(c,b.validator.normalizeRule(c))},methods:{required:function(c,e,g){if(!this.depend(g,e))return"dependency-mismatch";switch(e.nodeName.toLowerCase()){case "select":c=b("option:selected",e);return c.length>0&&(e.type=="select-multiple"||(b.browser.msie&&!c[0].attributes.value.specified?
c[0].text:c[0].value).length>0);case "input":if(this.checkable(e))return this.getLength(c,e)>0;default:return b.trim(c).length>0}},remote:function(c,e,g){if(this.optional(e))return"dependency-mismatch";var l=this.previousValue(e);this.settings.messages[e.name]||(this.settings.messages[e.name]={});this.settings.messages[e.name].remote=typeof l.message=="function"?l.message(c):l.message;g=typeof g=="string"&&{url:g}||g;if(l.old!==c){l.old=c;var k=this;this.startRequest(e);var o={};o[e.name]=c;b.ajax(b.extend(true,
{url:g,mode:"abort",port:"validate"+e.name,dataType:"json",data:o,success:function(f){if(f){var p=k.formSubmitted;k.prepareElement(e);k.formSubmitted=p;k.successList.push(e);k.showErrors()}else{p={};p[e.name]=f||k.defaultMessage(e,"remote");k.showErrors(p)}l.valid=f;k.stopRequest(e,f)}},g));return"pending"}else if(this.pending[e.name])return"pending";return l.valid},minlength:function(c,e,g){return this.optional(e)||this.getLength(b.trim(c),e)>=g},maxlength:function(c,e,g){return this.optional(e)||
this.getLength(b.trim(c),e)<=g},rangelength:function(c,e,g){c=this.getLength(b.trim(c),e);return this.optional(e)||c>=g[0]&&c<=g[1]},min:function(c,e,g){return this.optional(e)||c>=g},max:function(c,e,g){return this.optional(e)||c<=g},range:function(c,e,g){return this.optional(e)||c>=g[0]&&c<=g[1]},email:function(c,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(c)},
url:function(c,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},
date:function(c,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(c))},dateISO:function(c,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},dateDE:function(c,e){return this.optional(e)||/^\d\d?\.\d\d?\.\d\d\d?\d?$/.test(c)},number:function(c,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(c)},numberDE:function(c,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(c)},digits:function(c,e){return this.optional(e)||/^\d+$/.test(c)},
creditcard:function(c,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9-]+/.test(c))return false;var g=e=0,l=false;c=c.replace(/\D/g,"");for(n=c.length-1;n>=0;n--){g=c.charAt(n);g=parseInt(g,10);if(l)if((g*=2)>9)g-=9;e+=g;l=!l}return e%10==0},accept:function(c,e,g){g=typeof g=="string"?g:"png|jpe?g|gif";return this.optional(e)||c.match(new RegExp(".("+g+")$","i"))},equalTo:function(c,e,g){return c==b(g).val()}}})})(jQuery);
(function(b){var c=b.ajax,e={};b.ajax=function(g){g=b.extend(g,b.extend({},b.ajaxSettings,g));var l=g.port;if(g.mode=="abort"){e[l]&&e[l].abort();return e[l]=c.apply(this,arguments)}return c.apply(this,arguments)}})(jQuery);
(function(b){b.each({focus:"focusin",blur:"focusout"},function(c,e){b.event.special[e]={setup:function(){if(b.browser.msie)return false;this.addEventListener(c,b.event.special[e].handler,true)},teardown:function(){if(b.browser.msie)return false;this.removeEventListener(c,b.event.special[e].handler,true)},handler:function(g){arguments[0]=b.event.fix(g);arguments[0].type=e;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{delegate:function(c,e,g){return this.bind(c,function(l){var k=b(l.target);
if(k.is(e))return g.apply(k,arguments)})},triggerEvent:function(c,e){return this.triggerHandler(c,[b.event.fix({type:c,target:e})])}})})(jQuery);var currentDialogHideFunction=null,currentDialogType=null;
$(function(){var b=false,c=null,e=$(".call-dialog").css("opacity",0);$("form",e).live("submit",function(l){l.preventDefault()});var g=function(l,k){c&&clearTimeout(c);k.shown=false;$(".call-button").data("link",k);c=setTimeout(function(){c=null;e.animate({top:"-=35px",opacity:0},250,"swing",function(){b=false;e.css("display","none")})},100);$(".screen").hide();$(".invoke-call-button span").text("Call");$(".call-dialing").hide();currentDialogType=currentDialogHideFunction=null;return false};$(".twilio-call").each(function(){var l=
false,k=this;k.shown=false;var o=$(this),f=function(p,u){currentDialogType=="sms"&&currentDialogHideFunction();c&&clearTimeout(c);if(l||u.shown)return false;if(b){b=false;$(".call-button").data("link").shown=false;$(".call-dialog").hide()}p="";if(u){p=$(u).text()!="Call"?$(u).text():"";target=$(u).attr("href")}b=l=true;e.css({position:"absolute",left:o.get(0).offsetLeft,top:o.get(0).offsetTop,display:"block"}).animate({top:"+=35px",opacity:1},250,"swing",function(){l=false;u.shown=true});$(".call-button").data("link",
u);$("input[name=to]",e).val(p);$("input[name=target]",e).val(target);$(".screen").show();currentDialogType="call";currentDialogHideFunction=function(){g(null,u)};return true};$(window).keypress(function(p){p.keyCode==27&&g(p,k)});$(this).hasClass("hover")?$([o.get(0),e.get(0)]).mouseover(function(p){f(p,k)}).mouseout(function(p){g(p,k)}):$(o).click(function(p){return f(p,k)?false:g(p,k)});$(".close",e).live("click",function(p){g(p,k);p.preventDefault()})});$(".call-button",e).click(function(l){$(".invoke-call-button span").text("Calling...");
$(".call-dialing").show();var k=$(this).data("link");$(this).attr("disabled","disabled");var o=$(this);$.ajax({url:OpenVBX.home+"/messages/call",data:$("form input, form select",e),dataType:"json",type:"POST",success:function(f){o.removeAttr("disabled");g(l,k);if(f.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Unable to complete call. Message from server: "+f.message);$(".error-dialog").dialog("open")}else $.notify("You are now being connected to "+
$("input[name=to]",e).val())}});l.preventDefault()});$(".screen").live("click",function(l){l.preventDefault();b&&$(".close",e).click()})});
$(function(){var b=false,c=null,e=$(".sms-dialog").css("opacity",0);$("form",e).live("submit",function(k){k.preventDefault()});var g=function(k,o){$(".send-sms-button").removeAttr("disabled");c&&clearTimeout(c);o||(o=$(".sms-button").data("link"));o.shown=false;$(".sms-button").data("link",o);c=setTimeout(function(){c=null;e.animate({top:"-=35px",opacity:0},250,"swing",function(){b=false;e.css("display","none")})},100);$(".screen").hide();$(".send-sms-button span").text("Send SMS");$(".sms-sending").hide();
currentDialogType=currentDialogHideFunction=null;return false};$(".twilio-sms").each(function(){var k=false,o=this;o.shown=false;var f=$(this),p=function(u,y){$(".send-sms-button").attr("rel",$(y).attr("rel"));$(".send-sms-button").removeAttr("disabled");currentDialogType=="call"&&currentDialogHideFunction();c&&clearTimeout(c);if(k||y.shown)return false;if(b){b=false;$(".sms-button").data("link").shown=false;$(".sms-dialog").hide()}u="";if(y){u=$(y).text().match(/sms/i)?"":$(y).text();target=$(y).attr("href")}b=
k=true;e.css({position:"absolute",left:f.get(0).offsetLeft,top:f.get(0).offsetTop,display:"block"}).animate({top:"+=35px",opacity:1},250,"swing",function(){k=false;y.shown=true});$(".sms-button").data("link",y);$("input[name=to]",e).val(u);$("input[name=target]",e).val(target);$(".screen").show();currentDialogType="sms";currentDialogHideFunction=function(){g(null,y)};return true};$(window).keypress(function(u){u.keyCode==27&&g(u,o)});$(this).hasClass("hover")?$([f.get(0),e.get(0)]).mouseover(function(u){p(u,
o)}).mouseout(function(u){g(u,o)}):$(f).click(function(u){return p(u,o)?false:g(u,o)});$(".close",e).live("click",function(u){g(u,o);u.preventDefault()})});$(".send-sms-button",e).click(function(k){$(".send-sms-button span").text("Sending...");$(".send-sms-button .sms-sending").show();var o=$(this).data("link");$(this).attr("disabled","disabled");var f=$(k.target).attr("rel"),p=$(this);$.ajax({url:OpenVBX.home+"/messages/sms"+(f?"/"+f:""),data:$("form input, form select, form textarea",e),dataType:"json",
type:"POST",success:function(u){p.removeAttr("disabled");g(k,o);if(u.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Unable to send sms. Message from server: "+u.message);$(".error-dialog").dialog("open")}else{$.notify("SMS sent to "+$("input[name=to]",e).val());$("textarea",e).val("");$("input",e).val("")}}});return false});var l=function(){var k=$(this).val().length;$(".count",
e).text(160-k)};$("textarea",e).live("keypress",l);$("textarea",e).live("keyup",l);$("textarea",e).live("load",l);$(".screen").live("click",function(k){k.preventDefault();b&&$(".close",e).click()})});jQuery.fn.flicker=function(b){var c=jQuery.extend({color:"#FEEEBD",speed:"slow"},b),e=function(g){if(!g.flickerLocked){g.flickerLocked=true;var l=$(g).css("background-color");$(g).animate({backgroundColor:c.color,queue:true},c.speed).animate({backgroundColor:l,queue:true},c.speed,function(){g.flickerLocked=false})}};return this.each(function(){e(this);return $(this)})};(function(b,c,e){function g(y){y=y||location.href;return"#"+y.replace(/^[^#]*#?(.*)$/,"$1")}var l="hashchange",k=document,o,f=b.event.special,p=k.documentMode,u="on"+l in c&&(p===e||p>7);b.fn[l]=function(y){return y?this.bind(l,y):this.trigger(l)};b.fn[l].delay=50;f[l]=b.extend(f[l],{setup:function(){if(u)return false;b(o.start)},teardown:function(){if(u)return false;b(o.stop)}});o=function(){function y(){var la=g(),ba=j(K);if(la!==K){Q(K=la,ba);b(c).trigger(l)}else if(ba!==K)location.href=location.href.replace(/#.*/,
"")+ba;R=setTimeout(y,b.fn[l].delay)}var C={},R,K=g(),E=function(la){return la},Q=E,j=E;C.start=function(){R||y()};C.stop=function(){R&&clearTimeout(R);R=e};b.browser.msie&&!u&&function(){var la,ba;C.start=function(){if(!la){ba=(ba=b.fn[l].src)&&ba+g();la=b('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){ba||Q(g());y()}).attr("src",ba||"javascript:0").insertAfter("body")[0].contentWindow;k.onpropertychange=function(){try{if(event.propertyName==="title")la.document.title=k.title}catch(P){}}}};
C.stop=E;j=function(){return g(la.location.href)};Q=function(P,qa){var Ha=la.document,fa=b.fn[l].domain;if(P!==qa){Ha.title=k.title;Ha.open();fa&&Ha.write('<script>document.domain="'+fa+'"<\/script>');Ha.close();la.location.hash=P}}}();return C}()})(jQuery,this);(function(b){b.extend(b.fn,{livequery:function(c,e,g){var l=this,k;if(b.isFunction(c)){g=e;e=c;c=undefined}b.each(b.livequery.queries,function(o,f){if(l.selector==f.selector&&l.context==f.context&&c==f.type&&(!e||e.$lqguid==f.fn.$lqguid)&&(!g||g.$lqguid==f.fn2.$lqguid))return(k=f)&&false});k=k||new b.livequery(this.selector,this.context,c,e,g);k.stopped=false;k.run();return this},expire:function(c,e,g){var l=this;if(b.isFunction(c)){g=e;e=c;c=undefined}b.each(b.livequery.queries,function(k,o){if(l.selector==
o.selector&&l.context==o.context&&(!c||c==o.type)&&(!e||e.$lqguid==o.fn.$lqguid)&&(!g||g.$lqguid==o.fn2.$lqguid)&&!this.stopped)b.livequery.stop(o.id)});return this}});b.livequery=function(c,e,g,l,k){this.selector=c;this.context=e;this.type=g;this.fn=l;this.fn2=k;this.elements=[];this.stopped=false;this.id=b.livequery.queries.push(this)-1;l.$lqguid=l.$lqguid||b.livequery.guid++;if(k)k.$lqguid=k.$lqguid||b.livequery.guid++;return this};b.livequery.prototype={stop:function(){var c=this;if(this.type)this.elements.unbind(this.type,
this.fn);else this.fn2&&this.elements.each(function(e,g){c.fn2.apply(g)});this.elements=[];this.stopped=true},run:function(){if(!this.stopped){var c=this,e=this.elements,g=b(this.selector,this.context),l=g.not(e);this.elements=g;if(this.type){l.bind(this.type,this.fn);e.length>0&&b.each(e,function(k,o){b.inArray(o,g)<0&&b.event.remove(o,c.type,c.fn)})}else{l.each(function(){c.fn.apply(this)});this.fn2&&e.length>0&&b.each(e,function(k,o){b.inArray(o,g)<0&&c.fn2.apply(o)})}}}};b.extend(b.livequery,
{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(b.livequery.running&&b.livequery.queue.length)for(var c=b.livequery.queue.length;c--;)b.livequery.queries[b.livequery.queue.shift()].run()},pause:function(){b.livequery.running=false},play:function(){b.livequery.running=true;b.livequery.run()},registerPlugin:function(){b.each(arguments,function(c,e){if(b.fn[e]){var g=b.fn[e];b.fn[e]=function(){var l=g.apply(this,arguments);b.livequery.run();return l}}})},run:function(c){if(c!=
undefined)b.inArray(c,b.livequery.queue)<0&&b.livequery.queue.push(c);else b.each(b.livequery.queries,function(e){b.inArray(e,b.livequery.queue)<0&&b.livequery.queue.push(e)});b.livequery.timeout&&clearTimeout(b.livequery.timeout);b.livequery.timeout=setTimeout(b.livequery.checkQueue,20)},stop:function(c){c!=undefined?b.livequery.queries[c].stop():b.each(b.livequery.queries,function(e){b.livequery.queries[e].stop()})}});b.livequery.registerPlugin("append","prepend","after","before","wrap","attr",
"removeAttr","addClass","removeClass","toggleClass","empty","remove","html");b(function(){b.livequery.play()})})(jQuery);jQuery.fn.buttonista=function(b){var c=jQuery.extend({menu:"ul",toggler:".toggler"},b),e=function(){$(this).parent().children(c.menu).toggleClass("open");return false};$(window).keypress(function(g){g.keyCode=="27"&&$(c.menu).removeClass("open")});return this.each(function(){var g=$(this);g.click(e);$(c.toggler,g.parent()).click(function(l){l.preventDefault();g.click()})})};(function(b){function c(l){for(var k=0;k<document.styleSheets.length;k++){v=document.styleSheets[k];attrClass=e(l,v);if(attrClass!=false)break}attrClass||(attrClass=Array());objStyle={};if(attrClass=="")return false;attrClass=attrClass.match(";")?attrClass.split(";"):[attrClass];b(attrClass).each(function(o,f){if(f!=""){f=f.split(":");f[0]=g(f[0]);objStyle[f[0]]=b.trim(f[1])}});return objStyle}function e(l,k){attrClass=false;if(b.browser.msie)if(k.rules.length>0)b(k.rules).each(function(o,f){if(l==
f.selectorText)attrClass=f.style.cssText});else k.imports.length>0&&b(k.imports).each(function(o,f){if(l==f.selectorText)attrClass=f.style.cssText;else if(f=="[object]"||f=="[Object CSSStyleSheet]"||f=="[object CSSImportRule]")return e(l,f)});else b(k.cssRules).each(function(o,f){if(l==f.selectorText)attrClass=f.style.cssText;else if(f=="[object CSSImportRule]")return e(l,f.styleSheet)});return attrClass}function g(l){l=b.trim(l);l=l.replace(/-/g," ");l=l.toLowerCase();strArr=l.split(" ");var k="";
b(strArr).each(function(o,f){if(o==0)k+=f;else{k+=f.substr(0,1).toUpperCase();k+=f.substr(1,f.length)}});return k}b.fn.extend({animateToClass:function(l,k,o,f){if(!l)return this;l=c(l);if(!l)return this;b(this).data("animated",true);return this.animate(l,k,o,f)},toggleAnimateToClass:function(l,k,o,f,p){l=l;if(b(this).data("animated")){b(this).data("animated",false);l=k}else b(this).data("animated",true);k=c(l);if(!k)return this;return this.animate(k,o,f,p)}})})(jQuery);$.notify=function(b,c){var e="";if(c)e=' <a href="'+c+'">Learn more</a>';$(".notify").addClass("hide");setTimeout(function(){$(".notify .message").text(b).append(e).append('<a href="" class="close action"><span class="replace">Close</span></a>');$(".notify").removeClass("hide").fadeIn("slow");$(".notify").delay(1E4).fadeOut("slow")},500);return $(".notify")};$(document).ready(function(){$(".notify .message .close.action").live("click",function(b){b.preventDefault();$(".notify").dequeue().fadeOut("fast")})});(function(b){var c=["swfupload_loaded_handler","file_queued_handler","file_queue_error_handler","file_dialog_start_handler","file_dialog_complete_handler","upload_start_handler","upload_progress_handler","upload_error_handler","upload_success_handler","upload_complete_handler","queue_complete_handler"],e=[];b.fn.swfupload=function(){var g=b.makeArray(arguments);return this.each(function(){var l;if(g.length==1&&typeof g[0]=="object"){l=b(this).data("__swfu");if(!l){var k=g[0],o=b(this);l=[];b.merge(l,
c);b.merge(l,e);b.each(l,function(p,u){var y=u.replace(/_handler$/,"").replace(/_([a-z])/g,function(C,R){return R.toUpperCase()});k[u]=function(){var C=b.Event(y);o.trigger(C,b.makeArray(arguments));return!C.isDefaultPrevented()}});b(this).data("__swfu",new SWFUpload(k))}}else if(g.length>0&&typeof g[0]=="string"){var f=g.shift();(l=b(this).data("__swfu"))&&l[f]&&l[f].apply(l,g)}})};b.fn.swfuploadUnload=function(){return this.each(function(){var g;g=b(this).data("__swfu");if(g!=null){var l=g.settings.button_placeholder,
k=b("#"+g.movieName).parent();g.destroy();k.append(l);b(this).data("__swfu",null);b(this).unbind()}})};b.swfupload={additionalHandlers:function(){if(arguments.length===0)return e.slice();else b(arguments).each(function(g,l){b.merge(e,b.makeArray(l))})},defaultHandlers:function(){return c.slice()},getInstance:function(g){return b(g).data("__swfu")}}})(jQuery);jQuery.fn.tabify=function(b){settings=jQuery.extend({selector:"#tab-",view:".vbx-tab-view",defaultView:""},b);return $(this).each(function(){var c=this;$("li",this).click(function(){$("li",c).removeClass("selected");$(this).addClass("selected");var g=$("a",this).attr("href").replace(/^.*#/,"");$(settings.view).hide();$(settings.selector+g).show();document.location.href=document.location.href.replace(/^.*/,"#"+g);return true});var e=function(){var g=document.location.hash.replace("#","");if(g=="")g=
settings.defaultView;return g};$(window).hashchange(function(){$("a[href=#"+e()+"]").click()});$(window).trigger("hashchange");$("a[href=#"+e()+"]").click();history.navigationMode="compatible"})};(function(b){function c(f,p,u){f.value=b(p).text();b(f).change();b.browser.msie||f.focus();u.hide()}function e(f,p){var u=f.getHours(),y=p.show24Hours?u:(u+11)%12+1;f=f.getMinutes();return g(y)+p.separator+g(f)+(p.show24Hours?"":u<12?" AM":" PM")}function g(f){return(f<10?"0":"")+f}function l(f,p){return typeof f=="object"?o(f):k(f,p)}function k(f,p){if(f){var u=f.split(p.separator),y=parseFloat(u[0]);u=parseFloat(u[1]);if(!p.show24Hours)if(y===12&&f.indexOf("AM")!==-1)y=0;else if(y!==12&&f.indexOf("PM")!==
-1)y+=12;return o(new Date(0,0,0,y,u,0))}return null}function o(f){f.setFullYear(2001);f.setMonth(0);f.setDate(0);return f}b.fn.timePicker=function(f){var p=b.extend({},b.fn.timePicker.defaults,f);return this.each(function(){b.timePicker(this,p)})};b.timePicker=function(f,p){f=b(f)[0];return f.timePicker||(f.timePicker=new jQuery._timePicker(f,p))};b._timePicker=function(f,p){var u=false,y=false,C=l(p.startTime,p),R=l(p.endTime,p);b(f).attr("autocomplete","OFF");for(var K=[],E=new Date(C);E<=R;){K[K.length]=
e(E,p);E=new Date(E.setMinutes(E.getMinutes()+p.step))}var Q=b('<div class="time-picker'+(p.show24Hours?"":" time-picker-12hours")+'"></div>'),j=b("<ul></ul>");for(E=0;E<K.length;E++)j.append("<li>"+K[E]+"</li>");Q.append(j);Q.appendTo("body").hide();Q.mouseover(function(){u=true}).mouseout(function(){u=false});b("li",j).mouseover(function(){if(!y){b("li.selected",Q).removeClass("selected");b(this).addClass("selected")}}).mousedown(function(){u=true}).click(function(){c(f,this,Q,p);u=false});var la=
function(){if(Q.is(":visible"))return false;b("li",Q).removeClass("selected");var ba=b(f).offset();Q.css({top:ba.top+f.offsetHeight,left:ba.left});Q.show();var P=f.value?k(f.value,p):C;ba=C.getHours()*60+C.getMinutes();P=P.getHours()*60+P.getMinutes()-ba;P=Math.round(P/p.step);ba=o(new Date(0,0,0,0,P*p.step+ba,0));ba=C<ba&&ba<=R?ba:C;ba=b("li:contains("+e(ba,p)+")",Q);if(ba.length){ba.addClass("selected");Q[0].scrollTop=ba[0].offsetTop}return true};b(f).focus(la).click(la);b(f).blur(function(){u||
Q.hide()});K=b.browser.opera||b.browser.mozilla?"keypress":"keydown";b(f)[K](function(ba){y=true;var P=Q[0].scrollTop;switch(ba.keyCode){case 38:if(la())return false;ba=b("li.selected",j);var qa=ba.prev().addClass("selected")[0];if(qa){ba.removeClass("selected");if(qa.offsetTop<P)Q[0].scrollTop=P-qa.offsetHeight}else{ba.removeClass("selected");qa=b("li:last",j).addClass("selected")[0];Q[0].scrollTop=qa.offsetTop-qa.offsetHeight}return false;case 40:if(la())return false;ba=b("li.selected",j);if(qa=
ba.next().addClass("selected")[0]){ba.removeClass("selected");if(qa.offsetTop+qa.offsetHeight>P+Q[0].offsetHeight)Q[0].scrollTop=P+qa.offsetHeight}else{ba.removeClass("selected");b("li:first",j).addClass("selected");Q[0].scrollTop=0}return false;case 13:if(Q.is(":visible")){P=b("li.selected",j)[0];c(f,P,Q,p)}return false;case 27:Q.hide();return false}return true});b(f).keyup(function(){y=false});this.getTime=function(){return k(f.value,p)};this.setTime=function(ba){f.value=e(o(ba),p);b(f).change()}};
b.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,0,0),endTime:new Date(0,0,0,23,30,0),separator:":",show24Hours:true}})(jQuery);var _st=window.setTimeout;window.setTimeout=function(b,c){if(typeof b=="function"){var e=Array.prototype.slice.call(arguments,2);return _st(function(){b.apply(null,e)},c)}return _st(b,c)};
$.fn.extend({left:function(b){if(b===undefined)return $(this).offset().left;else $(this).css("left",b)},top:function(b){if(b===undefined)return $(this).offset().top;else $(this).css("top",b)},right:function(b){if(b===undefined)return $(this).offset().left+$(this).outerWidth(true);else $(this).css("left",b-$(this).outerWidth(true))},bottom:function(b){if(b===undefined)return $(this).offset().top+$(this).outerHeight(true);else $(this).css("top",b-$(this).outerHeight(true))},frame:function(){return"{ "+
$(this).left()+", "+$(this).top()+", "+$(this).outerWidth(true)+", "+$(this).outerHeight(true)+" }"}});function preventDefault(b){b.preventDefault()}
function convertTimeToString(b,c,e){if(!c||!e){var g=new Date;c=(new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0)).getTime();e=(new Date(g.getFullYear(),0,1,0,0,0)).getTime()}var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];g=new Date(b);if(b>c){b=g.getHours();g=g.getMinutes();c=b<12?"am":"pm";if(b>12)b-=12;if(b==0)b=12;return b+":"+(g<10?"0":"")+g+" "+c}else if(b>e)return l[g.getMonth()]+" "+g.getDate();else{b=g.getYear()-100;return g.getMonth()+"/"+g.getDay()+
"/"+(b<10?"0":"")+b}}OpenVBX={home:null,assets:null};
$(document).ready(function(){OpenVBX.home=$("#openvbx-logo a").eq(0).attr("href");OpenVBX.assets=$("#openvbx-assets a").eq(0).attr("href");$("button").mouseover(function(){$(this).addClass("ui-state-hover")}).mouseout(function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-focus")}).mouseup(function(){$(this).removeClass("ui-state-focus")});$.fn.values=function(b){var c=$(this).find(":input").get();if(typeof b!="object"){b={};$.each(c,function(){if(this.name&&
!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type)))b[this.name]=$(this).val()});return b}else{$.each(c,function(){if(this.name&&b[this.name])if(this.type=="checkbox"||this.type=="radio")this.checked=b[this.name]==$(this).val();else $(this).val(b[this.name])});return $(this)}};$.fn.fadeRemove=function(b){return $(this).fadeOut(b,function(){$(this).remove()})};$.postJSON=function(b,c,e){if(b.indexOf("http://")<0)b=OpenVBX.home+"/"+b;$.post(b,
c,e,"json")};$.extend($.ui.dialog.defaults,{autoOpen:false,closeOnEscape:true,closeText:"",draggable:true,height:"auto",modal:true,position:"center",resizable:false,open:function(){$("button").each(function(){$(this).text().match(/cancel/i)&&$(this).addClass("cancel")})}});$(".tabs").tabs();$.each([{name:"tabs",selector:".tabs",css:"c/ui.tabs.css"}],function(){$(this.selector).length>0&&this.css&&$("<link>").appendTo("head").attr({rel:"stylesheet",type:"text/css",href:OpenVBX.assets+"/"+this.css})});
$(":radio, :checkbox").live("click",function(){var b=$(this).hasClass("checked");if(this.checked){this.name&&$(this).attr("type")=="radio"&&$(this).siblings(".checked").removeClass("checked");$(this).addClass("checked");$("label[for="+this.id+"]").addClass("checked")}else if(b){$(this).removeClass("checked");$("label[for="+this.id+"]").removeClass("checked")}});$(".error-dialog").dialog({bgiframe:true,resizable:false,modal:true,buttons:{Okay:function(){$(this).dialog("close")}}});$.ajaxSetup({dataType:"json",
cache:false});$(document).ajaxError(function(b,c,e){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("An unknown error occurred.  Please contact your OpenVBX provider.  Unable to complete request: "+e.url);$(".error-dialog").dialog("open")})});
$(document).ready(function(){if($.browser.msie&&$.browser.version<7){$(".error-dialog").attr("title","Unsupported Browser");$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("Microsoft Internet Explorer is not currently supported.  It is currently under development and will be supported in the near future.  We recommend you use Mozilla Firefox, Safari, or Chrome at this time");$(".error-dialog").dialog("open")}$(".shout-out .close").click(function(){$(".shout-out").hide();
$.cookie("mobile-app","false",{path:"/"})});$.cookie("mobile-app")=="false"?$(".shout-out").hide():$(".shout-out").show()});function convertMsecsToMinutesAndSeconds(b){var c=Math.floor(b/1E3/60);b=Math.floor(b/1E3%60);return(c<10?"0":"")+c+":"+(b<10?"0":"")+b}
$(document).ready(function(){window.soundManager=new SoundManager;soundManager.debugMode=false;soundManager.consoleOnly=true;soundManager.url=OpenVBX.assets+"assets/j/soundmanager2/soundmanager2.swf";soundManager.onload=function(){$(".audio-choice input[name=show_player_with_url]").each(function(b,c){b=$(c).closest(".audio-choice");c=$(c).val();Pickers.audio.showPlayer(b,"current",c,false)})};soundManager.beginDelayedInit()});var swfu,Pickers={timing:{setDisabled:function(b,c){$control=b.siblings("a");if(c){$("<em>").text("Closed").insertBefore(b);b.hide().find("input").val("");$control.html("add").attr({"class":"timing-add"})}else{b.show().siblings("em").remove();range=[new Date(0,0,0,9,0,0),new Date(0,0,0,17,0,0)];b.find("input").each(function(){$(this).val()||$.timePicker($(this)).setTime(range.shift())});$control.html("remove").attr({"class":"timing-remove"})}}},audio:{picker:null,saveValue:function(b,c,e,g){b.find("input[name$=_mode]").val(c);
b.find("input[name$=_say]").val(e==null?"":e);b.find("input[name$=_play]").val(g==null?"":g);var l;if(c=="say")l=e;else if(c=="play")l=g;else alert("Unexpected mode: "+c);b.trigger("save",[c,l])},cancelDeviceRecordingIfActive:function(b){(b=b.data("cancel_recording_function"))&&b()},startDeviceRecording:function(b){b.preventDefault();var c=$(this).closest(".audio-choice");b=c.find("input[name$=_tag]").val();var e=$("select[name=callerid] option:first"),g=$("input[name=callerid]");e=e.length>0?e.val():
g.val();g=c.find(".audio-choice-record").find("input[name=number]").val();var l=function(){c.find(".audio-choice-editor .audio-choice-record .input").show();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").hide();c.find(".audio-choice-editor .audio-choice-record .status.in-call").hide()},k=function(){c.find(".audio-choice-editor .audio-choice-record .input").hide();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").hide();c.find(".audio-choice-editor .audio-choice-record .status.in-call").show()},
o=false,f=null;c.data("cancel_recording_function",function(){if(!o){o=true;l();f!=null&&$.ajax({url:OpenVBX.home+"/audiofiles/cancel_recording",type:"POST",dataType:"json",data:{id:f},success:function(){}})}});(function(){c.find(".audio-choice-editor .audio-choice-record .input").hide();c.find(".audio-choice-editor .audio-choice-record .status.scheduling").show();c.find(".audio-choice-editor .audio-choice-record .status.in-call").hide()})();$.ajax({url:OpenVBX.home+"/audiofiles/add_from_twilio_recording",
data:{to:g,callerid:e,tag:b},success:function(p){if(p.error){l();$(".audio-choice-record .error",c).html(p.message).removeClass("hide")}else{f=p.id;if(o&&p.id)$.ajax({url:OpenVBX.home+"audiofiles/cancel_recording",type:"POST",dataType:"json",data:{id:f},success:function(){}});else{k();var u=function(R){c.data("cancel_recording_function",null);l();Pickers.audio.saveValue(c,"play",null,R.url);Pickers.audio.insertRecordingIntoLibrary(c,R.url,R.label);Pickers.audio.closeEditorAndShowPlayValue(c,R.url,
true)},y=0,C=function(R){if(!o){if(R)if(R.error){$(".error-dialog").dialog("option","buttons",{Ok:function(){l();$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text("There was a problem checking to see if the recording had finished: "+R.message);$(".error-dialog").dialog("open");return}else if(R.finished)return u(R);if(y<=25){y++;return setTimeout(function(){$.ajax({url:OpenVBX.home+"/audiofiles/check_if_recording_is_finished",type:"POST",dataType:"json",
data:{id:f},success:C,error:function(){},global:false})},6E3)}}};C()}}},type:"POST",dataType:"json"})},insertRecordingIntoLibrary:function(b,c,e){var g=b.find("select[name=library]");$("<option value='"+c+"' title='"+(new Date).getTime()/1E3+"'>"+e+"</option>").insertAfter(g.find("option[value=]"));b.find(".audio-choice-library .empty-container").hide();b.find(".audio-choice-library .chooser-container").show()},chooseRecordingFromLibrary:function(b){b.preventDefault();b=$(this).closest(".audio-choice");
Pickers.audio.showPlayer(b,"library",$(this).val(),true)},setRecordingFromLibarary:function(b){b.preventDefault();b=$(this).closest(".audio-choice");var c=b.find("select[name=library]").val();if(c!=""){Pickers.audio.saveValue(b,"play",null,c);Pickers.audio.closeEditorAndShowPlayValue(b,c,false)}},hidePlayer:function(b,c){var e=b.data("soundId");if(e){soundManager.destroySound(e);b.data("soundId",null)}b.find("."+c+"-player").hide()},showPlayer:function(b,c,e,g){if(matches=e.match(/^vbx-audio-upload:\/\/(.*)$/))e=
OpenVBX.assets+"/audio-uploads/"+matches[1];var l=b.find("."+c+"-player");l.show();var k=l.find("."+c+"-play-button"),o=l.find("."+c+"-pause-button"),f=l.find("."+c+"-load-bar"),p=l.find("."+c+"-play-bar"),u=l.find("."+c+"-play-time");k.show();o.hide();f.css("width","0px");p.css("width","0px");u.html('<img src="'+OpenVBX.assets+'assets/i/ajax-loader.gif" alt="..." />');var y=function(K,E){f.css("width","100%");p.css("width",E+"%");u.text(convertMsecsToMinutesAndSeconds(K.position))};c=function(){k.show();
o.hide()};l=function(){k.hide();o.show()};var C=b.data("soundId");C!=null&&soundManager.getSoundById(C)!=null&&soundManager.destroySound(C);C="sound-"+Math.round(Math.random()*1E6).toString(16);b.data("soundId",C);var R=soundManager.createSound({id:C,url:e,onplay:l,onresume:l,onpause:c,onfinish:c,onload:function(){u.html("");f.css("width","100%")},whileloading:function(){var K=Math.round(this.bytesLoaded/this.bytesTotal*100);f.css("width",K+"%")},whileplaying:function(){var K=Math.round(this.position/
this.duration*100);y(this,K)}});k.unbind();k.click(function(K){K.preventDefault();R.paused?R.resume():R.play()});o.unbind();o.click(function(K){K.preventDefault();R.pause()});f.unbind();f.click(function(K){var E=f.offset();K=K.pageX-E.left;E=f.width();R.setPosition(K/E*R.durationEstimate);y(R,Math.round(K/E*100))});g?R.play():R.load()},selectAction:function(b){b.preventDefault();b=$(this).attr("href");var c=$(this).closest(".audio-choice");c.trigger("editor-open",[c]);c.find(".audio-choice-selector").hide();
c.find(".audio-choice-editor").show();c.find(".audio-choice-editor .audio-choice-"+b).show();if(b=="read-text"){var e=c.find("input[name$=_say]").val();c.find(".audio-choice-editor .audio-choice-"+b).find("textarea").val(e)}else if(b=="library"){b=c.find(".audio-choice-library").find("select[name=library]");b.unbind("change",Pickers.audio.chooseRecordingFromLibrary);b.change(Pickers.audio.chooseRecordingFromLibrary);b.find("option").each(function(l,k){k=$(k);if((l=k.attr("title"))&&l!=""){k.attr("title",
"");l=parseInt(l)*1E3;k.text(k.text()+" ("+convertTimeToString(l)+")")}})}else if(b=="upload"){swfControl=c.find(".swfupload-control");b=c.find(".button");var g=function(l){$(".error-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close")}});$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text(l);$(".error-dialog").dialog("open")};swfControl.swfupload({upload_url:OpenVBX.home+"/audiofiles/add_file",file_size_limit:"10240",file_types:"*.mp3",file_types_description:"Audio Files",
file_upload_limit:"0",flash_url:OpenVBX.assets+"assets/j/swfupload/swfupload.swf",button_image_url:OpenVBX.assets+"assets/j/swfupload/transparent_538x68.png",button_width:"100%",button_height:68,button_placeholder:b[0],button_window_mode:"transparent",debug:false,post_params:{tag:c.find("input[name$=_tag]").val()}}).bind("fileQueued",function(){$(this).swfupload("startUpload");c.find(".audio-choice-editor .audio-choice-upload .upload-bar-container").show();c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("visibility",
"hidden");c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("height","0px")}).bind("uploadSuccess",function(l,k,o){l=JSON.parse(o);if(l.error)g(l.message);else{Pickers.audio.saveValue(c,"play",null,l.url);Pickers.audio.insertRecordingIntoLibrary(c,l.url,l.label);Pickers.audio.closeEditorAndShowPlayValue(c,l.url,true)}c.find(".audio-choice-editor .audio-choice-upload .upload-progress-bar").css("width","0px");c.find(".audio-choice-editor .audio-choice-upload .upload-bar-container").hide();
c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("visibility","visible");c.find(".audio-choice-editor .audio-choice-upload .swfupload-container").css("height","68px")}).bind("uploadProgress",function(l,k,o,f){c.find(".audio-choice-editor .audio-choice-upload .upload-progress-bar").css("width",o/f*100+"%")}).bind("uploadComplete",function(){}).bind("uploadError",function(l,k,o,f){g("Upload failed: "+f)})}},closeEditor:function(b){b.trigger("editor-close",[b]);b.find(".audio-choice-upload").is(":visible")&&
b.find(".swfupload-control").swfuploadUnload();b.find(".audio-choice-record").is(":visible")&&Pickers.audio.cancelDeviceRecordingIfActive(b);b.find("select[name=library]").attr("selectedIndex",0);Pickers.audio.hidePlayer(b,"library");b.find(".audio-choice-editor-padding").children().each(function(){$(this).hide()});b.find(".audio-choice-editor").hide()},closeEditorsAndShowSelector:function(b){b.preventDefault();b=$(this).closest(".audio-choice");Pickers.audio.closeEditor(b);b.find(".error").text("").addClass("hide");
b.find(".audio-choice-selector").show()},closeEditorAndShowSayValue:function(b,c){Pickers.audio.closeEditor(b);b.find(".audio-choice-current-value").show();b.find(".audio-choice-current-value .audio-choice-play-audio").hide();b.find(".audio-choice-current-value .audio-choice-read-text").show();b.find(".audio-choice-current-value .audio-choice-read-text").find(".read-text").text(c)},closeEditorAndShowPlayValue:function(b,c,e){Pickers.audio.closeEditor(b);b.find(".audio-choice-current-value").show();
b.find(".audio-choice-current-value .audio-choice-play-audio").show();b.find(".audio-choice-current-value .audio-choice-read-text").hide();b.find(".audio-choice-current-value .audio-choice-read-text").find(".read-text").text();Pickers.audio.showPlayer(b,"current",c,e)},showInputSelector:function(b){b.preventDefault();b=$(this).closest(".audio-choice");var c=b.find(".audio-choice-current-value");c.children().each(function(){$(this).hide()});c.hide();b.find(".audio-choice-selector").show();b.find(".audio-choice-close-button").show()},
closeSelectorAndShowCurrentValue:function(b){b.preventDefault();b=$(this).closest(".audio-choice");b.find(".audio-choice-editor").hide();b.find(".audio-choice-selector").hide();b.find(".audio-choice-current-value").show();var c=b.find("input[name$=_mode]").val();if(c=="say")b.find(".audio-choice-current-value .audio-choice-read-text").show();else c=="play"?b.find(".audio-choice-current-value .audio-choice-play-audio").show():alert("Unexpected mode: "+c)},saveReadText:function(b,c){b.preventDefault();
b=$(this).closest(".audio-choice-read-text");if($(c).length){b=$(c).closest(".audio-choice-read-text");c=$(c).closest(".audio-choice")}else c=$(this).closest(".audio-choice");if(b=b.find(".voicemail-text").val()){Pickers.audio.saveValue(c,"say",b,null);Pickers.audio.closeEditorAndShowSayValue(c,b)}}},usergroup:{picker:null,open:function(b){$(".usergroup-dialog").length>0&&$(".usergroup-dialog").remove();$("body").append($(b));$(".usergroup-dialog").dialog({bgiframe:true,resizable:false,height:480,
width:500,modal:true,title:"Choose a user or group",overlay:{backgroundColor:"#000",opacity:0.5},buttons:{Cancel:function(){$(this).dialog("close")},"Add User":Pickers.usergroup.addUser,"Add Group":Pickers.usergroup.addGroup}});$(".usergroup-dialog").dialog("open")},dialog:function(b){b.preventDefault();Pickers.usergroup.picker=b.target;$.ajax({url:OpenVBX.home+"/dialog/usergroup",cache:false,data:{barebones:1},success:function(c){Pickers.usergroup.open(c)},dataType:"html"});return false},hoverIn:function(b){$(b.target).parents("tr").addClass("hover")},
hoverOut:function(b){$(b.target).parents("tr").removeClass("hover")},select:function(b){var c=$(b.target).parents("tr"),e=c.attr("rel").replace(/^(user|group)_/,"");c=c.hasClass("user")?"user":"group";var g="";b=$(b.target).parents("tr").children("td");g=c=="user"?$(b[1]).text()+" ("+$(b[2]).text()+")":$(b[1]).text();Pickers.usergroup.setPickerValue(e,c,g)},setPickerValue:function(b,c,e){var g=$(Pickers.usergroup.picker).parents(".usergroup-container");$(g).find("p").addClass("selected-usergroup").removeClass("placeholder");
$("input.usergroup-id",g).val(b);$("input.usergroup-type",g).val(c);$(".selected-usergroup",g).text(e);$(".usergroup-dialog").dialog("close");$(g).trigger("usergroup-selected",[e,c,b])},editUser:function(b){b.preventDefault();b.stopPropagation();b=$(b.target).closest("tr").attr("rel").replace(/^user_/,"");$.postJSON("accounts/user/get",{id:b},showUserEdit);$(document).unbind("user-edited",Pickers.usergroup.userEdited);$(document).bind("user-edited",Pickers.usergroup.userEdited);return false},editGroup:function(b){b.preventDefault();
b.stopPropagation();b=$(b.target).closest("tr").attr("rel").replace(/^group_/,"");$.postJSON("accounts/group/get",{id:b},showGroupEdit);$(document).unbind("group-edited",Pickers.usergroup.groupEdited);$(document).bind("group-edited",Pickers.usergroup.groupEdited);return false},addUser:function(){showUserAdd(null);$(document).unbind("user-added",Pickers.usergroup.userAdded);$(document).bind("user-added",Pickers.usergroup.userAdded)},addGroup:function(){showGroupEdit(null);$(document).unbind("group-added",
Pickers.usergroup.groupAdded);$(document).bind("group-added",Pickers.usergroup.groupAdded)},userAdded:function(b,c){Pickers.usergroup.setPickerValue(c.id,"user",c.first_name+" "+c.last_name+" ("+c.email+")")},userEdited:function(b,c){b=$(".usergroup-dialog .users-and-groups-table tr[rel=user_"+c.id+"]").find("td");$(b[1]).text(c.first_name+" "+c.last_name);$(b[2]).text(c.email)},groupAdded:function(b,c){Pickers.usergroup.setPickerValue(c.id,"group",c.name)},groupEdited:function(b,c){b=$(".usergroup-dialog .users-and-groups-table tr[rel=group_"+
c.id+"]").find("td");$(b[1]).text(c.name)}}};
$(document).ready(function(){if($.browser.msie){$(".audio-choice-selector a").livequery("click",Pickers.audio.selectAction);$(".audio-choice-editor .audio-choice-close-button").livequery("click",Pickers.audio.closeEditorsAndShowSelector);$(".audio-choice-editor .audio-choice-read-text button[type=submit]").livequery("click",Pickers.audio.saveReadText);$(".audio-choice-current-value .change").livequery("click",Pickers.audio.showInputSelector);$(".audio-choice-selector .audio-choice-close-button").livequery("click",Pickers.audio.closeSelectorAndShowCurrentValue);
$(".audio-choice-editor .audio-choice-record button[type=submit]").livequery("click",Pickers.audio.startDeviceRecording);$(".audio-choice-editor .audio-choice-library button[type=submit]").livequery("click",Pickers.audio.setRecordingFromLibarary);$(".audio-choice-editor .swfupload-control").livequery("mouseenter",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").addClass("hover")});$(".audio-choice-editor .swfupload-control").livequery("mouseleave",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").removeClass("hover")});
$(".usergroup-picker").livequery("click",Pickers.usergroup.dialog);$(".usergroup-dialog td").livequery("mouseover",Pickers.usergroup.hoverIn).livequery("mouseout",Pickers.usergroup.hoverOut);$(".usergroup-dialog td").livequery("click",Pickers.usergroup.select);$(".usergroup-dialog a.edit-user").livequery("click",Pickers.usergroup.editUser);$(".usergroup-dialog a.edit-group").livequery("click",Pickers.usergroup.editGroup)}else{$(".audio-choice-selector a").live("click",Pickers.audio.selectAction);
$(".audio-choice-editor .audio-choice-close-button").live("click",Pickers.audio.closeEditorsAndShowSelector);$(".audio-choice-editor .audio-choice-read-text button[type=submit]").live("click",Pickers.audio.saveReadText);$(".audio-choice-current-value .change").live("click",Pickers.audio.showInputSelector);$(".audio-choice-selector .audio-choice-close-button").live("click",Pickers.audio.closeSelectorAndShowCurrentValue);$(".audio-choice-editor .audio-choice-record button[type=submit]").live("click",
Pickers.audio.startDeviceRecording);$(".audio-choice-editor .audio-choice-library button[type=submit]").live("click",Pickers.audio.setRecordingFromLibarary);$(".audio-choice-editor .swfupload-control").live("mouseenter",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").addClass("hover")});$(".audio-choice-editor .swfupload-control").live("mouseleave",function(b){$(b.target).closest(".audio-choice").find(".swfupload-container").removeClass("hover")});$(".usergroup-picker").live("click",
Pickers.usergroup.dialog);$(".usergroup-dialog td").live("mouseover",Pickers.usergroup.hoverIn).live("mouseout",Pickers.usergroup.hoverOut);$(".usergroup-dialog td").live("click",Pickers.usergroup.select);$(".usergroup-dialog a.edit-user").live("click",Pickers.usergroup.editUser);$(".usergroup-dialog a.edit-group").live("click",Pickers.usergroup.editGroup)}});var Message={};
Message.Select={select_all:function(b){$("input[type=checkbox]",b).attr("checked","checked").trigger("checked")},select_none:function(b){$("input[type=checkbox]",b).removeAttr("checked").trigger("unchecked")},select_unread:function(b){$("input[type=checkbox]",b.filter(".read")).removeAttr("checked").trigger("unchecked");$("input[type=checkbox]",b.filter(".unread")).attr("checked","checked").trigger("checked")},select_read:function(b){$("input[type=checkbox]",b.filter(".unread")).removeAttr("checked").trigger("unchecked");$("input[type=checkbox]",
b.filter(".read")).attr("checked","checked").trigger("checked")}};
Message.Detail={update:function(b,c,e){b=typeof b=="object"?b.join(","):b;$.ajax({url:OpenVBX.home+"messages/details/"+b,success:function(g){if(!g.error){e(g);$.ajax({url:OpenVBX.home+"messages/inbox",success:function(l){l.error||$.each(l.folders,function(){$(".count[rel="+this.id+"]").text(this["new"])})},type:"GET",dataType:"json"})}},error:function(){},data:c,dataType:"json",type:"POST"})},archive:function(b,c){this.update(b,{archived:true},c)},assign:function(b,c,e){this.update(b,{assigned:c},
e)}};
Message.Player={getRecordingUrls:function(b){if(Message.Player.messageIdsToRecordingURLs)return b();$.ajax({success:function(c){if(!c.error){Message.Player.messageIdsToRecordingURLs={};if("recording_url"in c)Message.Player.messageIdsToRecordingURLs[c.id]=c.recording_url+".mp3";if("messages"in c)for(var e in Message.Player.messages){var g=c.messages[e];Message.Player.messageIdsToRecordingURLs[g.id]=g.recording_url+".mp3"}Message.Player.allowPause=true;return b()}},type:"GET",dataType:"json"})},messageIdsToRecordingURLs:null,
currentSoundObject:null,currentMessageAnchor:null,lastLoadBarHandler:null,allowPause:false,nextMessageToPlayAnchor:null,togglePlayForMessage:function(b){var c=function(e){if(Message.Player.currentMessageAnchor!=null&&Message.Player.currentMessageAnchor!=e){Message.Player.nextMessageToPlayAnchor=e;Message.Player.currentSoundObject.stop()}else if(Message.Player.currentMessageAnchor!=null&&Message.Player.currentMessageAnchor==e)if(Message.Player.currentSoundObject.paused)Message.Player.currentSoundObject.resume();
else Message.Player.allowPause?Message.Player.currentSoundObject.pause():Message.Player.currentSoundObject.stop();else Message.Player.playMessage(e)};Message.Player.getRecordingUrls(function(){c(b)})},playMessage:function(b){Message.Player.currentMessageAnchor=b;b=$(b);var c=b.attr("id").replace("play-","");Message.Player.currentSoundId="message-"+c;if(!(c in Message.Player.messageIdsToRecordingURLs))throw"Unable to find the recording URL for id '"+c+"'";c=Message.Player.messageIdsToRecordingURLs[c];
b=b.closest(".message-row");var e=b.find(".playback-button"),g=b.find(".player"),l=b.find(".transcript");g=b.find(".player");var k=b.find(".load-bar"),o=b.find(".play-bar"),f=b.find(".play-time"),p=function(u,y){k.css("width","100%");o.css("width",y+"%");f.text(convertMsecsToMinutesAndSeconds(u.position))};b=function(){e.removeClass("pause").removeClass("stop").addClass("play");g.removeClass("current-player").hide();l.show();Message.Player.currentMessageAnchor=null;Message.Player.currentSoundObject.destruct();
Message.Player.currentSoundObject=null;if(Message.Player.nextMessageToPlayAnchor!=null){var u=Message.Player.nextMessageToPlayAnchor;Message.Player.nextMessageToPlayAnchor=null;Message.Player.togglePlayForMessage(u)}};Message.Player.currentSoundObject=soundManager.createSound({id:Message.Player.currentSoundId,url:c,onplay:function(){e.removeClass("play");Message.Player.allowPause?e.addClass("pause"):e.addClass("stop");g.addClass("current-player").show();l.hide()},onresume:function(){e.removeClass("play").addClass("pause")},
onpause:function(){e.removeClass("pause").addClass("play")},onstop:b,onfinish:b,onload:function(){f.html("");k.css("width","100%")},whileloading:function(){var u=Math.round(this.bytesLoaded/this.bytesTotal*100);k.css("width",u+"%")},whileplaying:function(){var u=Math.round(this.position/this.duration*100);p(this,u)}});Message.Player.currentSoundObject.play();Message.Player.lastLoadBarHandler!=null&&k.unbind("click",Message.Player.lastLoadBarHandler);Message.Player.lastLoadBarHandler=function(u){u.stopPropagation();
var y=Message.Player.currentSoundObject,C=k.offset();u=u.pageX-C.left;C=k.width();y.setPosition(u/C*y.durationEstimate);p(y,Math.round(u/C*100))};k.click(Message.Player.lastLoadBarHandler)}};
$(document).ready(function(){(function(){var c=new Date,e=(new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0)).getTime(),g=(new Date(c.getFullYear(),0,1,0,0,0)).getTime();$(".unformatted-absolute-timestamp").each(function(l,k){k=$(k);l=parseInt(k.text())*1E3;k.text(convertTimeToString(l,e,g));k.removeClass("hide")});c=function(){$(".unformatted-relative-timestamp").each(function(l,k){k=$(k);l=k.data("timestamp");if(!l){l=parseInt(k.text())*1E3;k.data("timestamp",l)}var o=(new Date).getTime(),
f=o-l,p=Math.floor(f/1E3/60);f=Math.floor(f/1E3/60/60);o>l&&o-l<36E5?k.text(f==0?p+" minutes ago":f+" hour"+(f>1?"s":"")+" ago"):k.text(convertTimeToString(l));k.removeClass("hide")})};c();setInterval(c,6E4)})();Message.Player.player=$("#audio-player");$("a.quick-play").click(function(c){c.preventDefault();Message.Player.togglePlayForMessage(this)});$(".caller-id-phone a").click(function(){var c=$(this);c.parents("ul.caller-id-phone")?c.hide().parents("ul").append('<li class="calling">Calling...</li>'):
c.hide().parent().append('<li class="calling">Calling...</li>');$.ajax({url:$(this).attr("href"),data:{callerid:$(".callerid",this).text(),from:$(".from",this).text(),to:$(".to",this).text()},dataType:"json",type:"POST",success:function(e){if(e.error){$(".error-dialog").data("dialog.uiDialog").uiDialogTitlebar.text("Twilio Sandbox");$(".error-dialog .error-code").text("");$(".error-dialog .error-message").text(e.message);$(".error-dialog").dialog("open")}$(".quick-call-popup .calling").remove();$(".quick-call-popup.open").toggleClass("open");
c.show()}});return false});$(".quick-call-popup").click(function(){return false});$(".quick-sms-popup").click(function(){return false});$(".quick-sms-popup .send-button").click(function(c){var e=$(this).parents(".quick-sms-popup");$(".sending-sms-loader").show();$.ajax({url:OpenVBX.home+"messages/sms/"+$(this).attr("rel"),data:{from:$(".from-phone",e).text(),to:$(".sms-to-phone",e).text(),content:$("input[name=content]",e).val()},success:function(g){$(".sending-sms-loader").hide();if(!g.error){$("textarea",
e).val("");$(e).hide()}},error:function(){$(".sending-sms-loader").hide()},type:"POST",dataType:"json"});c.preventDefault()});$(".message-row").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});$(".message-row td").mousedown(function(){$(".message-row").removeClass("clicked");$(this).parent().addClass("mousedown")});$("body").mouseup(function(){$(".message-row").removeClass("mousedown")});$(".message-row td.message-details-link").click(function(){$(this).parent().addClass("clicked");
document.location=OpenVBX.home+"messages/details/"+$(this).parent().attr("rel")});$(".select").click(function(){var c=$(this).attr("class").replace("select ","").replace("-","_");c=Message.Select[c]||function(){};c($(".message-row"));$(".dropdown-select-button").parent().children("ul.open").toggleClass("open");return false});$("input[type=checkbox]").change(function(){this.checked?$(this).trigger("checked"):$(this).trigger("unchecked")});$(".message-select input[type=checkbox]").bind("checked",function(){$(this).parent().parent().addClass("checked")}).bind("unchecked",
function(){$(this).parent().parent().removeClass("checked")});$(".assign-button").buttonista({menu:".assign-to-popup"});$(".assign-button").click(function(c){var e=$(this).parent().children(".assign-to-popup");e.top($(this).top()-1);e.right($(this).right()+5);var g=$(document).scrollTop(),l=$(document).scrollTop()+$(window).height();e.top()<g&&e.top(g+10);e.bottom()>l&&e.bottom(l-10);c.preventDefault()});$(".quick-call-button").buttonista({menu:".quick-call-popup"});$(".quick-sms-button").buttonista({menu:".quick-sms-popup",
toggler:".sms-toggler"});var b=function(){var c=$(this).val().length;$(this).parents(".quick-sms-popup, #reply-sms").children(".count").text(160-c)};$(".quick-sms-popup input[name=content]").live("keypress",b);$(".quick-sms-popup input[name=content]").keypress();$("#reply-sms textarea").live("keypress",b);$("#reply-sms textarea").live("change",b);$("#reply-sms textarea").keypress();$("#reply-sms .submit-button").click(function(c){c.preventDefault();$("#reply-sms button").attr("disabled","disabled");
$("#reply-sms .loader").show();$.ajax({url:$("#reply-sms").attr("action"),data:$("#reply-sms"),success:function(){$("#reply-sms .loader").hide();$.notify("SMS sent");$("#reply-sms textarea").val("");$("#reply-sms .submit-button").removeAttr("disabled").flicker()},type:"POST",dataType:"json"});return false});$(".dropdown-select-button").buttonista();$(".delete-button").click(function(){if($(".delete-button").attr("id").match("delete-")){c=$(this).attr("id").replace("delete-","");Message.Detail.archive(c,
function(){$(".delete-button span").text("Deleted")})}else{var c=[];$("input[name^=message]:checked").each(function(){c.push($(this).val())});if(!c.length)return;Message.Detail.archive(c,function(){for(var e in c)$("tr[rel="+c[e]+"]").remove();$.notify("Deleted "+c.length+" message"+(c.length>1?"s":""))})}return false});$(".assign-user-list .user a").live("click",function(c){c.preventDefault();var e=$(this),g;g=(c=e.text().match(/\((..)\)$/))?c[1]:"";Message.Detail.assign($(this).parents("tr").attr("rel"),
$(this).attr("rel"),function(){e.parents("ul").find("li").removeClass("assigned");e.parent().addClass("assigned");e.parents("td").find(".owner-name").text(g);e.parents(".assign-to-popup").removeClass("open")})});$("#save-details").click(function(){$("#message-details").submit()})});$(document).ready(function(){OpenVBX.version={check:function(b){b&&!b.error&&$.notify("OpenVBX Update is available","http://openvbx.org/download");$.cookie("last-update",true,{expires:1,path:"/"})}};$.cookie("last-update")||$.getJSON(OpenVBX.home+"/client/updates",OpenVBX.version.check)});
